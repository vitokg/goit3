!function e(t,n,r){function a(i,o){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!o&&c)return c(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return a(n?n:e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t,n){!function(e){!function(r){function a(e){throw RangeError(T[e])}function s(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function i(e,t){return s(e.split(I),t).join(".")}function o(e){for(var t,n,r=[],a=0,s=e.length;s>a;)t=e.charCodeAt(a++),t>=55296&&56319>=t&&s>a?(n=e.charCodeAt(a++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(55296|1023&e>>>10),e=56320|1023&e),t+=O(e)}).join("")}function l(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function d(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function u(e,t,n){var r=0;for(e=n?E(e/S):e>>1,e+=E(e/t);e>R*A>>1;r+=x)e=E(e/R);return E(r+(R+1)*e/(e+j))}function f(e){var t,n,r,s,i,o,d,f,p,h,v=[],m=e.length,y=0,b=z,g=C;for(n=e.lastIndexOf(M),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&a("not-basic"),v.push(e.charCodeAt(r));for(s=n>0?n+1:0;m>s;){for(i=y,o=1,d=x;s>=m&&a("invalid-input"),f=l(e.charCodeAt(s++)),(f>=x||f>E((_-y)/o))&&a("overflow"),y+=f*o,p=g>=d?k:d>=g+A?A:d-g,!(p>f);d+=x)h=x-p,o>E(_/h)&&a("overflow"),o*=h;t=v.length+1,g=u(y-i,t,0==i),E(y/t)>_-b&&a("overflow"),b+=E(y/t),y%=t,v.splice(y++,0,b)}return c(v)}function p(e){var t,n,r,s,i,c,l,f,p,h,v,m,y,b,g,w=[];for(e=o(e),m=e.length,t=z,n=0,i=C,c=0;m>c;++c)v=e[c],128>v&&w.push(O(v));for(r=s=w.length,s&&w.push(M);m>r;){for(l=_,c=0;m>c;++c)v=e[c],v>=t&&l>v&&(l=v);for(y=r+1,l-t>E((_-n)/y)&&a("overflow"),n+=(l-t)*y,t=l,c=0;m>c;++c)if(v=e[c],t>v&&++n>_&&a("overflow"),v==t){for(f=n,p=x;h=i>=p?k:p>=i+A?A:p-i,!(h>f);p+=x)g=f-h,b=x-h,w.push(O(d(h+g%b,0))),f=E(g/b);w.push(O(d(f,0))),i=u(n,y,r==s),n=0,++r}++n,++t}return w.join("")}function h(e){return i(e,function(e){return D.test(e)?f(e.slice(4).toLowerCase()):e})}function v(e){return i(e,function(e){return P.test(e)?"xn--"+p(e):e})}var m="object"==typeof n&&n,y="object"==typeof t&&t&&t.exports==m&&t,b="object"==typeof e&&e;(b.global===b||b.window===b)&&(r=b);var g,w,_=2147483647,x=36,k=1,A=26,j=38,S=700,C=72,z=128,M="-",D=/^xn--/,P=/[^ -~]/,I=/\x2E|\u3002|\uFF0E|\uFF61/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=x-k,E=Math.floor,O=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:o,encode:c},decode:f,encode:p,toASCII:v,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(m&&!m.nodeType)if(y)y.exports=g;else for(w in g)g.hasOwnProperty(w)&&(m[w]=g[w]);else r.punycode=g}(this)}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,a,s){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var d=0;l>d;++d){var u,f,p,h,v=e[d].replace(o,"%20"),m=v.indexOf(a);m>=0?(u=v.substr(0,m),f=v.substr(m+1)):(u=v,f=""),p=decodeURIComponent(u),h=decodeURIComponent(f),n(i,p)?r(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,o){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var o=encodeURIComponent(r(s))+i;return a(e[s])?n(e[s],function(e){return o+encodeURIComponent(r(e))}).join(t):o+encodeURIComponent(r(e[s]))}).join(t):o?encodeURIComponent(r(o))+i+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],5:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":3,"./encode":4}],6:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,n){if(e&&l(e)&&e instanceof r)return e;var a=new r;return a.parse(e,t,n),a}function s(e){return c(e)&&(e=a(e)),e instanceof r?e.format():r.prototype.format.call(e)}function i(e,t){return a(e,!1,!0).resolve(t)}function o(e,t){return e?a(e,!1,!0).resolveObject(t):t}function c(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function d(e){return null===e}function u(e){return null==e}var f=e("punycode");n.parse=a,n.resolve=i,n.resolveObject=o,n.format=s,n.Url=r;var p=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(v),y=["'"].concat(m),b=["%","/","?",";","#"].concat(y),g=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=e("querystring");r.prototype.parse=function(e,t,n){if(!c(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var a=p.exec(r);if(a){a=a[0];var s=a.toLowerCase();this.protocol=s,r=r.substr(a.length)}if(n||a||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var i="//"===r.substr(0,2);!i||a&&A[a]||(r=r.substr(2),this.slashes=!0)}if(!A[a]&&(i||a&&!j[a])){for(var o=-1,l=0;l<g.length;l++){var d=r.indexOf(g[l]);-1!==d&&(-1===o||o>d)&&(o=d)}var u,h;h=-1===o?r.lastIndexOf("@"):r.lastIndexOf("@",o),-1!==h&&(u=r.slice(0,h),r=r.slice(h+1),this.auth=decodeURIComponent(u)),o=-1;for(var l=0;l<b.length;l++){var d=r.indexOf(b[l]);-1!==d&&(-1===o||o>d)&&(o=d)}-1===o&&(o=r.length),this.host=r.slice(0,o),r=r.slice(o),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),l=0,C=m.length;C>l;l++){var z=m[l];if(z&&!z.match(_)){for(var M="",D=0,P=z.length;P>D;D++)M+=z.charCodeAt(D)>127?"x":z[D];if(!M.match(_)){var I=m.slice(0,l),T=m.slice(l+1),R=z.match(x);R&&(I.push(R[1]),T.unshift(R[2])),T.length&&(r="/"+T.join(".")+r),this.hostname=I.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!v){for(var E=this.hostname.split("."),O=[],l=0;l<E.length;++l){var q=E[l];O.push(q.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(q):q)}this.hostname=O.join(".")}var L=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+L,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!k[s])for(var l=0,C=y.length;C>l;l++){var N=y[l],U=encodeURIComponent(N);U===N&&(U=escape(N)),r=r.split(N).join(U)}var V=r.indexOf("#");-1!==V&&(this.hash=r.substr(V),r=r.slice(0,V));var $=r.indexOf("?");if(-1!==$?(this.search=r.substr($),this.query=r.substr($+1),t&&(this.query=S.parse(this.query)),r=r.slice(0,$)):t&&(this.search="",this.query={}),r&&(this.pathname=r),j[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",q=this.search||"";this.path=L+q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(s=S.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||j[t])&&a!==!1?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+a+n+i+r},r.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),j[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!j[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||A[e.protocol])n.pathname=e.pathname;else{for(var a=(e.pathname||"").split("/");a.length&&!(e.host=a.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==a[0]&&a.unshift(""),a.length<2&&a.unshift(""),n.pathname=a.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var s=n.pathname||"",i=n.search||"";n.path=s+i}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var o=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),f=l||o||n.host&&e.pathname,p=f,h=n.pathname&&n.pathname.split("/")||[],a=e.pathname&&e.pathname.split("/")||[],v=n.protocol&&!j[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===a[0]?a[0]=e.host:a.unshift(e.host)),e.host=null),f=f&&(""===a[0]||""===h[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=a;else if(a.length)h||(h=[]),h.pop(),h=h.concat(a),n.search=e.search,n.query=e.query;else if(!u(e.search)){if(v){n.hostname=n.host=h.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,d(n.pathname)&&d(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var y=h.slice(-1)[0],b=(n.host||e.host)&&("."===y||".."===y)||""===y,g=0,w=h.length;w>=0;w--)y=h[w],"."==y?h.splice(w,1):".."===y?(h.splice(w,1),g++):g&&(h.splice(w,1),g--);if(!f&&!p)for(;g--;g)h.unshift("..");!f||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),b&&"/"!==h.join("/").substr(-1)&&h.push("");var _=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(v){n.hostname=n.host=_?"":h.length?h.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return f=f||n.host&&h.length,f&&!_&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),d(n.pathname)&&d(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:2,querystring:5}],7:[function(e,t){"use strict";function n(e){function t(e){return null===l?(u.push(e),void 0):(s(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return(l?e.resolve:e.reject)(d),void 0;var n;try{n=t(d)}catch(r){return e.reject(r),void 0}e.resolve(n)}),void 0)}function i(e){try{if(e===f)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return a(t.bind(e),i,o),void 0}l=!0,d=e,c()}catch(n){o(n)}}function o(e){l=!1,d=e,c()}function c(){for(var e=0,n=u.length;n>e;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,d=null,u=[],f=this;this.then=function(e,a){return new n(function(n,s){t(new r(e,a,n,s))})},a(e,i,o)}function r(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(a){if(r)return;r=!0,n(a)}}var s=e("asap");t.exports=n},{asap:9}],8:[function(e,t){"use strict";function n(e){this.then=function(t){return"function"!=typeof t?this:new r(function(n,r){a(function(){try{n(t(e))}catch(a){r(a)}})})}}var r=e("./core.js"),a=e("asap");t.exports=r,n.prototype=Object.create(r.prototype);var s=new n(!0),i=new n(!1),o=new n(null),c=new n(void 0),l=new n(0),d=new n("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return o;if(void 0===e)return c;if(e===!0)return s;if(e===!1)return i;if(0===e)return l;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(a){return new r(function(e,t){t(a)})}return new n(e)},r.from=r.cast=function(e){var t=new Error("Promise.from and Promise.cast are deprecated, use Promise.resolve instead");return t.name="Warning",console.warn(t.stack),r.resolve(e)},r.denodeify=function(e,t){return t=t||1/0,function(){var n=this,a=Array.prototype.slice.call(arguments);return new r(function(r,s){for(;a.length&&a.length>t;)a.pop();a.push(function(e,t){e?s(e):r(t)}),e.apply(n,a)})}},r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null;try{return e.apply(this,arguments).nodeify(n)}catch(s){if(null===n||"undefined"==typeof n)return new r(function(e,t){t(s)});a(function(){n(s)})}}},r.all=function(){var e=1===arguments.length&&Array.isArray(arguments[0]),t=Array.prototype.slice.call(e?arguments[0]:arguments);if(!e){var n=new Error("Promise.all should be called with a single array, calling it with multiple arguments is deprecated");n.name="Warning",console.warn(n.stack)}return new r(function(e,n){function r(s,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var o=i.then;if("function"==typeof o)return o.call(i,function(e){r(s,e)},n),void 0}t[s]=i,0===--a&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var a=t.length,s=0;s<t.length;s++)r(s,t[s])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(e){a(function(){throw e})})},r.prototype.nodeify=function(e){return"function"!=typeof e?this:(this.then(function(t){a(function(){e(null,t)})},function(t){a(function(){e(t)})}),void 0)},r.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":7,asap:9}],9:[function(e,t){!function(e){function n(){for(;a.next;){a=a.next;var e=a.task;a.task=void 0;var t=a.domain;t&&(a.domain=void 0,t.enter());try{e()}catch(r){if(c)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),r;setTimeout(function(){throw r},0)}t&&t.exit()}i=!1}function r(t){s=s.next={task:t,domain:c&&e.domain,next:null},i||(i=!0,o())}var a={task:void 0,next:null},s=a,i=!1,o=void 0,c=!1;if("undefined"!=typeof e&&e.nextTick)c=!0,o=function(){e.nextTick(n)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=n,o=function(){l.port2.postMessage(0)}}else o=function(){setTimeout(n,0)};t.exports=r}.call(this,e("V9BbaE"))},{V9BbaE:1}],10:[function(e,t){!function(){"use strict";function n(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];return new h(function(e,r){var a=v.open(n.name,n.version);a.onerror=function(){r(a.error)},a.onupgradeneeded=function(){a.result.createObjectStore(n.storeName)},a.onsuccess=function(){n.db=a.result,t._dbInfo=n,e()}})}function r(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new h(function(t,r){n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName),i=s.get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),t(e)},i.onerror=function(){r(i.error)}}).catch(r)});return f(r,t),r}function a(e,t){var n=this,r=new h(function(t,r){n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName),i=s.openCursor(),o=1;i.onsuccess=function(){var n=i.result;if(n){var r=e(n.value,n.key,o++);void 0!==r?t(r):n.continue()}else t()},i.onerror=function(){r(i.error)}}).catch(r)});return f(r,t),r}function s(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new h(function(n,a){r.ready().then(function(){var s=r._dbInfo,i=s.db.transaction(s.storeName,"readwrite"),o=i.objectStore(s.storeName);null===t&&(t=void 0);var c=o.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){a(c.error)}}).catch(a)});return f(a,n),a}function i(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new h(function(t,r){n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readwrite"),i=s.objectStore(a.storeName),o=i.delete(e);s.oncomplete=function(){t()},s.onerror=function(){r(o.error)},s.onabort=function(e){var t=e.target.error;"QuotaExceededError"===t&&r(t)}}).catch(r)});return f(r,t),r}function o(e){var t=this,n=new h(function(e,n){t.ready().then(function(){var r=t._dbInfo,a=r.db.transaction(r.storeName,"readwrite"),s=a.objectStore(r.storeName),i=s.clear();a.oncomplete=function(){e()},a.onabort=a.onerror=function(){n(i.error)}}).catch(n)});return f(n,e),n}function c(e){var t=this,n=new h(function(e,n){t.ready().then(function(){var r=t._dbInfo,a=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=a.count();s.onsuccess=function(){e(s.result)},s.onerror=function(){n(s.error)}}).catch(n)});return u(n,e),n}function l(e,t){var n=this,r=new h(function(t,r){return 0>e?(t(null),void 0):(n.ready().then(function(){var a=n._dbInfo,s=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName),i=!1,o=s.openCursor();o.onsuccess=function(){var n=o.result;return n?(0===e?t(n.key):i?t(n.key):(i=!0,n.advance(e)),void 0):(t(null),void 0)},o.onerror=function(){r(o.error)}}).catch(r),void 0)});return u(r,t),r}function d(e){var t=this,n=new h(function(e,n){t.ready().then(function(){var r=t._dbInfo,a=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=a.openCursor(),i=[];s.onsuccess=function(){var t=s.result;return t?(i.push(t.key),t.continue(),void 0):(e(i),void 0)},s.onerror=function(){n(s.error)}}).catch(n)});return u(n,e),n}function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function f(e,t){t&&e.then(function(e){p(t,e)},function(e){t(e)})}function p(e,t){return e?setTimeout(function(){return e(null,t)},0):void 0}var h="undefined"!=typeof t&&t.exports?e("promise"):this.Promise,v=v||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(v){var m={_driver:"asyncStorage",_initStorage:n,iterate:a,getItem:r,setItem:s,removeItem:i,clear:o,length:c,key:l,keys:d};"undefined"!=typeof t&&t.exports?t.exports=m:"function"==typeof define&&define.amd?define("asyncStorage",function(){return m}):this.asyncStorage=m}}.call(window)},{promise:8}],11:[function(e,t){!function(){"use strict";function n(t){var n=this,r={};if(t)for(var a in t)r[a]=t[a];r.keyPrefix=r.name+"/",n._dbInfo=r;var s=new f(function(t){b===y.DEFINE?e(["localforageSerializer"],t):b===y.EXPORT?t(e("./../utils/serializer")):t(p.localforageSerializer)});return s.then(function(e){return h=e,f.resolve()})}function r(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=v.length-1;n>=0;n--){var r=v.key(n);0===r.indexOf(e)&&v.removeItem(r)}});return u(n,e),n}function a(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo,r=v.getItem(t.keyPrefix+e);return r&&(r=h.deserialize(r)),r});return u(r,t),r}function s(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo.keyPrefix,r=t.length,a=v.length,s=0;a>s;s++){var i=v.key(s),o=v.getItem(i);if(o&&(o=h.deserialize(o)),o=e(o,i.substring(r),s+1),void 0!==o)return o}});return u(r,t),r}function i(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=v.key(e)}catch(a){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return u(r,t),r}function o(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=v.length,r=[],a=0;n>a;a++)0===v.key(a).indexOf(e.keyPrefix)&&r.push(v.key(a).substring(e.keyPrefix.length));return r});return u(n,e),n}function c(e){var t=this,n=t.keys().then(function(e){return e.length});return u(n,e),n}function l(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=n.ready().then(function(){var t=n._dbInfo;v.removeItem(t.keyPrefix+e)});return u(r,t),r}function d(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new f(function(a,s){h.serialize(t,function(t,i){if(i)s(i);else try{var o=r._dbInfo;v.setItem(o.keyPrefix+e,t),a(n)}catch(c){("QuotaExceededError"===c.name||"NS_ERROR_DOM_QUOTA_REACHED"===c.name)&&s(c),s(c)}})})});return u(a,n),a}function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var f="undefined"!=typeof t&&t.exports?e("promise"):this.Promise,p=this,h=null,v=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;v=this.localStorage}catch(m){return}var y={DEFINE:1,EXPORT:2,WINDOW:3},b=y.WINDOW;"undefined"!=typeof t&&t.exports?b=y.EXPORT:"function"==typeof define&&define.amd&&(b=y.DEFINE);var g={_driver:"localStorageWrapper",_initStorage:n,iterate:s,getItem:a,setItem:d,removeItem:l,clear:r,length:c,key:i,keys:o};b===y.EXPORT?t.exports=g:b===y.DEFINE?define("localStorageWrapper",function(){return g}):this.localStorageWrapper=g}.call(window)},{"./../utils/serializer":14,promise:8}],12:[function(e,t){!function(){"use strict";function n(t){var n=this,r={db:null};if(t)for(var a in t)r[a]="string"!=typeof t[a]?t[a].toString():t[a];var s=new f(function(t){y===m.DEFINE?e(["localforageSerializer"],t):y===m.EXPORT?t(e("./../utils/serializer")):t(p.localforageSerializer)}),i=new f(function(e,a){try{r.db=v(r.name,String(r.version),r.description,r.size)}catch(s){return n.setDriver(n.LOCALSTORAGE).then(function(){return n._initStorage(t)}).then(e).catch(a)}r.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){n._dbInfo=r,e()},function(e,t){a(t)})})});return s.then(function(e){return h=e,i})}function r(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new f(function(t,r){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(n){n.executeSql("SELECT * FROM "+a.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=h.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function a(e,t){var n=this,r=new f(function(t,r){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(n){n.executeSql("SELECT * FROM "+a.storeName,[],function(n,r){for(var a=r.rows,s=a.length,i=0;s>i;i++){var o=a.item(i),c=o.value;if(c&&(c=h.deserialize(c)),c=e(c,o.key,i+1),void 0!==c)return t(c),void 0}t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function s(e,t,n){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new f(function(n,a){r.ready().then(function(){void 0===t&&(t=null);var s=t;h.serialize(t,function(t,i){if(i)a(i);else{var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+o.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){n(s)},function(e,t){a(t)})},function(e){e.code===e.QUOTA_ERR&&a(e)})}})}).catch(a)});return u(a,n),a}function i(e,t){var n=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new f(function(t,r){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(n){n.executeSql("DELETE FROM "+a.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function o(e){var t=this,n=new f(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function c(e){var t=this,n=new f(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function l(e,t){var n=this,r=new f(function(t,r){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(n){n.executeSql("SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function d(e){var t=this,n=new f(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],a=0;a<n.rows.length;a++)r.push(n.rows.item(a).key);e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var f="undefined"!=typeof t&&t.exports?e("promise"):this.Promise,p=this,h=null,v=this.openDatabase;if(v){var m={DEFINE:1,EXPORT:2,WINDOW:3},y=m.WINDOW;"undefined"!=typeof t&&t.exports?y=m.EXPORT:"function"==typeof define&&define.amd&&(y=m.DEFINE);var b={_driver:"webSQLStorage",_initStorage:n,iterate:a,getItem:r,setItem:s,removeItem:i,clear:o,length:c,key:l,keys:d};y===m.DEFINE?define("webSQLStorage",function(){return b}):y===m.EXPORT?t.exports=b:this.webSQLStorage=b}}.call(window)},{"./../utils/serializer":14,promise:8}],13:[function(e,t){!function(){"use strict";function n(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function r(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=v(t[n])?t[n].slice():t[n])}return arguments[0]}function a(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t]===e)return!0;return!1}function s(e){this._config=r({},f,e),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var t=0;t<d.length;t++)n(this,d[t]);this.setDriver(this._config.driver)}var i="undefined"!=typeof t&&t.exports?e("promise"):this.Promise,o={},c={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},l=[c.INDEXEDDB,c.WEBSQL,c.LOCALSTORAGE],d=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],u={DEFINE:1,EXPORT:2,WINDOW:3},f={description:"",driver:l.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},p=u.WINDOW;"undefined"!=typeof t&&t.exports?p=u.EXPORT:"function"==typeof define&&define.amd&&(p=u.DEFINE);var h=function(e){var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB,n={};return n[c.WEBSQL]=!!e.openDatabase,n[c.INDEXEDDB]=!!function(){if("undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent))return!1;try{return t&&"function"==typeof t.open&&"undefined"!=typeof e.IDBKeyRange}catch(n){return!1}}(),n[c.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(t){return!1}}(),n}(this),v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=this;s.prototype.INDEXEDDB=c.INDEXEDDB,s.prototype.LOCALSTORAGE=c.LOCALSTORAGE,s.prototype.WEBSQL=c.WEBSQL,s.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},s.prototype.defineDriver=function(e,t,n){var r=new i(function(t,n){try{var r=e._driver,s=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),c=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return n(s),void 0;if(a(e._driver))return n(c),void 0;for(var l=d.concat("_initStorage"),u=0;u<l.length;u++){var f=l[u];if(!f||!e[f]||"function"!=typeof e[f])return n(s),void 0}var p=i.resolve(!0);"_support"in e&&(p=e._support&&"function"==typeof e._support?e._support():i.resolve(!!e._support)),p.then(function(n){h[r]=n,o[r]=e,t()},n)}catch(v){n(v)}});return r.then(t,n),r},s.prototype.driver=function(){return this._driver||null},s.prototype.ready=function(e){var t=this,n=new i(function(e,n){t._driverSet.then(function(){null===t._ready&&(t._ready=t._initStorage(t._config)),t._ready.then(e,n)}).catch(n)});return n.then(e,e),n},s.prototype.setDriver=function(t,n,r){function s(){c._config.driver=c.driver()}var c=this;return"string"==typeof t&&(t=[t]),this._driverSet=new i(function(n,r){var s=c._getFirstSupportedDriver(t),l=new Error("No available storage method found.");if(!s)return c._driverSet=i.reject(l),r(l),void 0;if(c._dbInfo=null,c._ready=null,a(s)){if(p===u.DEFINE)return e([s],function(e){c._extend(e),n()}),void 0;if(p===u.EXPORT){var d;switch(s){case c.INDEXEDDB:d=e("./drivers/indexeddb");break;case c.LOCALSTORAGE:d=e("./drivers/localstorage");break;case c.WEBSQL:d=e("./drivers/websql")}c._extend(d)}else c._extend(m[s])}else{if(!o[s])return c._driverSet=i.reject(l),r(l),void 0;c._extend(o[s])}n()}),this._driverSet.then(s,s),this._driverSet.then(n,r),this._driverSet},s.prototype.supports=function(e){return!!h[e]},s.prototype._extend=function(e){r(this,e)},s.prototype._getFirstSupportedDriver=function(e){if(e&&v(e))for(var t=0;t<e.length;t++){var n=e[t];if(this.supports(n))return n}return null},s.prototype.createInstance=function(e){return new s(e)
};var y=new s;p===u.DEFINE?define("localforage",function(){return y}):p===u.EXPORT?t.exports=y:this.localforage=y}.call(window)},{"./drivers/indexeddb":10,"./drivers/localstorage":11,"./drivers/websql":12,promise:8}],14:[function(e,t){!function(){"use strict";function e(e,t){var n="";if(e&&(n=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,s=i;e instanceof ArrayBuffer?(r=e,s+=c):(r=e.buffer,"[object Int8Array]"===n?s+=d:"[object Uint8Array]"===n?s+=u:"[object Uint8ClampedArray]"===n?s+=f:"[object Int16Array]"===n?s+=p:"[object Uint16Array]"===n?s+=v:"[object Int32Array]"===n?s+=h:"[object Uint32Array]"===n?s+=m:"[object Float32Array]"===n?s+=y:"[object Float64Array]"===n?s+=b:t(new Error("Failed to get type for BinaryArray"))),t(s+a(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var e=a(this.result);t(i+l+e)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(g){window.console.error("Couldn't convert value into a JSON string: ",e),t(null,g)}}function n(e){if(e.substring(0,o)!==i)return JSON.parse(e);var t=e.substring(g),n=e.substring(o,g),a=r(t);switch(n){case c:return a;case l:return new Blob([a]);case d:return new Int8Array(a);case u:return new Uint8Array(a);case f:return new Uint8ClampedArray(a);case p:return new Int16Array(a);case v:return new Uint16Array(a);case h:return new Int32Array(a);case m:return new Uint32Array(a);case y:return new Float32Array(a);case b:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}function r(e){var t,n,r,a,i,o=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var d=new ArrayBuffer(o),u=new Uint8Array(d);for(t=0;c>t;t+=4)n=s.indexOf(e[t]),r=s.indexOf(e[t+1]),a=s.indexOf(e[t+2]),i=s.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|a>>2,u[l++]=(3&a)<<6|63&i;return d}function a(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=s[n[t]>>2],r+=s[(3&n[t])<<4|n[t+1]>>4],r+=s[(15&n[t+1])<<2|n[t+2]>>6],r+=s[63&n[t+2]];return 2===n.length%3?r=r.substring(0,r.length-1)+"=":1===n.length%3&&(r=r.substring(0,r.length-2)+"=="),r}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="__lfsc__:",o=i.length,c="arbf",l="blob",d="si08",u="ui08",f="uic8",p="si16",h="si32",v="ur16",m="ui32",y="fl32",b="fl64",g=o+c.length,w={serialize:e,deserialize:n,stringToBuffer:r,bufferToString:a};"undefined"!=typeof t&&t.exports?t.exports=w:"function"==typeof define&&define.amd?define("localforageSerializer",function(){return w}):this.localforageSerializer=w}.call(window)},{}],15:[function(e,t){!function(){"use strict";var e="undefined"!=typeof t&&t.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,s={};a>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)s[n[0][r]]=e[r];return s}return!1}(),a={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:r};return r?(Object.defineProperties(a,{isFullscreen:{get:function(){return!!document[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[r.fullscreenEnabled]}}}),document.addEventListener(r.fullscreenchange,function(e){a.onchange.call(a,e)}),document.addEventListener(r.fullscreenerror,function(e){a.onerror.call(a,e)}),e?t.exports=a:window.screenfull=a,void 0):(e?t.exports=!1:window.screenfull=!1,void 0)}()},{}],16:[function(e,t){!function(){"use strict";var e,n=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),r=function(e,t){var r,a,s,i,o,c;if(window.getComputedStyle?r=window.getComputedStyle(e,null).getPropertyValue(t):(a=n(t),r=e.currentStyle?e.currentStyle[a]:e.style[a]),"cursor"===t&&(!r||"auto"===r))for(s=e.tagName.toLowerCase(),i=["a"],o=0,c=i.length;c>o;o++)if(s===i[o])return"pointer";return r},a=function(e){if(m.prototype._singleton){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),m.prototype._singleton.setCurrent(t)}},s=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},i=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},o=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",a=e.className,s=0,i=n.length;i>s;s++)r.indexOf(" "+n[s]+" ")<0&&(a+=" "+n[s]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},c=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),a=0,s=n.length;s>a;a++)r=r.replace(" "+n[a]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},l=function(){var e,t,n,r=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(100*(t/n))/100),r},d=function(e){var t={left:0,top:0,width:0,height:0,zIndex:999999999},n=r(e,"z-index");if(n&&"auto"!==n&&(t.zIndex=parseInt(n,10)),e.getBoundingClientRect){var a,s,i,o=e.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(a=window.pageXOffset,s=window.pageYOffset):(i=l(),a=Math.round(document.documentElement.scrollLeft/i),s=Math.round(document.documentElement.scrollTop/i));var c=document.documentElement.clientLeft||0,d=document.documentElement.clientTop||0;t.left=o.left+a-c,t.top=o.top+s-d,t.width="width"in o?o.width:o.right-o.left,t.height="height"in o?o.height:o.bottom-o.top}return t},u=function(e,t){var n=!(t&&t.useNoCache===!1);return n?(-1===e.indexOf("?")?"?":"&")+"nocache="+(new Date).getTime():""},f=function(e){var t=[],n=[];return e.trustedOrigins&&("string"==typeof e.trustedOrigins?n.push(e.trustedOrigins):"object"==typeof e.trustedOrigins&&"length"in e.trustedOrigins&&(n=n.concat(e.trustedOrigins))),e.trustedDomains&&("string"==typeof e.trustedDomains?n.push(e.trustedDomains):"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(n=n.concat(e.trustedDomains))),n.length&&t.push("trustedOrigins="+encodeURIComponent(n.join(","))),"string"==typeof e.amdModuleId&&e.amdModuleId&&t.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),"string"==typeof e.cjsModuleId&&e.cjsModuleId&&t.push("cjsModuleId="+encodeURIComponent(e.cjsModuleId)),t.join("&")},p=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},h=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},v=function(e,t,n,r,a){a?window.setTimeout(function(){e.call(t,n,r)},0):e.call(t,n,r)},m=function(e,t){if(e&&(m.prototype._singleton||this).glue(e),m.prototype._singleton)return m.prototype._singleton;m.prototype._singleton=this,this.options={};for(var n in g)this.options[n]=g[n];for(var r in t)this.options[r]=t[r];this.handlers={},m.detectFlashSupport()&&x()},y=[];m.prototype.setCurrent=function(t){e=t,this.reposition();var n=t.getAttribute("title");n&&this.setTitle(n);var a=this.options.forceHandCursor===!0||"pointer"===r(t,"cursor");return b.call(this,a),this},m.prototype.setText=function(e){return e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e)),this},m.prototype.setTitle=function(e){return e&&""!==e&&this.htmlBridge.setAttribute("title",e),this},m.prototype.setSize=function(e,t){return this.ready()&&this.flashBridge.setSize(e,t),this},m.prototype.setHandCursor=function(e){return e="boolean"==typeof e?e:!!e,b.call(this,e),this.options.forceHandCursor=e,this};var b=function(e){this.ready()&&this.flashBridge.setHandCursor(e)};m.version="1.2.3";var g={moviePath:"ZeroClipboard.swf",trustedOrigins:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};m.setDefaults=function(e){for(var t in e)g[t]=e[t]},m.destroy=function(){m.prototype._singleton.unglue(y);var e=m.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete m.prototype._singleton},m.detectFlashSupport=function(){var e=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}return!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0),e};var w=null,_=null,x=function(){var e,t,n=m.prototype._singleton,r=document.getElementById("global-zeroclipboard-html-bridge");if(!r){var a={};for(var s in n.options)a[s]=n.options[s];a.amdModuleId=w,a.cjsModuleId=_;var i=f(a),o='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+n.options.moviePath+u(n.options.moviePath,n.options)+'"/>         <param name="allowScriptAccess" value="'+n.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+i+'"/>         <embed src="'+n.options.moviePath+u(n.options.moviePath,n.options)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+i+'"           scale="exactfit">         </embed>       </object>';r=document.createElement("div"),r.id="global-zeroclipboard-html-bridge",r.setAttribute("class","global-zeroclipboard-container"),r.setAttribute("data-clipboard-ready",!1),r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.width="15px",r.style.height="15px",r.style.zIndex="9999",r.innerHTML=o,document.body.appendChild(r)}n.htmlBridge=r,e=document["global-zeroclipboard-flash-bridge"],e&&(t=e.length)&&(e=e[t-1]),n.flashBridge=e||r.children[0].lastElementChild};m.prototype.resetBridge=function(){return this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),c(e,this.options.activeClass),e=null,this.options.text=null,this},m.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||e===!0},m.prototype.reposition=function(){if(!e)return!1;var t=d(e);return this.htmlBridge.style.top=t.top+"px",this.htmlBridge.style.left=t.left+"px",this.htmlBridge.style.width=t.width+"px",this.htmlBridge.style.height=t.height+"px",this.htmlBridge.style.zIndex=t.zIndex+1,this.setSize(t.width,t.height),this},m.dispatch=function(e,t){m.prototype._singleton.receiveEvent(e,t)},m.prototype.on=function(e,t){for(var n=e.toString().split(/\s/g),r=0;r<n.length;r++)e=n[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);return this.handlers.noflash&&!m.detectFlashSupport()&&this.receiveEvent("onNoFlash",null),this},m.prototype.addEventListener=m.prototype.on,m.prototype.off=function(e,t){for(var n=e.toString().split(/\s/g),r=0;r<n.length;r++){e=n[r].toLowerCase().replace(/^on/,"");for(var a in this.handlers)a===e&&this.handlers[a]===t&&delete this.handlers[a]}return this},m.prototype.removeEventListener=m.prototype.off,m.prototype.receiveEvent=function(t,n){t=t.toString().toLowerCase().replace(/^on/,"");var r=e,a=!0;switch(t){case"load":if(n&&parseFloat(n.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return this.receiveEvent("onWrongFlash",{flashVersion:n.flashVersion}),void 0;this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":o(r,this.options.hoverClass);break;case"mouseout":c(r,this.options.hoverClass),this.resetBridge();break;case"mousedown":o(r,this.options.activeClass);break;case"mouseup":c(r,this.options.activeClass);break;case"datarequested":var s=r.getAttribute("data-clipboard-target"),i=s?document.getElementById(s):null;if(i){var l=i.value||i.textContent||i.innerText;l&&this.setText(l)}else{var d=r.getAttribute("data-clipboard-text");d&&this.setText(d)}a=!1;break;case"complete":this.options.text=null}if(this.handlers[t]){var u=this.handlers[t];"string"==typeof u&&"function"==typeof window[u]&&(u=window[u]),"function"==typeof u&&v(u,r,this,n,a)}},m.prototype.glue=function(e){e=h(e);for(var t=0;t<e.length;t++)-1==p(e[t],y)&&(y.push(e[t]),s(e[t],"mouseover",a));return this},m.prototype.unglue=function(e){e=h(e);for(var t=0;t<e.length;t++){i(e[t],"mouseover",a);var n=p(e[t],y);-1!=n&&y.splice(n,1)}return this},"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,t,n){return w=n&&n.id||null,m}):"object"==typeof t&&t&&"object"==typeof t.exports&&t.exports?(_=t.id||null,t.exports=m):window.ZeroClipboard=m}()},{}],17:[function(e){!function(t){e("models/resource/resource"),e("models/operation/operation-save-public"),e("models/slices/slices");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("environment"),a=e("config"),s=e("helpers/page"),i=e("helpers/path");e("helpers/string");var o=e("helpers/metrika"),c=e("helpers/operation"),l=e("routers/public");e("./share"),e("./resource"),e("./common"),e("./locale-yadisk"),e("./resource-download"),e("./auth");var d=function(e,t){var n=l.parseUrl(ns.page.getCurrentUrl()),r=l.parseId(t.id);n.pathResource=r.pathResource,s.go(l.formatUrl(n))};ns.action.define("app.openFolderPublic",d),ns.action.define("resource.save",function(e,t){o.countActive("public.copy"),t=n.extend({type:"copy"},t);var s=ns.Model.get("userCurrent");return s.get(".hasDisk")?c.create("savePublic",{idSrc:t.id,silent:t.silent}):"Presto"==r.agent.BrowserEngine||s.get(".uid")||!a.yandexuid||r.agent.isMobile&&0===t.id.indexOf("/public/")?ns.action.run("resource.redirectToCopy",t):ns.action.run("dialog-auth.show",{idResource:t.id,type:t.type})}),ns.action.define("resource.redirectToCopy",function(e,t){var n=ns.Model.getValid("resource",t),r="copy-public";n&&n.get(".meta.blockings.simple.public")&&(r="copy-public-limit"),window.location.assign(a.links.disk+"/copy/?hash="+encodeURIComponent(n.get(".hash"))+"&source="+r+"&sk="+a.skExternal)}),ns.action.define("dialog.close",function(){if(ns.events.trigger("ufo-dialog-close"),"slider"===ns.page.current.params.dialog){var e=l.parseUrl(ns.page.getCurrentUrl());e.pathResource=i.dirname(e.pathResource),s.go(l.formatUrl(e))}}),ns.action.define("listing.openFolder",function(e,t){var r=function(){document.location=a.urlsBase.disk+"/client"+t.id};if(t.from){var s=n.find(ns.Model.get("slices").get(".slice"),function(e){return e.idContext?e.idContext===decodeURIComponent(t.id):void 0});o.countLeave("navigation","via "+t.from,s?s.id:"custom folder").always(r,this)}else r()}),ns.action.define("app.search",function(e,t){document.location=a.urlsBase.disk+"/client/search/"+encodeURIComponent(t.querySearch)+t.scopeSearch}),ns.action.define("resource.view-docviewer",function(e,t){o.countActive("public.open.dv");var n="ya-disk-public://"+l.formatPrivateHash(t.id),r=a.domains.docviewer+"/?url="+encodeURIComponent(n)+"&name="+encodeURIComponent(t.name);window.open(r,"_blank")}),ns.action.define("resource.move-audio",function(e,t){var r=ns.Model.getValid("resources",ns.page.current.params),a=n.last(r.getSiblingsOf(t.id,{take:t.delta,loop:!0,filter:function(e){return"player"===e.get(".app")}}));ns.action.run("resource.play",{id:a.get(".id")})}),ns.action.define("resource.play-next",function(e,t){return ns.action.run("resource.move-audio",{id:t.id,delta:1}),!0}),ns.action.define("resource.play-prev",function(e,t){return ns.action.run("resource.move-audio",{id:t.id,delta:-1}),!0}),ns.action.define("resource.play",function(e,t){o.countActive("public.open.player");var n=ns.Model.get("statePlayer"),r=t.id,a=n.get(".track.id");a!=r&&n.set(".track.status","stopped"),r!==n.get(".track.id")&&n.set(".track",{id:r}),n.set(".track.status","playing")}),ns.action.define("resource.pause",function(){var e=ns.Model.get("statePlayer");e.set(".track.status","paused")}),ns.action.define("app.syncAuth",function(){return e("client-auth").findAuthStatus([a.links.clientAuth])})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./auth":18,"./common":19,"./locale-yadisk":20,"./resource":22,"./resource-download":21,"./share":23,"client-auth":24,config:25,environment:27,"helpers/metrika":42,"helpers/operation":44,"helpers/page":45,"helpers/path":46,"helpers/string":50,"models/operation/operation-save-public":82,"models/resource/resource":99,"models/slices/slices":111,"routers/public":134}],18:[function(e){ns.action.define("auth.switch-account",function(t,n){var r=e("client-auth"),a=e("config");r.switchAccount(n.uid).then(function(){r.findAuthStatus([a.links.clientAuth])},function(e){"action-not-required"===e.status&&r.findAuthStatus([a.links.clientAuth])})}),ns.action.define("dialog-auth.show",function(e,t){var n=ns.Model.get("stateDialogAuth");t.idAlbum&&n.set(".idAlbum",t.idAlbum),t.idResource&&n.set(".idResource",t.idResource),n.set(".type",t.type||"default"),n.set(".isOpen",!0),helperPage.update()}),ns.action.define("dialog-auth.close",function(){var e=ns.Model.get("stateDialogAuth");e.set(".idAlbum",null),e.set(".idResource",null),e.set(".isOpen",!1),helperPage.update()})},{"client-auth":24,config:25}],19:[function(e){helperPage=e("helpers/page"),routerPublic=e("routers/public"),helperPath=e("helpers/path"),e("models/state-resource/state-resource"),e("models/states/state-slider"),e("models/resources/resources"),ns.action.define("popup.close",function(){nb.trigger("popup-close")}),ns.action.define("slider.move",function(e,t){var n,r=ns.page.current.params,a=ns.Model.getValid("stateSlider",r);if("/photo"===r.idContext){var s=ns.Model.getValid("sliceContent",r);n=s.getSiblingOf(r.idDialog,{margin:t,filter:a.filterResources}),n=n&&n.resource}else{var i=ns.Model.getValid("resources",r);n=_.last(i.getSiblingsOf(r.idDialog,{take:t,filter:a.filterResources}))}return n?(a.toggleArrows(n),ns.action.run("app.openSlider",{id:n.get(".id")})):ns.action.run("dialog.close")}),ns.action.define("app.openSlider",function(e,t){var n=helperPath.getIdApp(t.id),r=t.id;if("public"===n&&helperMetrika.countActive("public.open.slider"),"album"===n||"public"===n){var a=_.extend(routerPublic.parseUrl(ns.page.getCurrentUrl()),routerPublic.parseId(r));helperPage.go(routerPublic.formatUrl(a))}else if("client"===n){var s=ns.Model.get("stateResource",{id:r,idContext:ns.page.current.params.idContext});s.isValid()||s.setDataDefault(),s.selectSingle(),helperPage.go((t.idContext?helperPath.escape("/client"+t.idContext):helperPage.getUrlBase())+"|slider"+helperPath.escape(t.id))}})},{"helpers/page":45,"helpers/path":46,"models/resources/resources":102,"models/state-resource/state-resource":116,"models/states/state-slider":120,"routers/public":134}],20:[function(e){var t=e("config"),n=e("environment");ns.action.define("locale.set",function(e,r,a){var s=window.location,i=window.location.pathname+window.location.search;return n.session.canHaveAuth||(s=t.links.disk+"/auth/retpath"+i,$.cookie("lang",r.locale,{expires:30,path:"/"})),window.location=a.href+"&retpath="+encodeURIComponent(s),!1})},{config:25,environment:27}],21:[function(e){helperPath=e("helpers/path"),helperMetrika=e("helpers/metrika"),helperPage=e("helpers/page"),e("models/queues/queue-confirmations"),e("models/user-current/user-current"),e("models/state-resource/state-resource-public");var t=e("environment");ns.action.define("resource.download",function(e,n){var r=helperPath.getIdApp(n.id);helperPath.isParent("/attach/yaruarchive",n.id)?helperMetrika.count("interface elements","yaru","actions","download"):helperPath.isParent("/yavideo",n.id)?helperMetrika.count("interface elements","yavideo","actions","download"):helperPath.isParent("/mail",n.id)?helperMetrika.count("interface elements","mail attachments","/mail","actions","download"):helperPath.isParent("/attach",n.id)&&helperMetrika.count("interface elements","mail attachments","/attach","actions","download"),"client"===r&&helperMetrika.countActive("sync.download"),"public"===r&&helperMetrika.countActive("public.download");var a=function(){function e(){var e=document.getElementById(n);return e||(e=document.createElement("iframe"),e.id=n,e.style.display="none",document.body.appendChild(e)),e}var n="download-iframe";return t.agent.isMobile?function(e){window.location.assign(e)}:function(t){e().src=t.replace(/&amp;/g,"&")}}(),s=ns.Model.getValid("resource",{id:n.id}),i=function(){s.getURL().then(function(e){var t=e.get(".file")||e.get(".folder");t&&a(t)})};if(2==s.get(".meta.drweb")?ns.Model.get("queueConfirmations").add({operation:"download",status:"virused"}).then(i):i(),helperPage.isSearch()&&helperMetrika.count("about search","actions","download"),"public"===r&&"dir"==s.get(".type")){var o=ns.Model.get("stateResourcePublic",{id:s.get(".id")});o.set(".downloaded",!0)}return!0})},{environment:27,"helpers/metrika":42,"helpers/page":45,"helpers/path":46,"models/queues/queue-confirmations":84,"models/state-resource/state-resource-public":115,"models/user-current/user-current":121}],22:[function(e){e("models/resource/resource"),e("helpers/path");var t=e("environment");ns.action.define("resource.show-fullsize",function(e,n){var r=ns.Model.getValid("resource",{id:n.id}),a=function(){return(r.get('.meta.sizes[.name == "ORIGINAL"].url')||r.get('.meta.sizes[.name == "XXXL"].url'))[0]};if(t.agent.isMobile)window.open(a(),"_blank");else{var s=window.open("about:blank","_blank");r.fetch().then(function(){s.document.location=a(),s.focus()},function(){s.close()})}})},{environment:27,"helpers/path":46,"models/resource/resource":99}],23:[function(e){function t(e){if("mail"==e.service){var t,n;"dir"===e.type?(n="Ссылка на папку «"+e.title+"» на Яндекс.Диске",t=["Посмотреть или скачать папку «"+e.title+"»"]):"file"===e.type?(n="Ссылка на файл «"+e.title+"» на Яндекс.Диске",t=["Посмотреть или скачать файл «"+e.title+"»"]):"album"===e.type&&(n="Ссылка на альбом «"+e.title+"» на Яндекс.Диске",t=["Посмотреть альбом «"+e.title+"»"]),t.push(" — ",e.link);var r;return r=s.agent.isMobile?[a.links.mail,"/touch/compose/?","body="+encodeURIComponent(t.join("")),"&subject="+encodeURIComponent(n)].join(""):[a.links.mail,"/neo2#compose/mode=html&body="+encodeURIComponent(t.join("")),"&subject="+encodeURIComponent(n)].join("")}var i=e.service;return"mailru"===i&&(i="moimir"),["http://share.yandex.ru/go.xml?service="+i,"&amp;url="+encodeURIComponent(e.link),e.title?"&amp;title="+encodeURIComponent(e.title):""].join("")}function n(e){var t=_.findWhere(i,{service:e}),n="";return t&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-t.width)/2,n+=",top="+(screen.height-t.height)/2,n+=",width="+t.width,n+=",height="+t.height),n}e("models/resource/resource"),e("helpers/path");var r=e("helpers/metrika"),a=e("config"),s=e("environment"),i=[{service:"mail",width:1e3,height:600},{service:"vkontakte",width:550,height:420},{service:"twitter",width:650,height:520},{service:"odnoklassniki",width:560,height:370},{service:"facebook",width:800,height:500},{service:"mailru",width:560,height:400},{service:"gplus",width:560,height:370}];ns.action.define("share.resource",function(e,a){var s=ns.page.current.params.idContext||"",i="file";0===s.indexOf("/public/")?i="public":0===s.indexOf("/photo")&&(i="photoslice"),r.countActive("share."+a.service,{origin:i});var o,c,l=a.id,d=ns.Model.getValid("resource",{id:l}),u=d.get(".meta.short_url"),f=d.get(".name"),p=d.get(".type"),h=n(a.service);return a.current&&(u=document.location.href),u?(o=t({service:a.service,type:p,link:u,title:f}),c=window.open(o,"YaShare",h)):(c=window.open("","YaShare",h),ns.action.run("resource.publish",{id:l,reverse:!1}).on("status.done",function(){c.location=t({service:a.service,type:p,link:d.get(".meta.short_url"),title:f})}).on("status.failed",function(){c.close()})),c}),ns.action.define("share.link",function(e,a){var s=t({service:a.service,link:a.link});return a.statCount&&r.countActive(a.statCount),window.open(s,"YaShare",n(a.service))}),ns.action.define("share.album",function(e,r){var a=ns.Model.getValid("album",r),s=t({service:r.service,link:a.get(".public.short_url"),title:a.get(".title"),type:"album"});return window.open(s,"YaShare",n(r.service))})},{config:25,environment:27,"helpers/metrika":42,"helpers/path":46,"models/resource/resource":99}],24:[function(e,t){var n=e("environment"),r=n.session.auth&&n.session.auth.isAuth,a=e("config"),s={passportHost:a.domains.passport};n.session.canHaveAuth||(s.authRetpath=a.links.disk+"/auth/retpath/auth.html");var i=e("libs/client-auth")(s,r);i.on("auth-status",function(t,r){r.data&&(_.each(r.data,function(e){ns.Model.get(e.model,e.params).setData(e.data)}),$.cookie("lang",n.session.locale,{expires:30,path:"/"}),$.cookie("tld",a.tld,{expires:30,path:"/"})),ns.request.URL=a.links.disk+"/models/",ns.request.requestParams.sk=a.sk,i.update({passportHost:a.domains.passport,yandexuid:a.yandexuid}),ns.events.trigger("ufo-detected-auth-status"),e("helpers/page").update()}),t.exports=i},{config:25,environment:27,"helpers/page":45,"libs/client-auth":58}],25:[function(e,t){e("models/config/config");var n=ns.Model.get("config");t.exports=n&&n.getData()||{}},{"models/config/config":69}],26:[function(e,t){t.exports={KEYS:{ENTER:13,ESC:27,RIGHT:39,LEFT:37},VIEWS:["tile","icons","list"],ONE_DAY:864e5,INTERVALS_COUNT_CONTACTS:[0,20,100,200,300,400,500],TYPE_FOLDER_SOCIAL:["vkontakte","facebook","odnoklassniki","mailru","instagram","google"],TITLE_ALBUM_DEFAULT:"Яндекс.Диск",PADDING_TOP_LAYER_FIXED:109,HEIGHT_TITLE_PHOTOSLICE_GROUP:76,COUNT_ITEMS_TO_FETCH_AROUND_PHOTO:10,HASH_LONG_NOT_FOUND:"404"}},{}],27:[function(e,t){e("models/environment/environment");var n=ns.Model.get("environment");t.exports=n&&n.getData()||{}},{"models/environment/environment":72}],28:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("routers/public"),s=e("url"),i=e("helpers/uri"),o=e("environment"),c=e("config"),l=e("consts");e("models/states-context/states-context");var d=t.exports={rewriteParamsAlbum:function(e){if(-1!==e.url.indexOf("|")){var t=e.url.split("|");e.url=t[0],e.dialog=t[1]}var n=a.parseUrl("/a/"+e.url),s=o.session.hashes[n.hashShort];if(!s)return{hashShort:n.hashShort,hashLong:l.HASH_LONG_NOT_FOUND};e.hashShort=n.hashShort,e.hashLong=s,n=r.extend({},n,{hashLong:s}),e.idAlbum=e.idContext=a.formatIdRoot(n),n.pathResource&&(e.idDialog=a.formatIdContext(n));var i=ns.Model.get("statesContext",e);return i.isValid()||i.setDataDefault(),r.extend(e,r.pick(i.getData(),"order","sort")),e.idApp=d.isYadisk()?"album":"client",delete e.url,e},preprocessId:function(e){e.idAlbum=a.formatIdRoot({prefix:"a",hashLong:e["public"].public_key})},preprocessData:function(e){e.public.short_url=d.fixShortUrl(e.public.short_url);var t=a.parseUrl(e.public.short_url);if(ns.Model.get("environment").set(".session.hashes."+t.hashShort,e["public"].public_key),e.path="/disk/",e.public.disk_url=s.parse(e.public.short_url).pathname,no.jpath(".cover.object",e)){var n=a.formatIdContext({prefix:"a",hashLong:e.public.public_key,pathResource:e.cover.id});if(e.cover=r.extend(e.cover.object,{id:n}),no.jpath(".meta.sizes",e.cover)){var o=c.tldRoot;r.each(e.cover.meta.sizes,function(e){e.url=i.replaceTld(e.url,o),e.url=i.addPrefixDownloader(e.url),e.url=i.cutProto(e.url)})}}return e},fixShortUrl:function(e){return"production"!==c.environment&&(e=e.replace(/^https:\/\/[^\/]+/,c.urlsBase.public)),e},isYadisk:function(){return"sk"===o.session.tld},getUrlCopy:function(e){var t=e.urlDisk+"/copy/?",n=[],r=a.parseId(e.id);return n.push("hash_album="+encodeURIComponent(r.hashLong),"source=copy-album","sk="+e.sk),r.pathResource&&n.push("hash_item_album="+encodeURIComponent(r.pathResource)),t+=n.join("&")}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,consts:26,environment:27,"helpers/uri":54,"models/states-context/states-context":117,"routers/public":134,url:6}],29:[function(e,t){t.exports={hasGap:function(e,t){if(t.length<2)return null;for(var n=0,r=t.length;r>n;n++){var a=t[n],s=e.indexOf(a),i=null;s>0&&(i=e[s-1]);var o=null;s<e.length-1&&(o=e[s+1]);var c=i&&-1!==t.indexOf(i)||o&&-1!==t.indexOf(o);if(!c)return!0}return!1},getRange:function(e,t,n){for(var r,a,s=0,i=e.length;i>s;s++){var o=e[s];if(o===t&&(r=s),o===n&&(a=s),!isNaN(r)&&!isNaN(a))break}if(isNaN(r)||isNaN(a))return null;if(r>a){var c=a;a=r,r=c}return e.slice(r,a+1)},sortedIndex:function(e,t,n){for(var r=0,a=e.length;a>r;){var s=r+a>>>1;n(e[s],t)<0?r=s+1:a=s}return r}}},{}],30:[function(e,t){function n(e){return"com.tr"==e?["tr","en"]:["ru","en","tr","uk"]}function r(e){return["ru","com","com.tr","ua"].indexOf(e)>-1}function a(e){function t(e){return e.replace(/\.yandex\.(\w+|com\.tr)/,".yandex."+o)}function r(e){return e.replace(/\.yandex\.(\w+|com\.tr)/,".yandex."+c)}var a=e.data,i=e.urlsBase,o=a.tld,c=o;a.isMobile||"ua"!=c||(c="ru");var l="yandex."+o,d=t(i.disk),u=d+"/download/",f="http://feedback2."+l+"/disk",p=r(i.passport),h=r(i.pass),v="https://"+a.host+a.path,m=v;a.tld!==a.tldOrigin&&(m=d+"/auth/retpath"+a.pathOrigin,e.tldFinal=a.tld);var y="retpath="+encodeURIComponent(m),b=y;a.source&&!/[&?]source=\w/.test(m)&&(b="retpath="+encodeURIComponent(m+(m.indexOf("?")>-1?"&":"?")+"source="+encodeURIComponent(a.source)));var g="retpath="+encodeURIComponent("http://www."+l);a.tld!==a.tldOrigin&&(g=y);var w=a.locale||"ru",_="http://"+("com.tr"===o?"yardim.":"help.")+l,x="http://help.yandex."+("ua"==o?"ua":"ru"),k="http://help.yandex.ru",A={yandex:"http://www."+l,current:v,diskQR:i.disk.replace(/(\w+|com\.tr)$/,"net")+"/qr/",diskStat:i.disk.replace(/(\w+|com\.tr)$/,"net")+"/stat/",statbox:"//clck.yandex.ru/click",disk:d,clientAuth:r(i.disk+"/auth/status"),download:u+"?from=webinterface",screenshot:d+"/screenshot/",langSwitch:r(i.tune)+"/api/lang/v1.1/save.xml",blog:"http://disk-blog.ya.ru",twitterDisk:"https://twitter.com/yandexdisk",api:"http://api.yandex."+("ru"===o||"ua"===o?"ru":"com")+"/disk",feedback:{disk:f,blocked:f+"/blocked",yavideo:f+"/?from=video",abuse:f+"/abuse/",disk4Yandex:f+"/yandex/"},termsOfUse:"http://legal."+l+"/disk_termsofuse/",tariffs:d+"/pay/tariffs/",mail:"https://mail."+l,drweb:"http://www.drweb.com",photo:d+"/photo/?from=main",downloadApp:{win:u+"YandexDiskSetup.exe?referer=webinterface",mac:u+"Yandex.Disk.Mac.dmg?referer=webinterface",linux:"http://repo.yandex.ru/yandex-disk/",ios:"http://appmetrika.yandex.ru/serve/17589353581187627129?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/8634663676703474913?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/12056877220594364778"},downloadMobileApp:{banner:{ios:"http://appmetrika.yandex.ru/serve/1168735115035726045?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/11718107456729729427?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/13536603132086410463"},barFace:{ios:"http://appmetrika.yandex.ru/serve/6383341804356989855?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/7174361144714440002?action=click&app_id=ru.yandex.disk ",winphone:"http://appmetrika.yandex.ru/serve/6778704649069329413"},welcomeScreen:{ios:"http://appmetrika.yandex.ru/serve/9563509207267024590?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/932489569810911545?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/10746198976653216604"},buttonLoggedMobile:{ios:"http://appmetrika.yandex.ru/serve/11819965846003333915?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/16530543430544369100?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/13823790423947476378"},linkLoggedMobile:{ios:"http://appmetrika.yandex.ru/serve/6599940477191233912?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/17287776162656388787?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/10693121967941026935"}},agreement:"http://legal."+l+"/desktop_software_agreement/",pddLegalDisclaimer:"http://legal."+l+"/domain_termsofuse/",blocked:"http://legal."+l+"/ugc_takedown/",reportBugVirus:f+"/web/virus/",downloadBrowser:"http://browser."+l,downloadFlash:"http://get.adobe.com/"+("ru"===o||"ua"===o?"ru/":"")+"flashplayer/",passport:{origin:p,home:p,init:h+"/?"+y,nocookiesupport:p+"?mode=error&error=nocki",register:p+"/passport?mode=register&from=cloud&origin="+encodeURIComponent(a.source+"."+w)+"&"+b,auth:p+"/passport?mode=auth&from=cloud&"+y,login:p+"/passport?mode=auth&from=cloud&",restore:p+"/passport?mode=restore&from=cloud&"+y,logout:p+"?mode=logout&yu="+a.yandexuid+"&retpath="+encodeURIComponent("http://www."+l)+"&clean=yes",userapprove:p+"/passport?mode=userapprove&from=cloud&"+y,postregistration:p+"/passport?mode=postregistration&from=cloud&create_login=1&create_password=1&"+b,light2full:p+"/passport?mode=light2full&from=cloud&"+b,lightauth2full:p+"/passport?mode=lightauth2full&from=cloud&"+b},help:{disk:_+"/disk",partners:x+"/disk/enlarge/bonus-space.xml#current-actions",samsungUltrabook:k+"/disk/desktop/add-250.xml#samsung-250",sonyXperia:k+"/disk/desktop/add-250.xml#sony-40",sonyVaio:k+"/disk/desktop/bonus-space.xml#30-sony",ativ:x+"/disk/desktop/bonus-space.xml#50-samsung",intel:k+"/disk/desktop/bonus-space.xml#30-intel",kingstonFlash:x+"/disk/enlarge/bonus-space.xml#flash-kingston",correctionSearch:_+"/search"+("com.tr"==o?"/info/request-correction.xml#concept1":"/how-to-search/request-correction.xml#maybe"),yavideo:k+"/video2/on-disk.xml",autoclean:_+"/disk/resource/auto-emptying-trash.xml"},pathVideoPlayerFlash:i.pathVideoPlayerFlash,updateBrowser:{yandex:"http://browser.yandex."+o+"/?from=link_disk___|&banerid=0468000000",firefox:"http://fx.yandex."+o+"/?from=link_disk___|",opera:"http://opera.yandex."+o+"/?from=link_disk___|",ie:"http://ie.yandex."+o+"/?from=link_disk___|"},"static":{host:i.static,root:i.static+"/disk"},urlImageOpenGraph:"https://mailstatic.yandex.net/disk-promo/_/Jkt0BOQcO96YmPPJyR4l4-OCW1E.png",promoElements:"https://yandex."+o+"/promo/diskelement"};
A.static.libsRoot=A.static.root+"/www/"+s,A.static.libs=A.static.libsRoot+"/_libs.js",A.static.aviary=A.static.libsRoot+"/_feather.js","com"==o?(delete A.updateBrowser.firefox,delete A.updateBrowser.opera,delete A.updateBrowser.ie):"com.tr"==o&&delete A.updateBrowser.firefox;var j={social:r(i.social),docviewer:t(i.docviewer),video:i.video,passport:p};return e.links=A,e.domains=j,e.languagesAvailable=n(o),e.tld=o,e.tldRoot=c,e.yandexuid=a.yandexuid,e}t.exports={prepare:a,getLanguagesSupported:n,canHaveAuth:r};var s="3.0.101"},{}],31:[function(e,t){t.exports={player:{extnames:[".mp3"],mimetypes:["audio/mpeg","audio/mp3"]},docviewer:{mimetypes:["application/gzip","application/x-gzip","application/x-gunzip","application/gzipped","application/x-bzip2","application/x-bz2","application/zip","application/x-compressed","application/x-zip-compressed","application/rar","application/x-rar","application/x-rar-compressed","compressed/rar","application/vnd.ms-excel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/x-vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet-template","application/msexcel","application/x-dos_ms_excel","text/csv","text/comma-separated-values","application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/vnd.ms-powerpoint","application/powerpoint","application/x-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text","application/doc","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","text/rtf","application/vnd.oasis.opendocument.text","image/tiff","application/x-shockwave-flash","application/postscript","application/futuresplash","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","application/x-fictionbook+xml","application/epub+zip","image/vnd.djvu","image/x-djvu","application/djvu"],extnames:[".xls",".xlsx",".ods",".xlt",".csv",".pdf",".ppt",".pptx",".odp",".rtf",".jpg",".jpeg",".png",".bmp",".gif",".doc",".docx",".odt",".docm",".dotx",".dot",".dotm",".tiff",".tif",".ps",".psd",".eps",".ai",".cdr",".nef",".dng",".ini",".log",".asc",".txt",".zip",".rar",".cab",".xar",".7z",".chm",".epub",".fb2"]}}},{}],32:[function(e,t){t.exports={"default":"none",virus:"virus",mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",font:"font",executable:"application",flash:"flash",development:"development",book:"book",compressed:"archive"},extnames:{".7z":"archive",".cab":"archive",".gz":"archive",".gzip":"archive",".jar":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"mp3",".pls":"pls",".ogg":"audio",".wav":"wav",".wma":"wma",".asf":"video",".avi":"avi",".flv":"flash",".mov":"mov",".mp4":"mp4",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"srt",".swf":"flash",".vob":"video",".wmv":"wmv",".ai":"ai",".cur":"image",".bmp":"bmp",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"gif",".jpg":"jpg",".jpeg":"jpg",".png":"png",".psd":"psd",".pcx":"pcx",".mng":"image",".tif":"tiff",".tiff":"tiff",".xcf":"image",".epub":"book",".ibooks":"book",".mobi":"book",".fb2":"book",".cdr":"cdr",".csv":"csv",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"development",".htm":"development",".html":"development",".js":"development",".php":"development",".xhtml":"development",".htaccess":"development",".mso":"development",".asm":"development",".asp":"development",".aspx":"development",".c":"development",".cgi":"development",".class":"development",".cpp":"development",".dtd":"development",".h":"development",".java":"development",".apk":"application",".bat":"application",".cgi":"application",".com":"application",".exe":"exe",".gadget":"application",".jar":"application"}}},{}],33:[function(e,t){var n=["yandex.ru","yandex.com","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","ya.ru","яндекс.рф"],r=["gmail.com","googlemail.com"],a=t.exports={domainNormal:"yandex.ru",isEmail:function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)},normalize:function(e){if(!a.isEmail(e))return e;e=/^(.+)@([^@]+)$/.exec(e).slice(1);var t=e[0],s=e[1].toLowerCase();return n.indexOf(s)>-1&&(t=t.toLowerCase().split(".").join("-").split("+")[0],s=n[0]),"narod.ru"==s&&(t=t.toLowerCase().split(".").join("-").split("+")[0]),r.indexOf(s)>-1&&(t=t.toLowerCase().split(".").join("").split("+")[0],s=r[0]),t+"@"+s}}},{}],34:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=n.document,s=null,i={};try{s=e("swfobject")}catch(o){}try{i=e("screenfull")}catch(o){}var c=t.exports={};c.hasAvailableFlash=function(){return a&&s?s.hasFlashPlayerVersion("9.0.0")?"flv":!1:!1},c.hasFlashPlayerVersion=function(e){return s?s.hasFlashPlayerVersion(e):!1},c.canPlayMediaType=function(e){if(!a)return!1;var t=a.createElement("video");try{return!!t.canPlayType(e)}catch(n){return!1}},c.canPlayVideo=function(){return a?!!window.Modernizr.videostream:!1},c.embedSWF=function(){return s?(s.embedSWF.apply(s,r.toArray(arguments)),void 0):!1},c.screenfull=i}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{screenfull:15,swfobject:135}],35:[function(e,t){function n(e,t){if("undefined"==typeof t&&(t=2),0>e||0>=t)return e.toString();var n=Math.pow(10,t-1);return e>=n?e.toString():Array(n.toString().length-e.toString().length+1).join("0")+e}e("./space");var r=t.exports={init:function(e,t){this.monthsNominative=e,this.monthsGenitive=t},secondsToTime:function(e,t){var r=0>e;t=t||":",r&&(e=Math.abs(e));var a=Math.floor(e/3600),s=n(Math.floor(e%3600/60)),i=n(e%60);return(r?"-":"")+(a?a+t:"")+s+t+i},timestampToDate:function(e,t){var a=new Date(1e3*e);return"undefined"==typeof t&&(t="DD.MM.YYYY HH:mm"),t.replace(/([a-zA-Z]{1,4})/g,function(e,t){switch(t){case"M":return a.getMonth()+1;case"MM":return n(a.getMonth()+1);case"mmmm":return r.monthsGenitive[a.getMonth()];case"MMMM":return r.monthsNominative[a.getMonth()];case"D":return a.getDate();case"DD":return n(a.getDate());case"YY":return a.getFullYear()%100;case"YYYY":return a.getFullYear();case"H":return a.getHours();case"HH":return n(a.getHours());case"m":return a.getMinutes();case"mm":return n(a.getMinutes());case"s":return a.getSeconds();case"ss":return n(a.getSeconds());default:return t}})},dateToTimestamp:function(e,t,n,r,a,s,i){var o,c=arguments.length;e=e||0,t=t||0,n=n||1,r=r||0,a=a||0,s=s||0,i=i||0;var l=e;return o=0===c?Date.now():1===c?new Date(l):new Date(e,t,n,r,a,s,i),Math.floor(o/1e3)},numberToInterval:function(e,t){var n,r=t.length,a=t[0],s=t[r-1];if(a>=e)return"<= "+a;if(e>s)return"> "+s;for(var i=0;r-1>i;i++)if(a=t[i],s=t[i+1],e>a&&s>=e){n=a+1+" - "+s;break}return n},monthToString:function(e){return r.monthsNominative[e]},shortenName:function(e,t,n,r){return t=t||8,n=n||2,r=r||"...",e.length<=t+n+r.length?e:e.slice(0,t)+r+e.slice(-n)}}},{"./space":49}],36:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={getNameContext:function(e){var t="files";return 0===e.indexOf("/photo")&&(t="photo"),0===e.indexOf("/album")&&(t="album"),0===e.indexOf("/public")&&(t="public"),t},getPropForStat:function(e){function t(e){var t=ns.Model.getValid("resource",{id:e});return t&&t.get(".meta.group")}return n.any(e,t)?{props:"sharedfolder"}:{}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t){var n=1,r=function(){return n++};r.reset=function(e){n="undefined"==typeof e?1:e},t.exports=r},{}],38:[function(e,t){!function(n){"undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;var r=e("config"),a=e("environment"),s=e("models/user-current/user-current"),i=e("helpers/tns"),o=e("helpers/space"),c=e("helpers/format"),l=e("helpers/string"),d=e("helpers/metrika");e("libs/modernizr-tests"),e("libs/fixes-ie"),e("libs/extensions.nb");var u={_init:function(){r.idClient=l.md5(s.get(".uid")+String((new Date).getTime())),ns.request.requestParams.idClient=r.idClient,ns.request.requestParams.version=r.version,a.session.canHaveAuth?(ns.request.URL="/models/",ns.request.requestParams.sk=r.sk):(ns.request.URL=r.links.disk+"/models/",ns.H.DEFAULTS.xhrFields={withCredentials:!0}),ns.request.canProcessResponse=function(e){if(e.error)return!1;if(!e.uid&&s.get(".uid"))ns.action.run("app.syncAuth");else if(e.uid!==s.get(".uid"))return ns.action.run("app.syncAuth"),!1;return e.version!==r.version?(ns.action.run("app.refresh"),!1):(ns.request.requestParams.sk!==e.sk&&(ns.request.requestParams.sk=r.sk=e.sk),!0)},ns.page.title=function(){document.title="Яндекс.Диск"};var e=ns.history.pushState;ns.history.pushState=function(t,n){var r=window.location.href;e.apply(ns.history,arguments),d.hit(t,n,r,null)};var t=ns.history.onpopstate;return ns.history.onpopstate=function(){var e=window.location.href,n=window.location.origin+ns.page.currentUrl,r=ns.page.title(e);d.hit(e,r,n,null),t.apply(ns.history,arguments)},ns.init(),a.session.loadingFailed?ns.page.go("/client/error","preserve"):(o.init(["байт","КБ","МБ","ГБ","ТБ"],","),c.init(["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"]),i.init(),void 0)},initApp:function(){if(u._init(),a.session.loadingFailed)var e=ns.page.go("/client/error","preserve");else var e=ns.page.go();return e.always(function(){f.fulfill()}),e},reconstructApp:function(){u._init();var e,t,n=ns.page.getCurrentUrl();try{e=JSON.parse($("#route-client").text()||"[]"),t=JSON.parse($("#layout-client").text()||"[]")}catch(r){e=ns.router(n),t=ns.layout.page(e.page,e.params)}var a=new ns.Update(ns.MAIN_VIEW,t,e.params);ns.page._setCurrent(e,n);var s=$("body")[0],i=a.reconstruct(s);return i.always(function(){f.fulfill()}),i},onAppReady:function(e){f.then(e)}},f=new Vow.Promise;t.exports=u}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,environment:27,"helpers/format":35,"helpers/metrika":42,"helpers/space":49,"helpers/string":50,"helpers/tns":52,"libs/extensions.nb":60,"libs/fixes-ie":62,"libs/modernizr-tests":64,"models/user-current/user-current":121}],39:[function(e,t){!function(n){var r=e("models/user-current/user-current"),a=e("models/environment/environment"),s={};n.window&&(s=e("localforage"),s.config({name:"yandex_disk_"+r.get(".uid")+"_"+a.get(".session.locale"),storeName:"web_client_data"})),t.exports=s}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{localforage:13,"models/environment/environment":72,"models/user-current/user-current":121}],40:[function(e,t){function n(e){"dev"===r.environment&&ns.DEBUG?console.log(e):window.__monitoring__.send(e)}var r=e("config");t.exports={log:n}},{config:25}],41:[function(e,t){var n={mail:"Почта",vkontakte:"ВКонтакте",twitter:"Twitter",facebook:"Facebook",odnoklassniki:"Одноклассники",lj:"Живой журнал",gplus:"Google+",mailru:"Мой мир",google:"Google",qr:"QR код"},r={"login-empty":"Заполните это поле","account-not-found":"Учётной записи с таким логином не существует","password-empty":"Заполните это поле","password-invalid":"Неправильная пара логин-пароль",keyboard_warning:"Неправильная раскладка клавиатуры"};t.exports={getTitleSocial:function(e){return n[e]},getMessageError:function(e){return r[e]}}},{}],42:[function(e,t){!function(n){function r(e,t){return p.push(function(){try{v=n["yaCounter"+e]=new n.Ya.Metrika({id:e,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex"}),h.fulfill()}catch(t){h.reject()}}),m=t,a(),h}function a(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//mc.yandex.ru/metrika/watch.js",$(function(){e.parentNode.insertBefore(t,e)})}function s(e){return function(){var t=arguments;h.then(function(){e.apply(null,t)})}}function i(e){return function(){try{v[e].apply(v,arguments)}catch(t){}}}function o(e){return function(){var t=f.toArray(arguments),n=JSON.stringify(t);if(c(n))throw new Error("Wrong Yandex.Metrika call: "+n+" contains double-byte characters. Please use latin characters and numbers.");return e.apply(null,arguments)}}function c(e){return/[^\u0000-\u00ff]/.test(e)}function l(e,t,n){S[e]||(S[e]={}),S[e][t]||(S[e][t]=[]),S[e][t].push(n)}function d(e,t){S[e.key]&&S[e.key][t]&&f.each(S[e.key][t],function(t){t.call(e)})}function u(e,t){S[e.key]&&(t&&S[e.key][t]?delete S[e.key][t]:delete S[e.key])}var f="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;e("helpers/uri"),e("helpers/log");var p=n.yandex_metrika_callbacks=[],h=new Vow.Promise,v=null,m=[],y={},b=700,g=s(i("hit")),w=s(o(function(){i("params").apply(null,f.toArray(arguments).concat(m))})),_=function(){var e=arguments;s(o(function(){i("params").apply(null,f.toArray(e).concat(m))}))();var t=new Vow.Promise;return window.setTimeout(function(){t.fulfill()},b),t},x=function(e,t){var n=ns.Model.get("config").get(".links.diskStat"),r=ns.Model.get("userCurrent").get(".uid");if(r){var a={"action.name":e,uid:r,has_disk:ns.Model.get("userCurrent").get(".hasDisk")?1:0,v:1,z:f.random(0,1e9)};f.extend(a,t),(new Image).src=n+$.param(a)}},k=s(o(i("reachGoal"))),A=s(o(function(){var e=f.toArray(arguments).join(",");y[e]=(y[e]||0)+1})),j=s(function(){var e=f.toArray(arguments),t=e.join(",");y[t]&&(e.push(y[t].toString()+" time(s)"),w.apply(null,e),delete y[t])});h.then(function(){function e(e){var n=$(e.currentTarget),r=n.data("metrika-"+e.type),a=t(n.data("metrika-params"));if("count"===r)a.forEach(function(e){w.apply(null,e)});else if("reach"===r)a.forEach(function(e){k.apply(null,e)});else if(r)throw new Error("Wrong Yandex.Metrika call: Unexpected `data-metrika-"+e.type+"` action.")}function t(e){if(f.isString(e)&&""!==e)return f.map(e.split("|"),function(e){return e.split(",")});throw new Error("Wrong Yandex.Metrika call: No `data-metrika-params` passed.")}var n=$("body");f.each(["click","dblclick"],function(t){n.on(t,"[data-metrika-"+t+"]",e)})});var S={};n.yr&&(yr.externals.addShowHookMetrika=function(e,t,n){var r;"count"===e?r=w:"reach"===e&&(r=k),f.isFunction(r)&&l(t,"show",function(){r.apply(null,n)})}),t.exports={init:r,count:w,countActive:x,countLeave:_,reach:k,hit:g,accumulate:A,release:j,hooks:{execute:d,drop:u}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/log":40,"helpers/uri":54}],43:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("environment");t.exports={request:function(){var e=this,t=new Vow.Promise,n=".0",s=r.extend({},ns.request.requestParams,{sk:a.session.skLocal});s["_model"+n]=this.id;var i=this.getRequestParams();for(var o in i)s[o+n]=i[o];var c=ns.http("/models/?_m="+this.id,s);return c.then(function(n){if(n.error)return t.reject(),void 0;n.sk!==s.sk&&(a.session.skLocal=n.sk);var r=n.models[0],i=e.extractData(r);if(i)return e.setData(i),t.fulfill(),void 0;var o=e.extractError(r);o||(o=r?{id:"INVALID_FORMAT",reason:"response should contain result or error"}:{id:"NO_DATA",reason:"Server returned no data"}),e.setError(o),t.reject()},function(e,n){ns.log.error("ns.request.http",{error:e,xhr:n}),t.reject()}),t}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:27}],44:[function(e,t){!function(n){function r(e,t,n){var r=s.clone(n);t&&(r.gid=t);var a=ns.Model.get(e,{id:i()}).setData(r);return ns.Model.get("operations").insert(a),a.init(),a}function a(e){var t=e.type,n=e.subtype;if("move"===t){var r=e.data.source&&c.normalize(e.data.source),a=e.data.target&&c.normalize(e.data.target);return c.dirname(r)!==c.dirname(a)?"move":"rename"}return"trash"!==t||"append"!==n&&"droppath"!==n?"copy"===t?"copy":"aviary"===t?"saveEditorPhoto":!1:"delete"}var s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,i=e("./guid"),o=e("./string"),c=e("helpers/path");e("../models/operations/operations"),t.exports={create:function(e,t){var n=this.initialize(e,t);return s.isArray(n)?s.invoke(n,"run"):n.run(),n},initialize:function(e,t){return t=t||{},/^operation/.test(e)||(e="operation"+o.capitalize(e)),s.isArray(t)?s.map(t,s.partial(r,e,i())):r(e,null,t)},initializeRemote:function(e){var t="operationRemote"+o.capitalize(e),n=ns.Model.get(t,{id:i()});return n},catchUp:function(e){var t=a(e);if(t){t="operation"+o.capitalize(t);var n=ns.Model.get(t,{id:i()}).setData({oid:e.id});ns.Model.get("operations").insert(n),n.initFromMessage(e)}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/operations/operations":83,"./guid":37,"./string":50,"helpers/path":46}],45:[function(e,t){!function(n){var r,a="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=e("helpers/path"),i=20,o=t.exports={go:function(e,t){if(!arguments.length)throw new Error("`go` should be called with arguments. Use `update` to update views.");clearTimeout(r);var n=ns.router(e),a=ns.page.current.params.idContext===n.params.idContext,s=ns.page.current.params.dialog===n.params.dialog;!t&&a&&s&&(t=!0);var i=ns.page.go(e,t);return a||i.then(function(){ns.events.trigger("ufo-context-changed")}),i},update:function(){var t=e("helpers/init");clearTimeout(r),r=setTimeout(function(){t.onAppReady(ns.page.go.bind(null,null,"preserve"))},i)},getUrlBase:function(e){var t,n=$.extend(!0,{},ns.page.current.params,e),r=ns.page.current.page,i=s.getIdApp(n.idContext);o.isSearch(n)?(t=e&&e.typeSearch?a.pick(n,"querySearch","scopeSearch","typeSearch"):a.pick(n,"querySearch","scopeSearch"),r="client-search"):t=0===["album","public"].indexOf(i)?a.omit(n,"idDialog"):a.pick(n,"idContext","page","idPage"),t.idContext&&(t.idContext=s.escape(t.idContext));var c=ns.router.generateUrl(r,t);return c=decodeURIComponent(c)},scrollToTop:function(){window.scrollTo(0,0)},isSearch:function(e){var t=e||ns.page.current.params;return!!(t&&t.querySearch&&t.scopeSearch)},deferFollowLink:function(e,t){var n=$(e.currentTarget).attr("href");return n&&!e.isDefaultPrevented()?(t(),e.metaKey||e.ctrlKey||(e.preventDefault(),setTimeout(function(){window.location.href=n},700)),!1):void 0},appendImage:function(e){return this.containerImage||(this.containerImage=$("<div />",{"class":"js-images-container _hidden"}).appendTo("body")),$("<img />",{src:e}).appendTo(this.containerImage)},getDimentionsViewport:function(e){var e=e||$(window);return{width:e.width(),height:e.height()}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/init":38,"helpers/path":46}],46:[function(e,t){!function(e){function n(e,t){return e?r.map(e.split("/"),t).join("/"):void 0}var r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=t.exports={split:function(e){var t=e?e.split("/"):[];return r.compact(t)},basename:function(e){var t=a.split(e);return r.last(t)||null},dirname:function(e){var t=a.split(e);return t.pop(),t.length?("public"==t[0]&&2===t.length&&(t[1]=t[1].replace(/:$/,"")),"/"+t.join("/")):null},extname:function(e){var t=a.basename(e);if(!t)return"";var n=t.length,r=n-t.lastIndexOf(".");return r>=n?"":t.substr(-r)},normalize:function(e){return e?"/"+a.split(e.replace(/^(\d+):/,"")).join("/"):"/"},join:function(){return a.normalize(r.flatten(r.toArray(arguments)).join("/"))},isParent:function(e,t){var n=a.split(t),r=a.split(e);if(r.length===n.length)return!1;for(var s=0,i=r.length;i>s;s+=1){if(0===s&&"narod"===r[s]&&-1!==["narod","lnarod"].indexOf(n[s]))return!0;if(r[s]!==n[s])return!1}return!0},escape:function(e){return n(e,encodeURIComponent)},unescape:function(e){return n(e,decodeURIComponent)},getIdApp:function(e){var t=e.split("/")[1];return"album"===t||"public"===t?t:"client"}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/path"),s=e("helpers/uri"),i=e("helpers/environment"),o=e("models/user-current/user-current"),c=e("consts"),l=e("config");e("models/settings/settings");var d=ns.Model.get("settings"),u=o.get(".foldersDefault.social"),f=e("./dicts/apps"),p=e("./dicts/icons"),h=t.exports={};h.create=function(e,t){var n=ns.Model.get("resource",{id:a.normalize(e.id)}).setData(e);return t&&t.silent||n.notifyCreated(t),n},h.createPart=function(e,t){var e=r.clone(e);return no.jpath.set(".state.part",e,!0),h.create(e,t)},h.getIdUnique=function(e,t){var n=t?e+"_"+t:e,r=ns.Model.getValid("resource",{id:n});return r?(t=t?t+1:1,h.getIdUnique(e,t)):n},h.getParents=function(e){for(var t=[];e=a.dirname(e);)t.unshift({id:e,name:h.getAlias(e)});return t},h.getAlias=function(e){var t;return"/disk"===e?t="Яндекс.Диск":"/yavideo"===e?t="Яндекс.Видео":a.basename(e)},h.updateParentsOf=function(e){var t=a.dirname(e),n=r.isNull(a.dirname(t));if(!n){var s=ns.Model.getValid("resource",{id:t});s&&s.fetch(),h.updateParentsOf(t)}},h.preprocess=function(e){e.id=a.normalize(e.id),e.name=e.name||a.basename(e.id),e.isInTrash=0===e.id.indexOf("/trash/"),e.isVisitable=!("dir"!==e.type||e.isInTrash||e.state&&e.state.part),e.hasfolders=!!e.hasfolders,no.jpath(".meta.group",e)&&r.extend(e.meta.group,{readonly:640==e.meta.group.rights,readwrite:660==e.meta.group.rights,in_readonly:640==e.meta.group.rights&&!e.meta.group.is_root,in_shared:!e.meta.group.is_root}),e.parents||(e.parents=h.getParents(e.id));var t=no.jpath(".meta.original_parent_id",e);t&&(e.parentsOriginal=h.getParents(a.join(t,e.name))),"file"===e.type?(e.icon=h.getIconFile(e),e.app=h.getAppFile(e)):e.icon=h.getIconFolder(e);var n=["document","video","image","book"];return e.hasPreview=!1,e.meta&&r.contains(n,e.meta.mediatype)&&(e.hasPreview=!!e.meta.sizes),no.jpath(".meta.sizes",e)&&r.each(e.meta.sizes,function(t){t.url=h.replaceTld(e.id,t.url),t.url=s.addPrefixDownloader(t.url),t.url=s.cutProto(t.url)}),no.jpath(".meta.short_url",e)&&(e.meta.short_url=h.fixShortUrl(e.meta.short_url)),e.isExportable=no.jpath(".state.part",e)?"file"===e.type&&-1!==["jpg","png"].indexOf(e.icon):"file"===e.type&&e.meta&&"image"==e.meta.mediatype&&e.meta.sizes&&-1!==["image/jpeg","image/png"].indexOf(e.meta.mimetype),e.isEditable=e.isExportable,e},h.fixShortUrl=function(e){return e=e.replace(/^http:/,"https:"),"production"!==l.environment&&(e=e.replace(/^https:\/\/[^\/]+/,l.urlsBase.public)),e},h.replaceTld=function(e,t){var n=l.tldRoot;return a.isParent("/yavideo",e)?t:(a.isParent("/public",e)&&"ua"==n&&(n="ru"),s.replaceTld(t,n))},h.getIconFile=function(e){var t=e.meta&&2==e.meta.drweb,n=a.extname(e.name).toLowerCase(),r=e.meta&&e.meta.mediatype||"";return t&&p.virus||p.extnames[n]||p.mediatypes[r]||p["default"]},h.getIconFolder=function(e){var t="dir",n=h.isSocialFolder(e),r=no.jpath(".meta.group.is_shared && 1 == .meta.group.is_root",e);return"/disk"==e.id?t="root":"/trash"==e.id?t="trash":r?t="shared":u===e.id?t="social":n?(t=h.getIconSocial(e),r&&(t+="-shared")):h.isCamera(e.id)?t="photostream":h.isScreenshots(e.id)&&(t="screenshots"),t},h.getAppFile=function(e){var t=a.extname(e.name).toLowerCase(),n=e.meta&&e.meta.mimetype,s=e.meta&&e.meta.mediatype,o=e.meta&&e.meta.sizes;if(e.isInTrash)return null;if(e.state&&e.state.part)return null;if("video"===s&&i.canPlayVideo()&&!a.isParent("/mail",e.id))return"slider";if("image"===s&&o)return a.isParent("/mail",e.id)?"docviewer":"slider";var c=r.reduce(f,function(e,a,s){return r.contains(a.mimetypes,n)||r.contains(a.extnames,t)?s:e},null);return c&&a.isParent("/narod",e.id)&&!d.get(".narodMigrated")?null:c},h.isCamera=function(e){return o.get(".foldersDefault.photostream")===e},h.isScreenshots=function(e){return o.get(".foldersDefault.screenshots")===e},h.isNameInvalid=function(e){return e.indexOf("/")>-1},h.getIconSocial=function(e){return e.meta&&e.meta.folder_type},h.preprocessIdREST=function(e){return e.replace(/^disk:/,"/disk")},h.isSocialFolder=function(e){return e.meta&&-1!=c.TYPE_FOLDER_SOCIAL.indexOf(e.meta.folder_type)},h.isInsideFolderSocial=function(e){return a.isParent(u,e)&&u!=a.dirname(e)},h.isSocialOrDescendant=function(e){return u===e||a.isParent(u,e)},h.isInsideFolderCamera=function(e){return a.isParent(o.get(".foldersDefault.photostream"),e)},h.getIdInvite=function(e,t){return a.join("disk","."+e+"-"+t)},h.inviteToResource=function(e){return{id:h.getIdInvite(e.hash,e.folder_name),name:e.folder_name,ctime:e.ctime,type:"dir",meta:{size:e.size,group:{is_root:1,gid:e.gid,owner:{username:e.owner_name,uid:e.owner_uid}}},invite:r.pick(e,"rights","status","hash")}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dicts/apps":31,"./dicts/icons":32,config:25,consts:26,"helpers/environment":34,"helpers/path":46,"helpers/uri":54,"models/settings/settings":104,"models/user-current/user-current":121}],48:[function(e,t){!function(e){function n(e){if("dir"===e.type)return"folders";var t=e.meta&&e.meta.mediatype;return e.meta&&e.meta.sizes&&("image"===t||"video"===t)?"images":"files"}function r(e){return"folders"===e.id?0:"images"===e.id?1:2}var a="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={splitIntoGroupFolderPublic:function(e){var t=a.sortBy(a.map(a.groupBy(e,n),function(e,t){return{id:t,items:e}},this),r);return t},getGroupFolderPublic:n}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t){!function(e){function n(e){for(var t=y.length;t>=0;t--){var n=y[t];if(r(e,n))return n}return y[0]}function r(e,t){return e>=t}function a(e,t){var r;return r="best unit"===t?n(e):t,e/=r,{number:e,unit:r}}function s(e,t,n){var r=e;if(void 0!==t)if(n)r=e.toFixed(t);else{var a=Math.pow(10,t);r=(Math.round(e*a)/a).toString()}return r}function i(e){return e.replace(/\.[0-9]*/,"")}function o(e,t){var n=i(e),r=e.replace(/[0-9]*\.?/,"").slice(0,t);return n+(0!=r?"."+r:"")}function c(e,t,n,r,a){if(!r)switch(t){case"length":var s=i(e).length;e=o(e,a>=s?a-s:0);break;case"precise":n==p&&(e=o(e,0)),n==h&&(e=o(e,1)),n==v&&(e=o(e,2));break;case"rough":(n==p||n==h||n==v&&i(e)>=100)&&(e=o(e,0)),n==v&&(e=o(e,1))}return e}var l,d,u="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,f=1,p=1024,h=Math.pow(p,2),v=Math.pow(p,3),m=Math.pow(p,4),y=[f,p,h,v,m],b=function(e,t,n){var r=t||l,a=n||d;return this instanceof b?(this.localizedUnitNames=r,this.separatorNumber=a,e=parseFloat(e,10),this.bytes=e>0&&e||0,this.units="best unit",this.fixed=!1,this.withUnit=!0,this.withNumber=!0,this.calculation="precise",void 0):new b(e,r,a)};b.init=function(e,t){l=e,d=t};var g={"best unit":function(){this.units="best unit"},GB:function(){this.units=v},MB:function(){this.units=h},KB:function(){this.units=p},fixed:function(){this.fixed=!0},"float":function(){this.fixed=!1},"int":function(){this.precision=0},precision:function(e){this.precision=e},number:function(){this.withUnit=!1},unit:function(){this.withNumber=!1},precise:function(){this.calculation="precise"},rough:function(){this.calculation="rough"},length:function(e){this.calculation="length",this.length=e}};b.prototype.format=function(){var e=u.toArray(arguments);if(e.length){var t=e[0],n=e.slice(1);"function"==typeof g[t]&&g[t].apply(this,n)}return this},b.prototype.getString=function(){var e=a(this.bytes,this.units),t=this.getNumber().toString();return t=this.localize(t,e.unit,this.withUnit,this.withNumber).replace(/\./,this.separatorNumber)},b.prototype.getNumber=function(){var e=a(this.bytes,this.units),t=c(e.number.toString(),this.calculation,e.unit,this.precision,this.length);return t=s(parseFloat(t,10),this.precision,this.fixed)},b.prototype.getUnit=function(){return this.localizeUnit(a(this.bytes,this.units).unit)},b.prototype.localizeUnit=function(e){for(var t=0,n=y.length;n>t;t++)if(e==y[t])return this.localizedUnitNames[t]},b.prototype.localize=function(e,t,n,r){return n&&r?e=e+" "+this.localizeUnit(t):r||(e=this.localizeUnit(t)),e},t.exports=b}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t){!function(n){function r(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(192|r>>6),t+=String.fromCharCode(128|63&r)):(t+=String.fromCharCode(224|r>>12),t+=String.fromCharCode(128|63&r>>6),t+=String.fromCharCode(128|63&r))}return t}var a="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=e("./format");t.exports={capitalize:function(e){return"string"==typeof e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):e},isEmail:function(e){var t=/^[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]+(?:\.[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]*)*@(?:[a-zа-яё0-9]([-a-zа-яё0-9]{0,61}[a-zа-яё0-9])?\.)+(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|рф|[a-z]{2})$/i;return t.test("string"==typeof e&&e.toLowerCase())},getUnique:function(){var e=null,t=1;return function(){var n=s.timestampToDate(Date.now()/1e3,"YYYY-MM-DD HH-mm-ss"),r=n;return n===e?(r=n+" ("+t.toString()+")",t+=1):t=1,e=n,r}}(),crop:function(e,t,n){return t=parseInt(t,10)||27,n=a.isUndefined(n)?"…":n,t+=Math.floor(.6*(e.match(/i|I|l|j/g)||[]).length),e.length>t?e.substring(0,t).trim().replace(/(\.{1,3})$/g,"")+n:e},md5:function(e){var t,n,a,s,i,o,c,l,d,u=function(e,t){return e<<t|e>>>32-t},f=function(e,t){var n,r,a,s,i;return a=2147483648&e,s=2147483648&t,n=1073741824&e,r=1073741824&t,i=(1073741823&e)+(1073741823&t),n&r?2147483648^i^a^s:n|r?1073741824&i?3221225472^i^a^s:1073741824^i^a^s:i^a^s},p=function(e,t,n){return e&t|~e&n},h=function(e,t,n){return e&n|t&~n},v=function(e,t,n){return e^t^n},m=function(e,t,n){return t^(e|~n)},y=function(e,t,n,r,a,s,i){return e=f(e,f(f(p(t,n,r),a),i)),f(u(e,s),t)},b=function(e,t,n,r,a,s,i){return e=f(e,f(f(h(t,n,r),a),i)),f(u(e,s),t)},g=function(e,t,n,r,a,s,i){return e=f(e,f(f(v(t,n,r),a),i)),f(u(e,s),t)},w=function(e,t,n,r,a,s,i){return e=f(e,f(f(m(t,n,r),a),i)),f(u(e,s),t)},_=function(e){for(var t,n=e.length,r=n+8,a=(r-r%64)/64,s=16*(a+1),i=Array(s-1),o=0,c=0;n>c;)t=(c-c%4)/4,o=8*(c%4),i[t]=i[t]|e.charCodeAt(c)<<o,c++;return t=(c-c%4)/4,o=8*(c%4),i[t]=i[t]|128<<o,i[s-2]=n<<3,i[s-1]=n>>>29,i},x=function(e){var t,n,r="",a="";for(n=0;3>=n;n++)t=255&e>>>8*n,a="0"+t.toString(16),r+=a.substr(a.length-2,2);return r},k=Array(),A=7,j=12,S=17,C=22,z=5,M=9,D=14,P=20,I=4,T=11,R=16,E=23,O=6,q=10,L=15,F=21;for(e=r(e),k=_(e),o=1732584193,c=4023233417,l=2562383102,d=271733878,t=0;t<k.length;t+=16)n=o,a=c,s=l,i=d,o=y(o,c,l,d,k[t+0],A,3614090360),d=y(d,o,c,l,k[t+1],j,3905402710),l=y(l,d,o,c,k[t+2],S,606105819),c=y(c,l,d,o,k[t+3],C,3250441966),o=y(o,c,l,d,k[t+4],A,4118548399),d=y(d,o,c,l,k[t+5],j,1200080426),l=y(l,d,o,c,k[t+6],S,2821735955),c=y(c,l,d,o,k[t+7],C,4249261313),o=y(o,c,l,d,k[t+8],A,1770035416),d=y(d,o,c,l,k[t+9],j,2336552879),l=y(l,d,o,c,k[t+10],S,4294925233),c=y(c,l,d,o,k[t+11],C,2304563134),o=y(o,c,l,d,k[t+12],A,1804603682),d=y(d,o,c,l,k[t+13],j,4254626195),l=y(l,d,o,c,k[t+14],S,2792965006),c=y(c,l,d,o,k[t+15],C,1236535329),o=b(o,c,l,d,k[t+1],z,4129170786),d=b(d,o,c,l,k[t+6],M,3225465664),l=b(l,d,o,c,k[t+11],D,643717713),c=b(c,l,d,o,k[t+0],P,3921069994),o=b(o,c,l,d,k[t+5],z,3593408605),d=b(d,o,c,l,k[t+10],M,38016083),l=b(l,d,o,c,k[t+15],D,3634488961),c=b(c,l,d,o,k[t+4],P,3889429448),o=b(o,c,l,d,k[t+9],z,568446438),d=b(d,o,c,l,k[t+14],M,3275163606),l=b(l,d,o,c,k[t+3],D,4107603335),c=b(c,l,d,o,k[t+8],P,1163531501),o=b(o,c,l,d,k[t+13],z,2850285829),d=b(d,o,c,l,k[t+2],M,4243563512),l=b(l,d,o,c,k[t+7],D,1735328473),c=b(c,l,d,o,k[t+12],P,2368359562),o=g(o,c,l,d,k[t+5],I,4294588738),d=g(d,o,c,l,k[t+8],T,2272392833),l=g(l,d,o,c,k[t+11],R,1839030562),c=g(c,l,d,o,k[t+14],E,4259657740),o=g(o,c,l,d,k[t+1],I,2763975236),d=g(d,o,c,l,k[t+4],T,1272893353),l=g(l,d,o,c,k[t+7],R,4139469664),c=g(c,l,d,o,k[t+10],E,3200236656),o=g(o,c,l,d,k[t+13],I,681279174),d=g(d,o,c,l,k[t+0],T,3936430074),l=g(l,d,o,c,k[t+3],R,3572445317),c=g(c,l,d,o,k[t+6],E,76029189),o=g(o,c,l,d,k[t+9],I,3654602809),d=g(d,o,c,l,k[t+12],T,3873151461),l=g(l,d,o,c,k[t+15],R,530742520),c=g(c,l,d,o,k[t+2],E,3299628645),o=w(o,c,l,d,k[t+0],O,4096336452),d=w(d,o,c,l,k[t+7],q,1126891415),l=w(l,d,o,c,k[t+14],L,2878612391),c=w(c,l,d,o,k[t+5],F,4237533241),o=w(o,c,l,d,k[t+12],O,1700485571),d=w(d,o,c,l,k[t+3],q,2399980690),l=w(l,d,o,c,k[t+10],L,4293915773),c=w(c,l,d,o,k[t+1],F,2240044497),o=w(o,c,l,d,k[t+8],O,1873313359),d=w(d,o,c,l,k[t+15],q,4264355552),l=w(l,d,o,c,k[t+6],L,2734768916),c=w(c,l,d,o,k[t+13],F,1309151649),o=w(o,c,l,d,k[t+4],O,4149444226),d=w(d,o,c,l,k[t+11],q,3174756917),l=w(l,d,o,c,k[t+2],L,718787259),c=w(c,l,d,o,k[t+9],F,3951481745),o=f(o,n),c=f(c,a),l=f(l,s),d=f(d,i);
var N=x(o)+x(c)+x(l)+x(d);return N.toLowerCase()},processHashResource:function(e){var t=e.split(":/"),n=t.length>1?":/"+t.slice(1).join(":/"):"";return t[0].replace(/\s/g,"+")+n},breakNumber:function(e){for(var t=""+(e||"0"),n=t.length,r=n%3||3,a=[];t.length;)a.push(t.substring(0,r)),t=t.substring(r),r=3;return a}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./format":35}],51:[function(e,t){t.exports={getDifferenceInDays:function(e,t){return Math.abs(Math.floor((e-t)/60/60/24))}}},{}],52:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={init:n.once(function(){$("<iframe />",{src:"/tns.html",style:"display: none"}).appendTo("body")})}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t){t.exports={scaleDimensionsToArea:function(e,t){var n=e[0]/e[1],r=t[0]/t[1];return r>n?[Math.round(e[0]*t[1]/e[1]),t[1]]:[t[0],Math.round(e[1]*t[0]/e[0])]}}},{}],54:[function(e,t){var n=e("url");t.exports={cutProto:function(e){return e.replace(/^(https:|http:)/,"")},replaceTld:function(e,t){var n=e.match(/(?:(?:https?\:)?\/\/)?[^\/]*/g)[0],r=n.replace(/(\w+|com\.tr)$/,t);return e.replace(n,r)},getLocaleInvite:function(e){var t="ru";return"com.tr"===e?t="tr":"com"===e?t="en":"ua"===e&&(t="uk"),t},makeRelative:function(e){return e=e.replace(/^(https:|http:)/,"").replace(/^\/\//,""),"/"+e.split("/").slice(1).join("/")},addPrefixDownloader:function(e){function t(e){for(var t=0,n=0,r=e.length;r>n;n++){var a=e.charCodeAt(n);t=(t<<5)-t+a,t|=0}return t>>>=0}if(/^(https?:)?\/\/downloader\.(dst|disk)\.yandex\./.test(e)){var n=t(e)%4+1;return e.replace(/^(.*?\/\/)/,"$1"+n+".")}return e},replaceParam:function(e,t,r){var a=n.parse(e,!0);return a.query[t]=r,a.search="",n.format(a)}}},{url:6}],55:[function(e,t){e("views/app/app"),e("views/panes/content-error/content-error"),e("views/page-error/page-error"),e("views/header/header"),e("views/forms/form-search/form-search"),e("views/footer-public/footer-public"),t.exports=ns.layout.define("error-public",{app:{"layerApp@":{contentError:{header:{"boxFormSearch@":"formSearch"},pageError:!0}},"layerWdg@":{},"layerModal@":{},"layerAuth@":{},"boxFooterPublic@":{}}})},{"views/app/app":136,"views/footer-public/footer-public":144,"views/forms/form-search/form-search":145,"views/header/header":146,"views/page-error/page-error":148,"views/panes/content-error/content-error":149}],56:[function(e){e("layouts/public"),e("views/file-public/file-public"),e("views/player-audio-public/player-audio-public"),e("views/player-video/player-video-file-public"),e("helpers/path");var t=e("helpers/page");ns.layout.define("file-public",{"app layerApp@ contentPublic content@":function(e){var n={filePublic:{}},r=ns.Model.get("resource",{id:e.idRoot}),a=r.get(".error.id");return a&&0===a.indexOf("HTTP_50")&&(t.go("/public/error","preserve"),r.invalidate()),"player"===r.get(".app")&&(n.filePublic.playerAudioPublic=!0),"video"===r.get(".meta.mediatype")&&(n.filePublic["boxVideoPublic@"]={"playerVideoFilePublic&":!0}),n}},"public")},{"helpers/page":45,"helpers/path":46,"layouts/public":57,"views/file-public/file-public":143,"views/player-audio-public/player-audio-public":151,"views/player-video/player-video-file-public":152}],57:[function(e){e("views/app/app"),e("views/panes/content-public/content-public"),e("views/aside-public/aside-public"),e("views/header/header"),e("views/forms/form-search/form-search"),e("views/dialogs/dialog-auth/dialog-auth"),e("views/dialogs/dialog-auth-copy/dialog-auth-copy"),e("views/fetch/resource"),e("views/notifications/notifications"),e("views/footer-public/footer-public"),e("views/slices/slice-link-mail/slice-link-mail"),e("views/slices/slice-shared/slice-shared"),e("views/slices/slices"),e("views/direct-content-public/direct-content-public"),e("views/direct-aside-public/direct-aside-public"),e("models/states/state-dialog-auth"),e("models/user-current/user-current"),e("models/config/config"),ns.layout.define("public",{app:{"layerApp@":{contentPublic:{header:{formSearch:!0},"boxCrumbs@":function(){},"boxSlices@":function(){return ns.Model.get("userCurrent").get(".hasDisk")?{slices:{"sliceLinkMail&":!0,"sliceShared&":!0}}:{}},directContentPublic:!0,asidePublic:!0,directAsidePublic:!0,"content@":{}}},"layerWdg@":function(){return"notifications"},"layerModal@":function(){},"layerAuth@":function(){var e=ns.Model.get("stateDialogAuth"),t=e.get(".isOpen"),n=e.get(".type");if(t){if("copy"===n)return"dialogAuthCopy";if("default"===n)return"dialogAuth"}},"boxFooterPublic@":function(){return{footerPublic:!0}}}})},{"models/config/config":69,"models/states/state-dialog-auth":118,"models/user-current/user-current":121,"views/app/app":136,"views/aside-public/aside-public":137,"views/dialogs/dialog-auth-copy/dialog-auth-copy":138,"views/dialogs/dialog-auth/dialog-auth":139,"views/direct-aside-public/direct-aside-public":140,"views/direct-content-public/direct-content-public":141,"views/fetch/resource":142,"views/footer-public/footer-public":144,"views/forms/form-search/form-search":145,"views/header/header":146,"views/notifications/notifications":147,"views/panes/content-public/content-public":150,"views/slices/slice-link-mail/slice-link-mail":154,"views/slices/slice-shared/slice-shared":155,"views/slices/slices":156}],58:[function(e,t){!function(e){"use strict";function n(e,t){return b?b:this instanceof n?(b=this,this.hasAuth=!!t,this.config={},this.update(e),void 0):new n(e,t)}function r(e){e=e||{};var t=this.config;t.passportHost=e.passportHost||t.passportHost||f(),t.authRetpath=e.authRetpath||t.authRetpath||"/auth.html",t.yandexuid=e.yandexuid||t.yandexuid||p()}function a(e){var t=this;if(e=e||{},this.loginDefer)return this.loginDefer;var n=this.loginDefer=$.Deferred();if(n.then(function(e){t.loginDefer=null,t.idkey=null,t.hasAuth=!0,t.trigger("login",e)},function(e){t.loginDefer=null,e.idkey&&(t.idkey=e.idkey),"internal-exception"==e.status&&(t.idkey=null),t.hasAuth=!1,t.trigger("authError",e)}),this.hasAuth)return n.resolve({status:"ok"});if(!e.login)return n.reject({status:"login-empty"});if(!e.password)return n.reject({status:"password-empty"});var r=this.config.passportHost+g;return i.call(this,r,e,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise()}function s(e){var t=this;if(this.switchDefer)return this.switchDefer;if(!this.hasAuth)return n.reject({status:"no-auth"});var n=this.switchDefer=$.Deferred();n.then(function(e){t.switchDefer=null,t.idkey=null,t.trigger("login",e)},function(e){t.switchDefer=null,e.idkey&&(t.idkey=e.idkey),"internal-exception"==e.status&&(t.idkey=null),t.trigger("authError",e)});var r=this.config.passportHost+g,a={uid:e,action:"change_default",yu:this.config.yandexuid};return i.call(this,r,a,function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise()}function i(t,n,r,a){var s="auth"+Math.floor(987654*Math.random());n.retpath=this.config.authRetpath,"/"==n.retpath[0]&&(n.retpath=location.protocol+"//"+location.host+n.retpath),n.idkey=this.idkey;var i=h(n,t,s),o=v(s);$("body").append(i).append(o),e[s]=function(t){i.remove(),o.remove(),delete e[s],t=m(t),"ok"==t.status?r(t):a(t)},i.submit()}function o(){this.hasAuth=!1,this.trigger("logout")}function c(e,t){var n=this.config.passportHost+w;return this.config.from&&(n+="&from="+encodeURIComponent(this.config.from)),n+="&retpath="+y(e),t?n:(location=n,void 0)}function l(e,t){var n=this.config.passportHost+_;return this.config.from&&(n+="&from="+encodeURIComponent(this.config.from)),n+="&retpath="+y(e),t?n:(location=n,void 0)}function d(e,t){var n=this.config.passportHost+x;return n+="&yu="+encodeURIComponent(this.config.yandexuid),n+="&retpath="+y(e),n+="&clean=yes",t?n:(location=n,void 0)}function u(e,t){function n(){l++;var n=e[l];return n?(n=n+"?"+$.param(t),o.attr("src",n),void 0):(s.reject(c||{status:"noauth"}),void 0)}function r(t){return t.url=e[l],!c&&t&&"nocookie"!=t.status&&(c=t),t&&"ok"==t.status?(s.resolve(t),void 0):(n(),void 0)}var a=this,s=$.Deferred();s.done(function(){a.hasAuth=!0}).always(function(e){o.remove(),$(window).off("message."+i),a.trigger("auth-status",e)});var i="__findAuthStatus"+String(Math.random()).slice(2),o=v(i).appendTo("body");$(window).on("message."+i,function(t){t=t.originalEvent;for(var n=!1,a=0;a<e.length;a++)if(0===e[a].indexOf(t.origin)){n=!0;break}if(n&&0===t.data.indexOf(i)){var s=JSON.parse(t.data.slice(i.length));r(s)}});var c,l=-1;return t=$.extend({urlOrigin:""+location},t),n(),s.promise()}function f(){var e=location.host.split(".").pop();if("net"==e)throw Error("Bad domain");return"tr"==e&&(e="com.tr"),"https://passport.yandex."+e}function p(){for(var e=document.cookie.split("; "),t=0;t<e.length;t++)if(0==e[t].indexOf("yandexuid="))return e[t].slice(10);return""}function h(e,t,n){for(var r=$("<form method=POST>").attr({action:t,target:n}).hide(),a=0;a<k.length;a++){var s=k[a];e[s]&&$("<input>").attr("name",s).val(e[s]).appendTo(r)}return r}function v(e){return $("<iframe>").attr("name",e).hide()}function m(e){var t={};e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].match(/([^=]+)=(.*)/);"ncrnd"!=r[1]&&(t[r[1]]=r[2])}return t}function y(e){return e&&"/"==e[0]&&(e=location.protocol+"//"+location.host+e),encodeURIComponent(e||location)}var b,g="/passport?mode=embeddedauth",w="/passport?mode=register",_="/passport?mode=restore",x="/passport?mode=logout";no.extend(n.prototype,ns.Events,{update:r,login:a,switchAccount:s,logout:o,register:c,restore:l,exit:d,findAuthStatus:u});var k=["login","password","retpath","idkey","captcha_answer","twoweeks","uid","action","yu"];t.exports=n}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(){try{var e=$("#models-client").text()||"[]";ns._models_preloaded=JSON.parse(e)}catch(t){}},{}],60:[function(){!function(e){function t(e,t,n){[].slice.call(e).forEach(function(e){nb.block(e).on(t,n)})}function n(e,t,n){[].slice.call(e).forEach(function(e){nb.block(e).off(t,n)})}e.nb.bindTo=t,e.nb.unbindTo=n}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e("config");var r=e("helpers/path"),a=e("routers/public");ns.log.error=function(e,t,n){(ns.DEBUG||no.de)&&console.error("ns.log.error",e,t,n)},ns.log.exception=function(e,t,n){(ns.DEBUG||no.de)&&console.error("ns.log.exception",e,t,n)},ns.View.prototype.hasErrorFatalModels=function(e){Array.isArray(e)||(e=[e]);var t=!1;return e.forEach(function(e){var n=e.getData().error;return n&&n.id&&0===n.id.indexOf("HTTP_50")?(t=!0,!0):void 0}),t},ns.View.prototype.getViewChild=function(e){return this.views?n.findWhere(this.views,{params:e}):void 0},ns.Model.prototype.fetch=function(){return e("models/queues/queue-sync"),ns.Model.get("queueSync").push(this)},ns.Model.prototype.updateData=function(e){this.setData(n.merge({},this.getData(),e||{}))},ns.Model.prototype.setDataDefault=function(){var e=this.info.defaults;return e="function"==typeof e?e.call(this):e,this.setData(n.merge({},e||{}))},ns.page.getCurrentUrl=function(){return window.history.location.pathname+window.history.location.search};var s=ns.router.generateUrl;ns.router.generateUrl=function(e,t){var i=t.idContext?r.getIdApp(t.idContext):"client",o=a.parseUrl(ns.page.currentUrl);return 0===["album","public"].indexOf(i)?a.formatUrl(n.extend({prefix:o.prefix},t)):s.apply(this,arguments)},n.extend(ns.router.regexps,{id:"[A-Za-z0-9_-]*",path:"(?:\\/[^\\/\\?]+)+",slashOptional:"\\/?",pipe:"(?:\\||%7C)",query:"[^/]+",force:"force",urlPublic:"[^?]*"})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,"helpers/path":46,"models/queues/queue-sync":87,"routers/public":134}],62:[function(){document.attachEvent&&document.attachEvent("onpropertychange",function(e){var t=window.location.hash,n=document.title.replace(t,"");"title"===e.propertyName&&t&&-1!==document.title.indexOf(t)&&setTimeout(function(){document.title=n},0)})},{}],63:[function(){!function(e){function t(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function n(t){var n=e(t.target);n.hide();var r=document.elementFromPoint(t.clientX,t.clientY);n.show(),e(r).trigger(t.type)}e.fn.serialize2Object=function(){var t={};return e.each(this.serializeArray(),function(n,r){var a=r.name,s=r.value;t[a]=void 0===t[a]?s:e.isArray(t[a])?t[a].concat(s):[t[a],s]}),t};var r=t(["transition","webkitTransition","oTransition","MSTransition"]),a=t(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),s=r+"end";e.fn.transform=function(e){return this.each(function(){if(""===this.style[a]&&(this.style[a]="translate3d(0,0,0) scale(1)"),e.duration){var t=function(){this.style[r]="",this.removeEventListener(s,t),clearTimeout(n),e.done&&e.done()}.bind(this);this.style[r]="all "+e.duration+"ms",this.addEventListener(s,t);var n=setTimeout(t,e.duration)}this.style[a]=this.style[a].replace(/(translate3d[^\)]+\)\s).*(scale[^\)]+\))/,function(t,n,r){return e.translate&&(n="translate3d("+e.translate.x+"px,"+e.translate.y+"px,0) "),"undefined"!=typeof e.scale&&(r="scale("+e.scale+") "),n+r})}),e.css&&this.css(e.css),this};var i=ns.V.EVENTS.click+" "+ns.V.EVENTS.dblclick;e.fn.pointerEvents=function(e){return"pointerEvents"in document.documentElement.style?(this.css("pointer-events",e),this):("none"===e&&this.on(i,n),"auto"===e&&this.off(i,n),this)}}(jQuery)},{}],64:[function(e){var t=e("environment"),n=e("swfobject"),r="iOS"===t.agent.OSFamily;Modernizr.addTest("videostream",function(){if(n.hasFlashPlayerVersion("9.0.0")&&!r)return"flv";var e=document.createElement("video");try{if(e.canPlayType("application/vnd.apple.mpegURL"))return"hls";if(e.canPlayType("video/webm"))return"webm"}catch(t){}return!1}),Modernizr.addTest("audiomp3",function(){var e=document.createElement("audio");try{return!!e.canPlayType("audio/mpeg;").replace(/no/,"")}catch(t){return!1}}),Modernizr.addTest("isMobile",function(){return t.agent.isMobile}),Modernizr.addTest("uploader",function(){return window.FormData?"html5":n.hasFlashPlayerVersion("10.0.0")?"flash":!1}),Modernizr.addTest("uploaddrag",function(){return Modernizr.draganddrop&&Modernizr.filereader}),Modernizr.addTest("folderupload",function(){var e=parseInt(t.agent.BrowserBaseVersion,10);return"Chromium"===t.agent.BrowserBase&&e>=21}),Modernizr.addTest("webkit",function(){return new RegExp(" AppleWebKit/").test(navigator.userAgent)})},{environment:27,swfobject:135}],65:[function(e,t){!function(n){function r(e){this.id="broker_"+f++,this.params=c.defaults(e,u.params)}function a(e){var t=s();return e=c.defaults(e||{},{scrollbars:"yes",resizable:1,menubar:0,toolbar:0,status:0,location:0,directories:0},t),c.map(e,function(e,t){return t+"="+e}).join(", ")}function s(){var e=500,t=280;return{width:e,height:t,left:Math.round((screen.availWidth-e)/2),top:Math.round((screen.availHeight-t)/2)}}function i(e,t){var n=c.map(t,function(e,t){return t+"="+e}).join("&");return e+=e.match("#")?"&":"#",e+n}function o(e,t,n){e=e+"?"+c.map(n,function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&");var r=a(),s=window.open(e,t,r);return s.focus(),s}var c="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=e("config"),d=document.location,u={urlBroker:l.domains.social+"/broker/start",retpath:d.protocol+"//"+d.hostname+"/close_broker.html",brokers:{},params:{consumer:"disk",application:"",action_if_anonymous:"authorize",result_location:"fragment"}},f=0;r.prototype.start=function(){var e=new Vow.Promise;u.brokers[this.id]=e;var t={broker:this.id};this.params.ddom&&(t.ddom=this.params.ddom),this.params.retpath=i(this.params.retpath||u.retpath,t);var n=o(u.urlBroker,this.id,this.params),r=setInterval(function(){n&&n.closed!==!0||(e.reject({status:"error"}),clearInterval(r))}.bind(this),500);return e},t.exports=n.__social__={Broker:r,brokers:u.brokers}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25}],66:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("config"),s=e("consts"),i=e("environment"),o=e("helpers/path"),c=e("helpers/space"),l=e("helpers/string"),d=e("helpers/resource"),u=e("helpers/format"),f=e("helpers/time"),p=e("helpers/uri"),h=e("helpers/formatter-metrika"),v=e("helpers/guid"),m=e("helpers/message"),y=e("helpers/resources"),b=t.exports={};b.entityify=ns.entityify,b.deentityify=ns.deentityify,b.encodeURIComponent=encodeURIComponent,b.escapePath=o.escape,b.isParent=o.isParent,b.dirname=o.dirname,b.basename=o.basename,b.getAlias=d.getAlias,b.capitalize=l.capitalize,b.trim=$.trim,b.md5=l.md5,b.round=Math.round.bind(Math),b.range=r.range.bind(r),b.getConfig=function(){return[{data:a}]},b.getEnvironment=no.value(i),b.getConsts=no.value(s),b.makeUrlRelative=p.makeRelative,b.isInsideFolderSocial=d.isInsideFolderSocial,b.replaceParam=p.replaceParam,b.getDifferenceInDays=f.getDifferenceInDays,b.stringCrop=l.crop,b.breakNumber=l.breakNumber,b.substring=function(e,t,n){return e=e||"",e.substr(t,n)},b.stringIndexOf=function(e,t){return e.indexOf(t)},b.stringLength=function(e){return e.length},b.json=function(e){return JSON.stringify(e[0].data)},b.parseJSON=function(e){return[{data:JSON.parse(e[0].data)}]},b.secondsToTime=u.secondsToTime,b.timestampToDate=u.timestampToDate,b.timestampCurrent=function(){return(new Date).getTime()/1e3},b.getTimestamp=function(e){return new Date(e).getTime()/1e3},b.reverse=function(e){return r.clone(e).reverse()},b.last=function(e){return[r.last(e)]},b.contains=function(e,t){return r.contains(r.pluck(e,"data"),t)},b.formatSpace=function(e){for(var t=c(e),n=Array.prototype.slice.call(arguments,1),r=0,a=n.length;a>r;r++){var s=n[r];if("precision"===s||"length"===s){var i=parseInt(n[r+1],10);isNaN(i)||(t.format(s,i),r++)}else t.format(s)}return t.getString().replace(/\./,",")},b.breakLongWords=function(e,t){"undefined"==typeof t&&(t=12);var n=" ",a="<wbr />",s=new RegExp(".{1,"+t+"}","g");return r.map(e.split(n),function(e){return r.map(e.match(s)||[],ns.entityify).join(a)}).join(n)},b.sum=function(e){return r.reduce(r.pluck(e,"data"),function(e,t){return e+t},0)},b.now=function(){return Math.round(Date.now()/1e3)},b.modernizr=function(e){return Modernizr[e]},b.split=function(e,t,n){var r=e.split(t,n),a=[];return $.each(r,function(e,t){a.push({data:t})}),a},b.split2Nodeset=function(e,t){return yr.array2nodeset(e.split(t||","))},b.join=function(e,t){return r.pluck(r.pluck(e,"data"),"item")[0].join(t||",")},b.toLowerCase=function(e){return e.toLowerCase()},b.maxAmongItems=function(e){var t=yr.nodeset2data(e),n=e.length;return 0===n||1===n?t:r.max(t)},b.getFullYear=function(){return(new Date).getFullYear()},b["nb-extend"]=function(e,t){if(t&&t[0])if("string"==typeof t)e[0].data.content=t;else{var n=e[0].data,a=t[0].data,s=r.extend({},n,a);e[0].data=s}return e},b["nb-wrap"]=function(e,t){var n={};return t&&t.length&&(n[e]=1==t.length?t[0].data:r.pluck(t,"data")),[{data:n,name:"",parent:null,doc:t[0].doc}]},b["nb-uniq"]=v,b.isUrlWebClient=function(e){var t="/client";return 0===e.indexOf(a.links.disk+t)},b.getTitleSocial=m.getTitleSocial,b.getMessageError=m.getMessageError,b.getGroupFolderPublic=function(e){return y.getGroupFolderPublic(yr.nodeset2data(e))},b.getPeriodsPhoto=function(e){var e=yr.nodeset2data(e),t=[{data:{year:e[0].year,months:[]},name:"",parent:null}];return r.each(e,function(e){if(!e.isEmpty){var n=t[t.length-1].data,r={name:e.month,id:e.id};e.year!==n.year?t.push({data:{year:e.year,months:[r]},name:"",parent:null}):n.months.push(r)}}),t},b.toLowerCase=function(e){return e.toLowerCase()},"undefined"!=typeof i18n&&(b.i18n=i18n),"undefined"!=typeof i18n_unsafe&&(b.i18n_unsafe=i18n_unsafe),"undefined"!=typeof borschik&&(b["borschik-link"]=borschik.link),b.getNameContextMetrika=h.getNameContext}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,consts:26,environment:27,"helpers/format":35,"helpers/formatter-metrika":36,"helpers/guid":37,"helpers/message":41,"helpers/path":46,"helpers/resource":47,"helpers/resources":48,"helpers/space":49,"helpers/string":50,"helpers/time":51,"helpers/uri":54}],67:[function(e,t){var n=ns._models_preloaded||[],r={};t.exports=function(e){var t,a=this.id;if(!r[a]){r[a]={};for(var s=0;s<n.length;s++){var i=n[s];i.model==a&&(t=ns.Model.key(a,i.params),r[a][t]=i.data)}}return t=ns.Model.key(a,e),r[a][t]||null},t.exports.fill=function(){for(var e=0;e<n.length;e++){var t=n[e];try{if(ns.Model.getValid(t.model,t.params))continue}catch(r){continue}ns.Model.get(t.model,t.params).setData(t.data)}}},{}],68:[function(e){var t=e("helpers/album");ns.Model.define("album",{params:{idAlbum:null},events:{"ns-model-changed.public":"fixShortUrl"},methods:{preprocessData:function(e){return e.error?e:(-1===e.id.indexOf("/album/")&&t.preprocessId(e),t.preprocessData(e))},fixShortUrl:function(){this.data.public.short_url=t.fixShortUrl(this.data.public.short_url)},show:function(){this.set(".state.hidden",!1)},hide:function(){this.set(".state.hidden",!0)}}})},{"helpers/album":28}],69:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;e("models/model-local").define("config",{methods:{preprocessData:function(t){return t=r.merge(this.data||{},t),e("helpers/config").prepare(t),t},getTldReal:function(){var e=this.get(".tld");return e=e.split(".").pop()}},defaults:e("models-preloaded")}),t.exports=ns.Model.get("config")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/config":30,"models-preloaded":67,"models/model-local":76}],70:[function(){ns.Model.define("confirmation",{params:{confirmation:null},methods:{confirm:function(e){return this._decide(!0,e)},reject:function(e){return this._decide(!1,e)},confirmAll:function(e){return this._all()._decide(!0,e)},rejectAll:function(e){return this._all()._decide(!1,e)},_all:function(){return this.set(".all",!0),this},_decide:function(e,t){return this.set(".confirm",e),this.set(".data",t),this.get(".all")&&this.trigger("all",this.getData()),this.trigger(e?"confirmed":"rejected",t),this}}})},{}],71:[function(){!function(e){var t="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,n=6e4;ns.Model.define("counterMail",{events:{"ns-model-htmlinit":"onhtmlinit"},methods:{preprocessData:function(e){return{count:parseInt(e.countMail&&$(e.countMail).find("mail").text()||"0",10)}},onhtmlinit:function(){this.scheduleUpdateOnce()},scheduleUpdateOnce:t.once(function(){setInterval(function(){this.fetch()}.bind(this),n)})}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;e("models/model-local").define("environment",{methods:{preprocessData:function(e){return e=r.merge(this.data||{},e),e.session&&"undefined"==typeof e.session.canHaveAuth&&(e.session.canHaveAuth=!0),e}},defaults:e("models-preloaded")}),t.exports=ns.Model.get("environment")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models-preloaded":67,"models/model-local":76}],73:[function(e){e("models/model-local").define("inviteCurrent",{defaults:e("models-preloaded")})},{"models-preloaded":67,"models/model-local":76}],74:[function(e){!function(t){function n(e){return!e.get(".state.closed")}function r(e){return e.hash}e("models/resource/resource"),e("models/invites/invite-current");var a="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e("helpers/path");var s=e("helpers/resource");ns.Model.define("invitesFolder",{split:{model_id:"resource",items:".invites",params:{id:".id"}},methods:{preprocessData:function(e){e=Array.isArray(e)?e:[];var t=ns.Model.get("inviteCurrent");t.setDataDefault();var n=t.getData();return n&&n.owner_uid&&e.unshift(n),{invites:a.map(a.uniq(e,r),s.inviteToResource)}},countOpen:function(){return a.filter(this.models,n).length},fetch:function(){return ns.Model.get("queueRequest").push(this)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/path":46,"helpers/resource":47,"models/invites/invite-current":73,"models/resource/resource":99}],75:[function(e,t){!function(n){e("models/queues/queue-sync");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a="offset",s="amount",i="idItemLast",o=40,c=0,l=t.exports=function(){};no.inherit(l,ns.ModelCollection,{_init:function(){ns.ModelCollection.prototype._init.apply(this,arguments);var e=function(){this.off("ns-model-changed",e);var t=ns.Model.infoLite(this.id),n=t.params[t.amountProperty];!(this.models.length<n)||this.params&&this.params.offset||this.complete()};this.on("ns-model-changed",e)},offset:function(){return c+r.filter(this.models,this.offsetFilter).length},getIdItemLast:function(){return this.models.length?r.filter(this.models,this.offsetFilter).pop().get(".id"):null},offsetFilter:function(e){return!!e},fetchNext:function(){var e=this,t=ns.Model.infoLite(e.id),n=t.params[t.amountProperty];if(this.isValid()&&0===this.models.length&&this.complete(),this.isComplete())return Vow.fulfill([]);if(this.loading)return this.loading;var a=this.loading=new Vow.Promise;this.trigger("ns-model-loading-start");var s=ns.Model.get("queueRequest").push({id:this.id,params:no.extend({},this.params,r.object([[t.offsetProperty,this.offset()]]),r.object([[t.idItemLastProperty,this.getIdItemLast()]]))});return s.always(function(){e.trigger("ns-model-loading-finish"),delete e.loading}),s.then(function(t){var s=e.insert(t.models);t.models.length<n&&e.complete(),s?a.fulfill(t.models):a.fulfill([]),r.defer(function(){ns.Model.destroy(t)})},function(e){a.reject(e)}),a},fetchPortion:function(e){var t=ns.Model.get("queueSync").pushPriority({id:this.id,params:no.extend({},this.params,e)});return t},complete:function(){this._complete=!0,this.trigger("ns-model-loading-complete")},isComplete:function(){return!!this._complete}}),l.define=function(e,t){return t.offsetProperty||(t.offsetProperty=a),t.amountProperty||(t.amountProperty=s),t.idItemLast||(t.idItemLastProperty=i),no.jpath.set(".params."+t.offsetProperty,t,c),no.jpath.set(".params."+t.amountProperty,t,t.sizePortion||o),no.jpath.set(".params."+t.idItemLastProperty,t,null),ns.Model.define(e,t,this)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/queues/queue-sync":87}],76:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t.exports=function(){};no.inherit(r,ns.Model,{isValid:no["true"],_init:function(e,t){var r=ns.Model.prototype._init.call(this,e,t),a=this.info.defaults;return a&&(a=n.isFunction(a)?a.call(this,t):a,this.setData(a)),r}}),r.define=function(e,t){return ns.Model.define(e,t,r)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],77:[function(e,t){!function(n){function r(e){var t=e[0];if(t!==this.get(".status")){this.set(".status",t);var n=this["onStatus"+s.capitalize(t)];"function"==typeof n&&n.apply(this,e.slice(1)),this.trigger("status."+t),this.queueSetStatus.shift(),this.queueSetStatus.length&&this.queueSetStatus[0].call()}}e("models/queues/queue-request"),e("models/queues/queue-confirmations"),e("models/operation/do-status-operation");var a="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=e("helpers/string"),i=e("models/model-local"),o=t.exports=function(){},c="NO_SPACE",l="READ_ONLY";no.inherit(o,i,{_init:function(){return this.countRequestStatus=0,this.queueSetStatus=[],i.prototype._init.apply(this,arguments)},init:no.nop,initFromMessage:no.nop,resetCounter:function(){this.countRequestStatus=0},setStatus:function(){this.queueSetStatus.push(r.bind(this,[].slice.call(arguments))),1===this.queueSetStatus.length&&this.queueSetStatus[0].call()},complete:function(){this.isCompleted()||this.setStatus("completed")},isCompleted:function(){return a.contains(["canceled","failed","done","rejected"],this.get(".status"))},run:function(){return this.setStatus(this.get(".status")||"created"),this},getTimeoutStatus:function(){var e=2e4,t=5,n=2e3,r=Math.min(n+Math.floor(this.countRequestStatus/t)*n,e);return this.countRequestStatus++,r},doRequestStatus:function(){this.nextTick(function(){var e=this.handleResponseStatus.bind(this);ns.Model.get("queueRequest").push({id:"do-status-operation",params:{oid:this.get(".oid")}}).then(e,e)})},confirm:function(e){return ns.Model.get("queueConfirmations").add(a.extend({operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),type:"simple"},e))},prompt:function(e){return this.confirm(a.extend({type:"prompt"},e))},getType:function(){var e=this.id.replace(/^operation/,"");return e.charAt(0).toLowerCase()+e.substr(1)},nextTick:function(e){window.setTimeout(e.bind(this),this.getTimeoutStatus())},isActive:function(){return a.contains(["started","progressing","determined"],this.get(".status"))},countItems:function(){return 1},checkReasonFailed:function(e){var t=e.get(".error")||{};"HTTP_423"===t.id&&this.set(".reason",l),("HTTP_507"===t.id||"507"==t.response)&&this.set(".reason",c)}}),o.define=function(e,t){return t.params={id:null},ns.Model.define(e,t,o)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/string":50,"models/model-local":76,"models/operation/do-status-operation":81,"models/queues/queue-confirmations":84,"models/queues/queue-request":86}],78:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t.exports=function(){};r.define=function(e,t){return ns.Model.define(e,t,r)},no.inherit(r,ns.Model,{_init:function(e){return this.limit=ns.Model.infoLite(e).limit||10,this.items=[],this.itemsProcessing=[],this.busy=!1,ns.Model.prototype._init.apply(this,arguments)},push:function(e){var t=this.createItem(e);return this.items.push(t),this.trigger("added",t),this.nextTick(this.doIteration),t.promise},pushPriority:function(e){var t=this.createItem(e),n=this.items.indexOf(this.itemLastPriority);return this.items.splice(n+1,0,t),this.itemLastPriority=t,this.trigger("added",t),this.doIteration(),t.promise},doIteration:function(){if(!this.busy){var e=this.getPortion();e.length?(this.busy=!0,this.handlePortion(e).always(function(){this.busy=!1,this.trigger("processed",e),this.doIteration()},this),this.trigger("processing",e)):this.trigger("drained")}},getPortion:function(){return this.items.splice(0,this.limit)},createItem:function(e){return{item:e,promise:new Vow.Promise}},handlePortion:function(e){return n.each(e,function(e,t){t.promise&&t.promise.fulfill()}),Vow.fulfill()},nextTick:function(e){n.defer(e.bind(this))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t.exports=function(){};r.define=function(e,t){return ns.Model.define(e,t,r)},no.inherit(r,ns.Model,{_init:function(){ns.Model.prototype._init.apply(this,arguments),n.bindAll(this,"onOperationStatusChanged","unbindOperation"),this.on("ns-model-destroyed",this.unbindOperation)},bindOperation:function(e){this.operation&&this.unbindOperation(),this.operation=e,this.updateOperation(),this.operation.on("ns-model-changed.status",this.onOperationStatusChanged),this.operation.on("ns-model-destroyed",this.unbindOperation)},unbindOperation:function(){this.operation&&(this.operation.off("ns-model-changed.status",this.onOperationStatusChanged),this.operation.off("ns-model-destroyed",this.unbindOperation),this.operation=null,this.setDataDefault())},onOperationStatusChanged:function(){this.operation.get(".status")!=this.get(".operation.status")&&this.updateOperation()},updateOperation:function(){this.set(".operation",n.extend({},this.operation.getData()))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})
},{}],80:[function(e,t){ns.Model.define("notification",t.exports={params:{notification:null}})},{}],81:[function(){ns.Model.define("do-status-operation",{params:{oid:null}})},{}],82:[function(e){!function(t){e("models/resource/resource"),e("models/state-resource/state-resource-public"),e("models/queues/queue-request"),e("models/queues/queue-notifications"),e("models/resources/do-save-resource-public");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("models/model-operation"),a=e("config"),s=e("models/user-current/user-current");r.define("operationSavePublic",{methods:{init:function(){var e=ns.Model.getValid("resource",{id:this.get(".idSrc")});this.set(".src",e),this.set(".async","dir"===e.get(".type"));var t=ns.Model.get("stateResourcePublic",{id:this.get(".idSrc")});t.bindOperation(this),this.once("status.progressing",this.notify.bind(this))},onStatusCreated:function(){this.setStatus("started")},onStatusStarted:function(){this.doRequestSave()},doRequestSave:function(){ns.Model.get("queueRequest").push({id:"do-save-resource-public",params:{id:this.get(".src").get(".id"),async:this.get(".async")?"1":"0"}}).always(this.handleResponseSave,this)},handleResponseSave:function(e){var t=e.valueOf();if(this.get(".async")){var n=t.get(".oid");n?(this.set(".oid",n),this.setStatus("progressing")):this.handleErrorSave(t)}else{var r=t.get(".error");r?this.handleErrorSave(t):this.setStatus("done")}},handleErrorSave:function(e){this.checkReasonFailed(e),this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(e){var t=e.get(".error");if(t)this.handleErrorSave(e);else{var r=e.get(".status");n.contains(["EXECUTING","WAITING"],r)?this.doRequestStatus():"DONE"===r?this.setStatus("done"):this.handleErrorSave(e)}},onStatusDone:function(){this.notify()},onStatusFailed:function(){this.notify()},notify:function(){return this.get(".silent")?void 0:ns.Model.get("queueNotifications").add(this.getDataNotification())},getDataNotification:function(){return{operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),typeSrc:this.get(".src").get(".type"),nameSrc:this.get(".src").get(".name"),linkDownloads:a.links.disk+"/client"+s.get(".foldersDefault.downloads")}}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,"models/model-operation":77,"models/queues/queue-notifications":85,"models/queues/queue-request":86,"models/resource/resource":99,"models/resources/do-save-resource-public":101,"models/state-resource/state-resource-public":115,"models/user-current/user-current":121}],83:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=ns.Model.define("operations",{isCollection:!0,methods:{getByType:function(){var e=n.toArray(arguments);return n.filter(this.models.slice(),function(t){return n.contains(e,t.getType())})}}}),ns.Model.get("operations").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(e,t){!function(n){e("models/confirmation/confirmation");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/guid"),s=e("helpers/page"),i=e("models/model-queue");i.define("queueConfirmations",t.exports={limit:1,methods:{add:function(e){var t=ns.Model.get("confirmation",{confirmation:a()}).setData(e),n=this.push(t);return t.on("all",function(e,t){o.create(t)}),t.on("confirmed",function(e,t){n.fulfill(t)}),t.on("rejected",function(e,t){n.reject(t)}),this._scheduleRecycle(),n},handlePortion:function(e){var t=e[0],n=o.find(t.item.getData());return n?(t.item[n.confirm?"confirm":"reject"](n.data),t.promise[n.confirm?"fulfill":"reject"](n.data),t.promise):(t.promise.always(function(){this.set(".active",null),t.item.destroy(),s.update()},this),t.promise.progress(function(e){"confirm"===e?t.item.confirm():"reject"===e&&t.item.reject()}),this.set(".active",t.item),s.update(),t.promise)},resetRules:function(){o._reset()},_scheduleRecycle:function(){this._intervalRecycle||(this._intervalRecycle=setInterval(r.bind(o._recycle,o),2*o.EXPIRATION_TIMEOUT))}}});var o={EXPIRATION_TIMEOUT:6e4,_rules:{},create:function(e){if(e.gid&&e.status){var t=r.clone(e);e instanceof ns.Model&&"confirmation"===e.id&&(t=e.getData()),this._rules[t.gid]||(this._rules[t.gid]={}),this._rules[t.gid][t.status]={confirm:t.confirm,data:t.data},this._touch(this._rules[t.gid][t.status])}},find:function(e){var t=this._rules[e.gid]&&this._rules[e.gid][e.status];return t&&this._touch(t),t},_touch:function(e){e._expiration=Date.now()+this.EXPIRATION_TIMEOUT},_recycle:function(){var e=Date.now();r.each(this._rules,function(t){r.each(t,function(t,n,r){t._expiration<e&&delete r[n]})})},_reset:function(){this._rules={}}};ns.Model.get("queueConfirmations").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/guid":37,"helpers/page":45,"models/confirmation/confirmation":70,"models/model-queue":78}],85:[function(e,t){!function(n){e("models/notification/notification");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/guid"),s=e("models/model-queue");s.define("queueNotifications",t.exports={limit:4,methods:{add:function(e){if(e.gid){var t=r.find(r.union(this.items,this.itemsProcessing),function(t){return e.gid===t.item.get(".gid")&&e.status===t.item.get(".status")});if(t)return e.src.type!==t.item.get(".typeResources")&&t.item.set(".typeResources","mix"),t.item.set(".count",(t.item.get(".count")||1)+1),t.promise}e.typeResources=e.src&&e.src.type;var n=ns.Model.get("notification",{notification:a()}).setData(e);return this.push(n)},getPortion:function(){var e=Math.max(this.limit-this.itemsProcessing.length,0);return this.items.splice(0,e)},doIteration:function(){var e=this.getPortion();e.length&&(this.itemsProcessing=this.itemsProcessing.concat(e),r.each(e,function(e){e.promise.always(function(){var t=this.itemsProcessing.indexOf(e);-1!==t&&this.itemsProcessing.splice(t,1),this.doIteration()},this)},this),this.handlePortion(e))},handlePortion:function(e){r.each(e,function(e){this.trigger("processing",e)},this)}}}),ns.Model.get("queueNotifications").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/guid":37,"models/model-queue":78,"models/notification/notification":80}],86:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("models/model-queue"),s=5e3;a.define("queueRequest",t.exports={limit:10,methods:{handlePortion:function(e){var t,n=this,a=[],i=[];return r.each(e,function(e){var t={id:e.item.id,params:e.item.params};a.push(t),i.push(e.promise||null)}),t=ns.forcedRequest(a),t.then(function(e){r.each(e,function(e,t){var r=i[t];if(r){var a=e.getError();a?"WRONG_SK"===a.id?n.push(e).then(function(){r.fulfill()},function(){r.reject()}):r.reject(e):r.fulfill(e)}})},function(){var t,a=function(){ns.events.off("ufo-detected-auth-status",a),window.clearTimeout(t);var s=r.filter(e,function(e){return/^do-/.test(e.item.id)?!1:!0});s.length&&n.handlePortion(s)};ns.events.on("ufo-detected-auth-status",a),t=window.setTimeout(a,s)}),t}}}),ns.Model.get("queueRequest").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/model-queue":78}],87:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("models/model-queue");a.define("queueSync",t.exports={limit:3,methods:{handlePortion:function(e){var t=r.reduce(e,function(e,t){var n=ns.Model.key(t.item.id,t.item.params);return e[n]?e[n].promise&&e[n].promise.then(function(){t.promise.fulfill()},function(){t.promise.reject()}):e[n]=t,e},{}),n=r.pluck(t,"item"),a=ns.forcedRequest(n);return a.then(function(e){r.each(e,function(e){var n=ns.Model.key(e.id,e.params);t[n].promise&&t[n].promise.fulfill(e)})}),a}}}),ns.Model.get("queueSync").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/model-queue":78}],88:[function(){ns.Model.get("resource",{id:"/albums"}).setData({id:"/albums",name:"Альбомы",isSlice:!0})},{}],89:[function(){ns.Model.get("resource",{id:"/attach"}).setData({id:"/attach",type:"dir",isSlice:!0,name:"Отправленные как ссылки на Диск",parents:[{id:"/disk",name:"disk"},{id:"/mail",name:"Почтовые вложения"}]})},{}],90:[function(){ns.Model.get("resource",{id:"/disk"}).setData({id:"/disk",type:"dir",name:"Яндекс.Диск",parents:[]})},{}],91:[function(){ns.Model.get("resource",{id:"/mail"}).setData({id:"/mail",type:"dir",isSlice:!0,name:"Почтовые вложения",parents:[{id:"/disk",name:"disk"}]})},{}],92:[function(){ns.Model.get("resource",{id:"/narod"}).setData({id:"/narod",type:"dir",isSlice:!0,name:"Народ",parents:[{id:"/disk",name:"disk"}]})},{}],93:[function(){ns.Model.get("resource",{id:"/photo"}).setData({id:"/photo",name:"Все фото",isSlice:!0})},{}],94:[function(){ns.Model.get("resource",{id:"/published"}).setData({id:"/published",type:"dir",isSlice:!0,name:"Публичные ссылки",parents:[{id:"/disk",name:"disk"}]})},{}],95:[function(){ns.Model.get("resource",{id:"/shared"}).setData({id:"/shared",type:"dir",isSlice:!0,name:"Общие папки",parents:[{id:"/disk",name:"disk"}]})},{}],96:[function(e){e("models/space/space");var t=ns.Model.get("space"),n=ns.Model.get("resource",{id:"/trash"}).setData({id:"/trash",type:"dir",isSlice:!0,name:"Корзина",meta:{size:t.get(".trash")},parents:[{id:"/disk",name:"disk"}]});t.on("ns-model-changed",function(){n.set(".meta.size",t.get(".trash"))})},{"models/space/space":112}],97:[function(){ns.Model.get("resource",{id:"/attach/yaruarchive"}).setData({id:"/attach/yaruarchive",type:"dir",isSlice:!0,name:"Архив Яндекса",parents:[{id:"/disk",name:"disk"}]})},{}],98:[function(){ns.Model.get("resource",{id:"/yavideo"}).setData({id:"/yavideo",type:"dir",isSlice:!0,name:"Яндекс.Видео",parents:[{id:"/disk",name:"disk"}]})},{}],99:[function(e,t){!function(n){e("models/queues/queue-request"),e("models/queues/queue-sync"),e("models/resources/do-get-resource-url");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/resource"),s=e("helpers/path");ns.Model.define("resource",t.exports={params:{id:null},events:{"ns-model-init":"oninit","ns-model-destroy":"ondestroy"},methods:{oninit:function(){r.bindAll(this,"onResourceLinkedCloned","onResourceLinkedRemoved"),0===this.params.id.indexOf("/public/")&&(this.request=e("helpers/ns-custom-request").request),0===this.params.id.indexOf("/album/")&&this.once("ns-model-changed",function(){this.bindToResourceLinked()}.bind(this))},ondestroy:function(){0===this.params.id.indexOf("/album/")&&this.unbindToResourceLinked()},bindToResourceLinked:function(){var e=s.normalize(this.get(".path"));this.resourceLinked=ns.Model.get("resource",{id:e}),this.resourceLinked.on("ufo-created-clone",this.onResourceLinkedCloned),this.resourceLinked.on("ufo-removed",this.onResourceLinkedRemoved)},unbindToResourceLinked:function(){this.resourceLinked&&(this.resourceLinked.off("ufo-created-clone",this.onResourceLinkedCloned),this.resourceLinked.off("ufo-removed",this.onResourceLinkedRemoved),delete this.resourceLinked)},onResourceLinkedCloned:function(e,t){var n=t.data;r.contains(["rename","copy"],t.reason)&&(this.set(".name",n.name),this.set(".path",n.id),this.unbindToResourceLinked(),this.bindToResourceLinked())},onResourceLinkedRemoved:function(){this.remove()},show:function(){this.set(".state.hidden",!1)},hide:function(){this.set(".state.hidden",!0)},rename:function(){return this.promiseRename=new Vow.Promise,this.set(".state.renaming",!0),this.promiseRename},setName:function(e){""===e&&(e=this.get(".name")),this.set(".state.renaming",!1),this.promiseRename.fulfill(e)},resetName:function(){this.set(".state.renaming",!1),this.promiseRename.reject()},startPublish:function(){this.set(".state.publishing",!0)},stopPublish:function(){this.set(".state.publishing",!1)},setPublish:function(e){this.set(".meta.public",1),this.set(".meta.short_url",a.fixShortUrl(e.short_url)),this.notifyUpdated()},unsetPublish:function(){this.set(".meta.public",0),this.set(".meta.short_url",""),this.notifyUpdated()},startImport:function(){this.set(".state.importing",!0)},stopImport:function(){this.set(".state.importing",!1)},fetch:function(){var e=ns.Model.get("queueSync").push(this);return e.then(this.notifyUpdated.bind(this)),e},getURL:function(e){return ns.Model.get("queueRequest").push({id:"do-get-resource-url",params:{id:this.params.id,inline:e&&e.inline}})},preprocessData:function(e){e=a.preprocess(e);var t=[".state.hidden",".state.blocked",".state.portional",".state.publishing"];r.each(t,function(t){var n=this.get(t),a=no.jpath(t,e);!r.isUndefined(n)&&r.isUndefined(a)&&no.jpath.set(t,e,n)},this);var n=this.get(".meta.search_scope");return n&&!no.jpath(".meta.search_scope",e)&&no.jpath.set(".meta.search_scope",e,n),e},notifyCreated:function(e){ns.events.trigger("ufo-resource-created",{resource:this,options:e}),this.trigger("created",this)},notifyUpdated:function(){ns.events.trigger("ufo-resource-updated",{resource:this})},notifyChangedAccess:function(){this.trigger("ufo-changed-access")},notifyReplaced:function(e){this.trigger("ufo-replaced",e)},remove:function(){ns.events.trigger("ufo-resource-removed",{resource:this}),ns.Model.destroy(this)},replace:function(e){this.notifyReplaced(e)},replaceData:function(e){if(s.normalize(e.id)===this.get(".id"))no.jpath.set(".state.blocked",e,!1),no.jpath.set(".state.part",e,!1),this.updateData(a.preprocess(e)),this.notifyUpdated();else{var t=a.create(e,{silent:!0});this.notifyReplaced(t)}},isSelectableSingle:function(){return this.get(".invite")||this.get(".isSlice")||this.get(".state.part")||this.get(".state.blocked")?!0:!1},allowsUpload:function(){return!this.get(".isSlice")&&!this.get(".meta.group.readonly")&&!s.isParent("/yavideo",this.get(".id"))},needsPreload:function(){return this.get(".hasPreview")&&"video"!==this.get(".meta.mediatype")},hideChildren:function(){this.trigger("ufo-resources-hidden")},showChildren:function(){this.trigger("ufo-resources-shown")},destroyChildren:function(){this.trigger("ufo-resources-destroyed")}}}),e("models/resource/local/disk"),e("models/resource/local/published"),e("models/resource/local/shared"),e("models/resource/local/trash"),e("models/resource/local/mail"),e("models/resource/local/attach"),e("models/resource/local/narod"),e("models/resource/local/yavideo"),e("models/resource/local/yaru"),e("models/resource/local/photo"),e("models/resource/local/albums")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/ns-custom-request":43,"helpers/path":46,"helpers/resource":47,"models/queues/queue-request":86,"models/queues/queue-sync":87,"models/resource/local/albums":88,"models/resource/local/attach":89,"models/resource/local/disk":90,"models/resource/local/mail":91,"models/resource/local/narod":92,"models/resource/local/photo":93,"models/resource/local/published":94,"models/resource/local/shared":95,"models/resource/local/trash":96,"models/resource/local/yaru":97,"models/resource/local/yavideo":98,"models/resources/do-get-resource-url":100}],100:[function(e){var t=e("helpers/uri");e("helpers/path");var n=e("helpers/resource");ns.Model.define("do-get-resource-url",{params:{id:null,inline:null},events:{"ns-model-init":function(){0===this.params.id.indexOf("/public/")&&(this.request=e("helpers/ns-custom-request").request)}},methods:{preprocessData:function(e){var r=e.file||e.folder;return e.error?e:(r=n.replaceTld(this.params.id,r),r=t.cutProto(r),e.file?e.file=r:e.folder&&(e.folder=r),e)}}})},{"helpers/ns-custom-request":43,"helpers/path":46,"helpers/resource":47,"helpers/uri":54}],101:[function(){ns.Model.define("do-save-resource-public",{params:{id:null,async:null}})},{}],102:[function(e,t){!function(n){e("models/resource/resource"),e("models/album/album"),e("models/state-resource/state-resource");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/path"),s=e("helpers/array"),i=e("models/model-collection-lazy"),o=e("models/user-current/user-current");i.define("resources",t.exports={split:{items:".resources",model_id:"resource",params:{id:".id"}},params:{idContext:null,order:null,sort:null,querySearch:null,scopeSearch:null,typeSearch:null,version:null},events:{"ns-model-init":function(){0===this.params.idContext.indexOf("/public/")&&(this.request=e("helpers/ns-custom-request").request)},"ns-model-insert":"onInserted","ns-model-remove":"onRemoved","ns-model-loading-complete":"insertTrash"},defaults:{resources:[]},methods:{onInserted:function(e,t){var n=this;r.each(t,function(e){n.bindModel(e,"ufo-replaced",function(t,r){n.onReplaced(e,r)})})},onRemoved:function(e,t){var n=this;r.each(t,function(e){n.unbindModel(e,"ufo-replaced")})},preprocessData:function(e){if(e.error)return{resources:[],error:e.error};if("/yavideo"===this.params.idContext){var t=no.jpath('.[.id == "/yavideo/0/"]',e.resources);t&&(t[0].name="Все ролики");var n=no.jpath('.[.id == "/yavideo/100000001/"]',e.resources);n&&(n[0].name="Любимые ролики")}return r.each(e.resources,function(e){no.jpath.set(".state.portional",e,!0),e.id=a.normalize(e.id)}),e},_init:function(){this.super_._init.apply(this,arguments),r.bindAll(this,"onResourceCreated","onResourceUpdated","onRemovedFromYavideo","onRootDestroyed","onRootChangedAccess","hideChildren","showChildren","destroyChildren","getParamSort","getPosition","sort"),this.isResourcesAlbum()?this._initResourcesAlbum():this._initResourcesFolder()},isResourcesAlbum:function(){return 0===this.params.idContext.indexOf("/album/")},_initResourcesAlbum:function(){this.root=ns.Model.get("album",{idAlbum:this.params.idContext}),this.root.on("ns-model-destroyed",this.onRootDestroyed)},_initResourcesFolder:function(){this.root=ns.Model.get("resource",{id:this.params.idContext}),"/shared"===this.params.idContext&&this.complete(),this.bindResourceEvents(),this.root.on("ufo-resources-hidden",this.hideChildren),this.root.on("ufo-resources-shown",this.showChildren),this.root.on("ufo-resources-destroyed",this.destroyChildren),this.root.on("ns-model-destroyed",this.onRootDestroyed),this.root.on("ufo-changed-access",this.onRootChangedAccess)},bindResourceEvents:function(){ns.events.on("ufo-resource-created",this.onResourceCreated),ns.events.on("ufo-resource-updated",this.onResourceUpdated),a.isParent("/yavideo",this.params.idContext)&&ns.events.on("ufo-resource-removed",this.onRemovedFromYavideo)},hideChildren:function(){this.set(".state.hiddenChildren",!0)},showChildren:function(){this.set(".state.hiddenChildren",!1)},onRootDestroyed:function(){this.destroyAll()},onRootChangedAccess:function(){this.destroyAll()},offsetFilter:function(e){return!!e.get(".state.portional")},onResourceCreated:function(e,t){var n=t.resource,r=no.jpath(".options.position.after",t),a=this.isSearchResult()&&this.contains(r);if(this.isParentFor(n)||a){var s=r?this.models.indexOf(r)+1:this.getPosition(n);this.insert(n,s)}},insert:function(e,t){if(r.isUndefined(t)&&this.models.length&&!this.isSearchResult()){var n=!1;return r.each(e,function(e){var t=this.super_.insert.call(this,e,this.getPosition(e));t&&(n=!0)},this),n}return this.super_.insert.call(this,e,t)},getPosition:function(e){var t=0,n=e.get(".type"),a=r.reduce(this.models,function(e,t){return"file"===t.get(".type")?e.files.push(t):"/trash"!=t.get(".id")&&e.dirs.push(t),e},{dirs:[],files:[]}),i=this.getParamSort();return r.isUndefined(e.get(i))||(t=s.sortedIndex("file"===n?a.files:a.dirs,e,this.sort)),"file"===n&&(t+=a.dirs.length),t},getParamSort:function(){var e=this.params.sort;return"type"==e?".name":"size"==e||"append_time"==e?".meta."+e:"."+e},sort:function(e,t){var n,r=this.getParamSort();return n="type"==this.params.sort?this.sortByType(e.get(r),t.get(r)):"name"==this.params.sort?this.sortByName(e.get(r),t.get(r)):this.sortDefault(e.get(r),t.get(r)),"0"==this.params.order?-1*n:n},sortDefault:function(e,t){return e?e-t:-1},sortByName:function(e,t){if(!e)return-1;e=this.formatString(e),t=this.formatString(t);for(var n=0;n!=e.length||n!=t.length;){if(typeof e[n]!=typeof t[n])return"number"==typeof e[n]?-1:1;if(e[n]>t[n])return 1;if(e[n]<t[n])return-1;n++}return e.length>t.length?1:-1},formatString:function(e){return e=e.match(/(\d+|\D+)/g),r.map(e,function(e){return isNaN(+e)?e.toLowerCase():+e})},sortByType:function(e,t){if(!e)return-1;var n=r.map([e,t],function(e){return e=e.split("."),1==e.length?e.unshift("0"):e.unshift(r.last(e)),e.join(".")});return n[0]>n[1]?1:-1},onResourceUpdated:function(e,t){var n=t.resource;if(!this.isSearchResult())if(this.isParentFor(n))this.insert(n,this.getPosition(n));else{this.remove(n);var r=ns.Model.getValid("stateResource",{id:n.params.id,idContext:this.params.idContext});r&&r.deselect()}},onReplaced:function(e,t){var n=this.models.indexOf(e);this.remove(e),this.insert(t,n)},onRemovedFromYavideo:function(e,t){var n=t.resource,s=n.get(".id");if(a.isParent("/yavideo",s)&&a.dirname(s)!=this.params.idContext){var i=this.params.idContext+"/"+a.basename(s),n=r.find(this.models,function(e){return e.get(".id")==i?e:void 0});n&&this.remove(n)}},isParentFor:function(e){var t=a.dirname(e.get(".id")),n=t===this.params.idContext,r="/published"===this.params.idContext&&e.get(".meta.public"),s="/shared"===this.params.idContext&&e.get(".meta.group.is_root"),i=r||s,o="/narod"===this.params.idContext&&a.isParent("/narod",e.get(".id"));return n||i||o},isEmpty:function(){return r.isEmpty(this.models)},isSearchResult:function(){return!(!this.params.querySearch||!this.params.scopeSearch)},isSocial:function(){return this.params.idContext===o.get(".foldersDefault.social")},destroyAll:function(){this.destroyChildren(),ns.Model.destroy(this)},destroyChildren:function(){r.invoke(this.models.slice(),"remove")},contains:function(e){return r.contains(this.models,e)},insertTrash:function(){"/disk"===this.params.idContext&&this.insert(ns.Model.get("resource",{id:"/trash"}),this.models.length)},getSiblingsOf:function(e,t){var n=r.extend({loop:!1,take:1},t);n.negative=n.take<0,n.take=Math.abs(n.take);var a=n.negative?"reduceRight":"reduce",s=r[a](this.models,function(t,a){return a.get(".id")===e?[]:(r.isArray(t)&&t.length<n.take&&(!r.isFunction(n.filter)||n.filter(a))&&t.push(a),t)},!e&&[]);return s&&s.length<n.take&&n.loop&&(s=s.concat(this.getSiblingsOf(null,r.extend(t,{take:(n.take-s.length)*(n.negative?-1:1)})))),s||[]},isQueryCorrected:function(){return this.get(".query")!==this.get(".queryOriginal")},getFirst:function(e){return e.filter?r.first(r.filter(this.models,e.filter)):r.first(this.models)},getLast:function(e){return e.filter?r.last(r.filter(this.models,e.filter)):r.last(this.models)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/array":29,"helpers/ns-custom-request":43,"helpers/path":46,"models/album/album":68,"models/model-collection-lazy":75,"models/resource/resource":99,"models/state-resource/state-resource":116,"models/user-current/user-current":121}],103:[function(){ns.Model.define("do-settings-set",{params:{key:null,value:null}})},{}],104:[function(e){e("models/settings/do-settings-set");var t=e("consts").VIEWS,n={view:t[1],viewPhotostream:t[0],viewSocial:t[0],wasDialogClosed:!1,countDisplaysDialogWelcome:0,timestampLastDisplayedDialogWelcome:0,timestampLastDisplayedDialogIntro:0,timestampDisplayedDialogYavideo:0,timestampVisitPhotoslice:0,timestampDropzoneClosed:0};e("models/model-local").define("settings",{methods:{onChangeView:function(e,t){t&&this.save({key:t.replace(/^\./,""),value:this.get(t)})},save:function(e){e.key&&e.value&&(this.set("."+e.key,e.value),ns.Model.get("queueRequest").push({id:"do-settings-set",params:e}))},preprocessData:function(t){return e("environment").agent.isMobile&&(t.view="icons"),t=no.extend(n,t)}},defaults:e("models-preloaded")})},{consts:26,environment:27,"models-preloaded":67,"models/model-local":76,"models/settings/do-settings-set":103}],105:[function(e){!function(t){e("models/slice-content/record-slice");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/resource"),a=e("helpers/format"),s=e("helpers/array"),i=150;ns.Model.define("clusterSlice",{split:{items:".items",model_id:"recordSlice",params:{id:".id",idSlice:".idSlice"}},params:{id:null,idSlice:null},events:{"ns-model-init":"oninit","ns-model-insert":"onInsertItem","ufo-changed-hidden-record":"onChangedSizeCluster","ufo-removed-record":"onChangedSizeCluster","ufo-loaded-record":"updateIndexesItems"},methods:{preprocessData:function(e){return e.isEmpty||(e.isEmpty=!1),e.status||(e.status="inited"),e.items||(e.items=[]),e.items.forEach(function(t){t.idSlice=e.idSlice}),e.from&&e.to&&(e.period={from:this._getInfoDate(e.from),to:this._getInfoDate(e.to)}),e},oninit:function(){n.bindAll(this,"updateIndexesItems"),this.updateIndexesItems=n.debounce(this.updateIndexesItems,i)},insertSorted:function(e){this.insert(e,this.getPosition(e))},getPosition:function(e){return s.sortedIndex(this.models,e,function(e,t){return e.get(".item_id")>=t.get(".item_id")?-1:1})},updateFromDiff:function(e){var t=this.getData()||{},r=this.applyStreets(t,e),a=this.applyCity(t,e);delete e.streets,delete e.city,this.setData(n.extend({},t,e)),(r||a||e.to||e.from)&&this.trigger("ufo-changed-title")},applyStreets:function(e,t){var r=Boolean(t.streets);return e.streets||(e.streets=[]),n.each(t.streets,function(t){var n=t.place_index;switch(t.change_type){case"insert":e.streets.splice(n,0,t.data);break;case"delete":e.streets.splice(n,1);break;case"update":e.streets[n]=t.data}}),e.streets.length||delete e.streets,r},applyCity:function(e,t){var n=t.city,r=Boolean(n);if(n)switch(n.change_type){case"insert":case"update":e.city=n.data;break;case"delete":delete e.city}return r},getFastScrollDate:function(){var e=this.get(".period.to");return{year:e.year,month:e.month.index}},getTitleHtml:function(){return ns.renderString(this.getData(),"cluster-slice-title")},_getInfoDate:function(e){var t=new Date(e),n=e/1e3,r=a.timestampToDate(n,"D"),s=a.timestampToDate(n,"mmmm").toLowerCase(),i=a.timestampToDate(n,"MMMM"),o=a.timestampToDate(n,"YYYY");return{day:r,month:{index:String(t.getMonth()),genitive:s,nominative:i},year:o}},onInsertItem:function(e,t){var r=this;n.each(t,function(e){e.clusterSlice=r}),this.onChangedSizeCluster()},onChangedSizeCluster:function(){this.updateIndexesItems(),this.checkEmpty(),this.trigger("ufo-changed-size"),this.sliceContent&&this.sliceContent.trigger("ufo-changed-size-cluster",{cluster:this})},checkEmpty:function(){var e=0===this.getCountItems();e!==this.get(".isEmpty")&&(this.set(".isEmpty",e),this.sliceContent&&this.sliceContent.trigger("ufo-changed-empty-cluster",{cluster:this}))},findItemByItemId:function(e){return n.find(this.models,function(t){return t.get(".item_id")===e})},findRecord:function(e){return n.find(this.models,function(t){return t===e})},removeCluster:function(){n.invoke(this.models.slice(),"remove"),ns.Model.destroy(this)},invalidateAll:function(){n.invoke(this.models.slice(),"invalidate"),this.invalidate()},getCountItems:function(){return this.isLoadedStructure()?n.filter(this.models,function(e){return"hidden"!==e.get(".status")}).length:this.get(".size")},isLoadedStructure:function(){return n.contains(["ready","loaded"],this.get(".status"))},updateIndexesItems:function(){var e=this,t=0,r=[];n.each(n.clone(e.models),function(e,n){if("hidden"===e.get(".status"))t++;else if("loaded"===e.get(".status")){var a=n-t;e.get(".index")!==a&&(e.set(".index",a),r.push(e))}}),r.length&&e.trigger("ufo-chanded-position-records",r)},loadStructure:function(){var e=this,t=new Vow.Promise;return e.set(".status","loading"),this.sliceContent&&this.sliceContent.loadCluster(this.get(".id")).then(function(a){if(a.error)e.set(".status","error"),e.set(".error",a.error);else{var a=n.extend({},e.getData(),{items:a.items.map(function(e){return e.id=r.preprocessIdREST(e.path),e}),status:"ready"});a.items.length||(a.isEmpty=!0),e.setData(a)}t.fulfill()}),t},getResourcesToLoad:function(e){for(var t=e.to-e.from+1,r=[],a=this.models,s=0,i=n.filter(this.models,function(t,n){return n<e.from&&"hidden"===t.get(".status")}).length,o=e.from+i,c=o,l=a.length;l>c;c++){var d=a[c],u=d.get(".status");if("inited"===u?(d.set(".status","loading"),r.push(d.get(".id"))):"hidden"!==u&&s++,s+r.length===t)break}return r},loadRangesMissing:function(e){var t=this,n=new Vow.Promise;if(this.get(".status"),!t.isLoadedStructure())return t.loadStructure().then(function(){t.loadRangesMissing(e).then(n.fulfill.bind(n),n.reject.bind(n))}),n;if("loaded"===t.get(".status"))return Vow.reject();var r=t.getResourcesToLoad(e);return r.length?t.loadResources(r):Vow.reject()},loadResources:function(e){for(var t=this,n=new Vow.Promise,r={},a=0,s=e.length;s>a;a++){var i=e[a],o=ns.Model.get("recordSlice",{id:e[a],idSlice:t.params.idSlice});o.set(".status","loading"),r[i]=o}return this.sliceContent&&this.sliceContent.loadResourcesCluster(this.get(".id"),e).then(function(e){var a=[];e.forEach(function(e){var t=r[e.id];e.error?t.set(".status","inited"):e.lost?t.remove():(t.resource.setData(e.data),a.push(e.id))}),n.fulfill(a),t.checkLoaded()}),n},checkLoaded:function(){var e=this;n.find(e.models,function(e){return"loaded"!==e.get(".status")})||e.set(".status","loaded")}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/array":29,"helpers/format":35,"helpers/resource":47,"models/slice-content/record-slice":108}],106:[function(){ns.Model.define("getClusters",{params:{idSlice:null,revision:null,ids:null}})},{}],107:[function(){ns.Model.define("getResources",{params:{ids:null}})},{}],108:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e("models/resource/resource"),ns.Model.define("recordSlice",{params:{id:null,idSlice:null},events:{"ns-model-init":"oninit","ns-model-destroy":"ondestroy"},methods:{oninit:function(){n.bindAll(this,"onChangedResource","onDestroyedResource","onCreatedCloneResource"),this.resource=ns.Model.get("resource",{id:this.params.id}),this.resource.on("ns-model-changed",this.onChangedResource),this.resource.on("ns-model-destroyed",this.onDestroyedResource),this.resource.on("ufo-created-clone",this.onCreatedCloneResource)},preprocessData:function(e){return this.resource.isValid()&&(e.status="loaded"),e.status||(e.status="inited"),e},ondestroy:function(){this.resource.off("ns-model-changed",this.onChangedResource),this.resource.off("ns-model-destroyed",this.onDestroyedResource),this.resource.off("ufo-created-clone",this.onCreatedCloneResource)},onChangedResource:function(e,t){""==t&&"loaded"!=this.get(".status")?(this.setStatus("loaded"),this.clusterSlice.trigger("ufo-loaded-record",this)):".state.hidden"===t&&(this.setStatus(this.resource.get(t)?"hidden":"loaded"),this.clusterSlice.trigger("ufo-changed-hidden-record"))},onDestroyedResource:function(){this.remove()},onCreatedCloneResource:function(e,t){if(n.contains(["rename","move"],t.reason)){var r=t.data,a=ns.Model.get("recordSlice",{id:r.id,idSlice:this.get(".idSlice")});a.setData(n.extend({},this.params,{id:r.id,item_id:this.get(".item_id")})),this.clusterSlice.insertSorted(a)}},remove:function(){this.clusterSlice.remove(this),ns.Model.destroy(this),this.clusterSlice.trigger("ufo-removed-record")},setStatus:function(e){this.set(".status",e)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/resource/resource":99}],109:[function(e){!function(t){e("models/slice-content/snapshot"),e("models/slice-content/cluster-slice"),e("models/slice-content/record-slice"),e("models/slice-content/get-clusters"),e("models/slice-content/get-resources"),e("models/queues/queue-request");var n=100,r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;ns.Model.define("sliceContent",{split:{items:".items",model_id:"clusterSlice",params:{id:".id",idSlice:".idSlice"}},params:{idContext:null,typeClustering:null},events:{"ns-model-init":"oninit","ns-model-insert":"onInsertItem"},methods:{oninit:function(){this.clustersToLoad=[],this.resourcesToLoad=[],this.promisesClusters={},this.promisesResources={}
},onInsertItem:function(e,t){var n=this;r.each(t,function(e){e.sliceContent=n})},loadCluster:function(e){var t=this.promisesClusters[e];if(t)return t;if(t=new Vow.Promise,this.promisesClusters[e]=t,this.clustersToLoad.push(e),!this.timeoutLoadClusters){var n=this;this.timeoutLoadClusters=setTimeout(function(){n.loadClusters(),n.timeoutLoadClusters=null,n.clustersToLoad=[]},100)}return t},loadClusters:function(){var e=this,t=this.clustersToLoad;ns.Model.get("queueRequest").push({id:"getClusters",params:{idSlice:e.get(".id"),revision:e.snapshot.get(".revision"),ids:t.join()}}).then(function(n){var r=n.get(".error");r?t.forEach(function(t){e.promisesClusters[t].fulfill({error:r}),delete e.promisesClusters[t]}):n.get(".items").forEach(function(t){var n=t.cluster_id;e.promisesClusters[n].fulfill(t),delete e.promisesClusters[n]}),ns.Model.destroy(n)})},loadResourcesCluster:function(e,t){var n=this;this.resourcesToLoad=this.resourcesToLoad.concat(t);var r=[];return t.forEach(function(e){var t=new Vow.Promise;r.push(t),n.promisesResources[e]=t}),this.timeoutLoadResources||(this.timeoutLoadResources=setTimeout(function(){n.loadResources(),n.timeoutLoadResources=null,n.resourcesToLoad=[]},100)),Vow.all(r)},loadResources:function(){var e=this,t=this.resourcesToLoad;ns.Model.get("queueRequest").push({id:"getResources",params:{ids:JSON.stringify(t)}}).then(function(n){if(n.get(".error"))t.forEach(function(t){e.promisesResources[t].fulfill({id:t,error:!0}),delete e.promisesResources[t]});else{var a=n.getData(),s=[];a.forEach(function(t){var n=t.id;s.push(n),e.promisesResources[n].fulfill({id:n,data:t}),delete e.promisesResources[n]}),r.difference(t,s).forEach(function(t){e.promisesResources[t].fulfill({id:t,lost:!0}),delete e.promisesResources[t]})}ns.Model.destroy(n)})},insertPortionNext:function(){var e=this.snapshot.models.slice(this.models.length,this.models.length+n);this.insert(e),this.models.length===this.snapshot.models.length&&this.set(".loaded",!0)},insertPortionFromCluster:function(e){var t=r.findIndex(this.snapshot.models,function(t){return t.get(".id")===e}),n=this.models.length-1;if(t>n){var a=this.snapshot.models.slice(this.models.length,t+1);return this.insert(a),!0}return!1},findClusterWithRecordInside:function(e){for(var t=[],n=new Vow.Promise,a=0,s=this.models.length;s>a;a++){var i=this.models[a],o=i.get(".status");if(i.isLoadedStructure()){if(r.contains(i.models,e)){n.fulfill({status:"found"});break}}else"inited"===o&&t.push(i.loadStructure())}return r.isEmpty(t)?n.reject({status:"not-found"}):Vow.all(t).then(function(){n.fulfill({status:"not-found"})},function(){n.reject({status:"failed"})}),n},getSiblingOf:function(e,t){if(!e)return null;var t=t||{margin:1},n=ns.Model.getValid("recordSlice",{id:e,idSlice:this.get(".id")});if(!n)return null;var a,s,i,o=n.clusterSlice.models.indexOf(n),c=o+t.margin,l=this.models.indexOf(n.clusterSlice),d=this.models.length,u=n.clusterSlice.models.length;if(c>u-1?(a=d-1>l?l+1:0,i=r.first(this.models[a].models)):0>c?(s=l>0?l-1:d-1,i=r.last(this.models[s].models)):i=n.clusterSlice.models[c],i&&"loaded"===i.get(".status")){if(!t.filter)return i;if(t.filter(i.resource))return i;var f=this.getSiblingOf(i.get(".id"),t);if(f!==i)return f}return null},getSiblingsOf:function(e,t){var n=[];if(!e)return n;var t=t||{take:1},a=t.take>0?1:-1,s=this.getSiblingOf(e,{margin:a});return s?(n.push(s),r.times(a*t.take-1,function(){if(r.last(n)&&r.last(n).get(".id")){var e=this.getSiblingOf(r.last(n).get(".id"),{margin:a});e&&n.push(e)}},this),n):n},getFirst:function(e){var t=r.chain(this.models);return e||(e={}),e.filter?t.map(function(e){return e.models}).flatten().map(function(e){return e.resource}).filter(e.filter).first().value():t.first(1).map(function(e){return e.models}).flatten().first().value().resource},getLast:function(e){var t=r.chain(this.models);return e||(e={}),e.filter?t.map(function(e){return e.models}).flatten().map(function(e){return e.resource}).filter(e.filter).last().value():t.last(1).map(function(e){return e.models}).flatten().last().value().resource}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/queues/queue-request":86,"models/slice-content/cluster-slice":105,"models/slice-content/get-clusters":106,"models/slice-content/get-resources":107,"models/slice-content/record-slice":108,"models/slice-content/snapshot":110}],110:[function(e){!function(t){e("models/queues/queue-request"),e("models/slice-content/cluster-slice"),e("models/slice-content/slice-content");var n=e("helpers/localforage"),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=e("helpers/array"),s=e("environment");ns.Model.define("snapshot",{params:{idContext:null,typeClustering:null,locale:null},paramsRewrite:function(e){return e.locale=s.session.locale,e},split:{items:".items",model_id:"clusterSlice",params:{id:".id",idSlice:".idSlice"}},events:{"ns-model-init":"oninit","ns-model-changed":"onChanged"},methods:{oninit:function(){this.inited=!1,this.sliceContent=ns.Model.get("sliceContent",this.params),this.sliceContent.snapshot=this},preprocessData:function(e){return e.items||(e.items=[]),e.items.forEach(function(t){t.idSlice=e.id}),e},fetch:function(){var e=this;return this.invalidateAll(),ns.Model.get("queueRequest").push(this).then(function(t){e.inited=!0,e.setData(t.getData()),e.storeDataToLocal(t.getData())})},onChanged:function(e,t){if(t.model&&".error"===t.jpath)return this.onErrorCluster(t.model,t.model.get(t.jpath)),void 0;if(""===t){var n=r.extend({},{id:this.get(".id"),items:[]});this.sliceContent.setData(n),this.sliceContent.insertPortionNext()}},onErrorCluster:function(e,t){"HTTP_404"===t.id?this.fetch():this.set(".error",t)},insertSorted:function(e){var t=this.getPosition(e);this.insert(e,t),this.sliceContent.models.length>=t&&this.sliceContent.insert(e,t)},removeCluster:function(e){this.remove(e),this.sliceContent.remove(e),e.removeCluster()},getPosition:function(e){return a.sortedIndex(this.models,e,function(e,t){return e.get(".id")>=t.get(".id")?-1:1})},isEmpty:function(){return!r.some(this.models,function(e){return e.getCountItems()})},invalidateAll:function(){var e=this.models.slice();r.invoke(e,"invalidateAll"),r.invoke(e,"clear"),this.sliceContent.invalidate(),this.sliceContent.clear(),this.invalidate(),this.clear()},storeDataToLocal:function(e){var t=r.extend({},e||this.getData());return t&&(t.items=t.items.map(function(e){var t=r.extend({},e,{items:[],status:"inited",isEmpty:!1});return t})),n.setItem("mSnapshot",t)},restoreDataFromLocal:function(){var e=new Vow.Promise,t=this;return n.getItem("mSnapshot",function(n,r){n?e.reject(n):(t.setData(r),e.fulfill(r))}),e}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:27,"helpers/array":29,"helpers/localforage":39,"models/queues/queue-request":86,"models/slice-content/cluster-slice":105,"models/slice-content/slice-content":109}],111:[function(e,t){!function(n){function r(){var t=ns.Model.get("settings");return{slice:[{id:"linkMail",name:"Почта",href:e("config").links.mail},{id:"disk",idContext:"/disk",name:"Файлы"},{id:"photo",idContext:"/photo",name:"Все фото",unvisited:!t.get(".timestampVisitPhotoslice"),hidden:!a.isYandexStaff()},{id:"albums",idContext:"/albums",name:"Альбомы",unvisited:!t.get(".timestampVisitAlbums"),hidden:!a.isYandexStaff()},{id:"camera",idContext:a.get(".foldersDefault.photostream"),name:"Фотокамера"},{id:"social import",idContext:a.get(".foldersDefault.social"),name:"Фото из соцсетей"},{id:"shared",idContext:"/shared",name:"Общие папки"},{id:"published",idContext:"/published",name:"Ссылки"},{id:"trash",idContext:"/trash",name:"Корзина"},{id:"screenshots",idContext:a.get(".foldersDefault.screenshots"),hidden:!0,name:"Скриншоты",inMenu:!0},{id:"downloads",idContext:a.get(".foldersDefault.downloads"),hidden:!0,name:"Загрузки",inMenu:!0},{id:"yavideo",name:"Яндекс.Видео",hidden:!0,idContext:"/yavideo",inMenu:!0},{id:"yaru",name:"Архив Яндекса",hidden:!0,idContext:"/attach/yaruarchive",inMenu:!0},{id:"narod",name:"Народ",hidden:!0,idContext:"/narod",inMenu:!0},{id:"mail",name:"Почтовые вложения",idContext:"/mail",inMenu:!0}]}}e("models/settings/settings");var a=e("models/user-current/user-current");e("environment"),e("helpers/uri"),ns.Model.define("getSlices");var s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;ns.Model.define("slices",t.exports={defaults:r(),events:{"ns-model-init":"oninit"},methods:{oninit:function(){s.bindAll(this,"_updateUnvisitedItems"),ns.Model.get("settings").on("ns-model-changed",this._updateUnvisitedItems)},fetch:function(){return this.get(".loading")||this.get(".loaded")?this._promiseSyncLast:(this.set(".loading",!0),this._promiseSyncLast=ns.Model.get("queueSync").push(ns.Model.get("getSlices")),this._promiseSyncLast.then(this._onSlicesFetched,this),this._promiseSyncLast)},getIdSliceByContext:function(e){var t;return this.get(".slice").forEach(function(n){0===e.indexOf(n.idContext)&&(!t||t.idContext.length<n.idContext.length)&&(t=n)}),t&&t.id},_onSlicesFetched:function(e){if(e.get(".downloads")){var t=this.get('.slice[.id == "downloads"]')[0];t.hidden=!1}if(e.get(".yavideo")){var n=this.get('.slice[.id == "yavideo"]')[0];n.hidden=!1}if(e.get(".yaru")){var r=this.get('.slice[.id == "yaru"]')[0];r.hidden=!1}if(e.get(".narod")){var a=this.get('.slice[.id == "narod"]')[0];a.hidden=!1}if(e.get(".screenshots")){var s=this.get('.slice[.id == "screenshots"]')[0];s.hidden=!1}this.set(".loading",!1),this.set(".loaded",!0)},_updateUnvisitedItems:function(e,t){(".timestampVisitPhotoslice"===t||".timestampVisitAlbums"===t)&&this.setData(r())}}}),ns.Model.get("slices").setDataDefault(),ns.Model.get("userCurrent").once("ns-model-changed",function(){ns.Model.get("slices").setData(r())})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,environment:27,"helpers/uri":54,"models/settings/settings":104,"models/user-current/user-current":121}],112:[function(e){e("models/model-local").define("space",{defaults:e("models-preloaded")})},{"models-preloaded":67,"models/model-local":76}],113:[function(e,t){ns.Model.define("do-fetch-videostream-url",t.exports={params:{start:0,kbps:320,target:null,stid:null,host:null}})},{}],114:[function(e){e("models/state-player-video/do-fetch-videostream-url"),ns.Model.define("statePlayerVideo",{params:{stid:null,host:null},methods:{fetchUrl:function(e){return ns.Model.get("queueRequest").push({id:"do-fetch-videostream-url",params:{start:e.start,kbps:e.kbps,target:Modernizr.videostream,stid:this.params.stid,host:this.params.host}})}}})},{"models/state-player-video/do-fetch-videostream-url":113}],115:[function(e){!function(t){"undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("models/model-state").define("stateResourcePublic",{params:{id:null},methods:{reset:function(){this.unbindOperation(),this.setDataDefault()}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/model-state":79}],116:[function(e){!function(t){e("models/states-context/states-context");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;ns.Model.define("stateResource",{params:{idContext:null,id:null},defaults:{selected:!1,transfered:!1,dragging:!1},methods:{_init:function(){ns.Model.prototype._init.apply(this,arguments),n.bindAll(this,"onChange"),this.statesContext=ns.Model.get("statesContext",{idContext:this.params.idContext}),this.statesContext.on("ns-model-changed",this.onChange),this.resource=ns.Model.get("resource",{id:this.params.id}),this.resource.on("ns-model-changed.state.hidden",function(){this.resource.get(".state.hidden")&&this.reset()}.bind(this)),this.resource.on("ns-model-destroyed",function(){this.reset()}.bind(this)),this.syncSelected()},onChange:function(e,t){".selected"===t&&this.syncSelected(),".dragging"===t&&this.onChangeDragging()},syncSelected:function(){var e=this.statesContext.get(".selected")||[],t=-1!==e.indexOf(this.params.id);this.get(".selected")!==t&&(this.set(".selected",t),t||this.resetTransfered())},onChangeDragging:function(){var e=this.statesContext.get(".dragging")||[],t=-1!==e.indexOf(this.params.id);this.get(".dragging")!=t&&this.set(".dragging",t)},selectSingle:function(){this.statesContext.selectSingle(this.params.id)},selectRange:function(){this.statesContext.selectRange(this.params.id)},toggleSelected:function(){this.statesContext.toggleSelected(this.params.id)},reset:function(){this.deselect(),this.resetDragging()},deselect:function(){this.statesContext.deselect(this.params.id),this.resetTransfered()},dragging:function(){this.statesContext.dragging(this.params.id)},resetDragging:function(){this.statesContext.resetDragging(this.params.id)},setTransfered:function(){this.set(".transfered",!0)},resetTransfered:function(){this.get(".transfered")&&this.set(".transfered",!1)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/states-context/states-context":117}],117:[function(e){!function(t){function n(e){return r.isArray(e)||(e=[e]),e}e("models/invites/invites-folder"),e("models/resources/resources"),e("models/slice-content/slice-content"),e("models/settings/settings"),e("models/resource/resource"),e("models/album/album");var r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=e("helpers/array"),s=e("helpers/path"),i=e("helpers/resource"),o=e("models/user-current/user-current"),c=ns.Model.get("settings");ns.Model.define("statesContext",{params:{idContext:null},ctor:function(){r.bindAll(this,"onChangedClusterSliceTop")},events:{"ns-model-init":function(){if(0===this.params.idContext.indexOf("/album/"))var e=ns.Model.get("album",{idAlbum:this.params.idContext});else var e=ns.Model.get("resource",{id:this.params.idContext});e.on("ns-model-destroyed",function(){this.reset()}.bind(this)),c.on("ns-model-changed",function(){this.set(".view",this.getView())}.bind(this)),this.isInstagram=this.params.idContext===o.get(".foldersDefault.social")+"/Instagram"}},defaults:function(){var e={sort:"name",order:"1",groupBy:"none",display:"normal",view:this.getView(),selected:[],dragging:[],wasAsideAnimated:!1,dialog:null,action:null,clusterSliceTop:null,typeClustering:"geo",modeSelection:"default"};return(i.isCamera(this.params.idContext)||i.isInsideFolderCamera(this.params.idContext))&&(e.sort="etime",e.order="0",e.display="photostream",e.groupBy="month"),(i.isInsideFolderSocial(this.params.idContext)||this.isInstagram)&&(e.sort="etime",e.order="0",e.display="photostream"),"/trash"==this.params.idContext&&(e.sort="append_time",e.order="0"),(r.contains(["/mail","/attach","/yavideo","/attach/yaruarchive",o.get(".foldersDefault.downloads"),o.get(".foldersDefault.screenshots")],this.params.idContext)||s.isParent("/yavideo",this.params.idContext))&&(e.sort="mtime",e.order="0"),0===this.params.idContext.indexOf("/album/")&&(e.sort="order_index",e.order="1"),e},methods:{deselectAll:function(){this.set(".selected",[]),this.resetModeSelection()},setAnchor:function(e){this.lastAnchor=this.anchor,this.anchor=e},select:function(e){e=n(e),this.set(".selected",r.uniq(e))},addToSelection:function(e){e=n(e);var t=this.get(".selected")||[];e=t.concat(e),this.select(e)},deselect:function(e){e=n(e),this.select(r.difference(this.get(".selected"),e)),this.get(".selected").length||this.resetModeSelection()},dragging:function(e){e=n(e),this.set(".dragging",r.uniq(e))},resetDragging:function(e){e=n(e),this.dragging(r.difference(this.get(".dragging"),e))},resetDraggingAll:function(){this.dragging([])},reset:function(){this.setDataDefault()},selectSingle:function(e){var t=this.get(".selected")||[];(1!=t.length||-1===t.indexOf(e))&&(this.setAnchor(e),this.select(e),this.resetModeSelection())},selectRange:function(e){var t=this.get(".selected")||[];t.length&&this.isSelectableSingle(t[0])&&this.deselectAll();var n=this.getSelectable();this.anchor||this.setAnchor(n[0]);var s=a.getRange(n,this.anchor,e);s&&(s=r.filter(s,function(e){return!this.isSelectableSingle(e)},this),a.hasGap(n,t)?this.addToSelection(s):this.select(s))},toggleSelected:function(e){var t=this.get(".selected")||[];-1!==t.indexOf(e)?(this.anchor===e&&this.setAnchor(this.lastAnchor),this.deselect(e)):(t.length&&(t.length&&this.isSelectableSingle(t[0])&&this.deselectAll(),this.isSelectableSingle(e)&&this.deselect(t)),this.setAnchor(e),this.addToSelection(e))},getSelectable:function(){var e=[],t=this.params.idContext;if("/disk"===t||"/shared"===t){var n=ns.Model.getValid("invitesFolder").getData();e=e.concat(no.jpath(".invites.id",n)||[])}if("/photo"===t){var a=ns.Model.getValid("sliceContent",{idContext:this.params.idContext,typeClustering:this.get(".typeClustering")});r.each(a.models,function(t){t.isLoadedStructure()&&r.each(t.models,function(t){"loaded"===t.get(".status")&&e.push(t.get(".id"))})})}else{var s=ns.Model.getValid("resources",r.extend({},this.params,this.getData()));e=e.concat(no.jpath(".resources[ !.state.hidden && !.state.part && !.state.blocked ].id",s.getData())||[])}return e},isSelectableSingle:function(e){return ns.Model.get("resource",{id:e}).isSelectableSingle()},getModeSelection:function(){return this.get(".modeSelection")},setModeSelection:function(e){var t=-1!==["multi","single"].indexOf(e)?e:"default";t!==this.getModeSelection()&&this.set(".modeSelection",t)},resetModeSelection:function(){this.set(".modeSelection","default")},setView:function(e){i.isCamera(this.params.idContext)||i.isInsideFolderCamera(this.params.idContext)?c.save({key:"viewPhotostream",value:e}):i.isInsideFolderSocial(this.params.idContext)||this.isInstagram?c.save({key:"viewSocial",value:e}):c.save({key:"view",value:e})},getView:function(){return s.isParent("/search",this.params.idContext)?"list":i.isCamera(this.params.idContext)||i.isInsideFolderCamera(this.params.idContext)?c.get(".viewPhotostream"):i.isInsideFolderSocial(this.params.idContext)||this.isInstagram?c.get(".viewSocial"):c.get(".view")},setAction:function(e){this.set(".action",e)},resetAction:function(){this.setAction(null)},setClusterSliceTop:function(e){this.removeClusterSliceTop(),this.set(".clusterSliceTop",e),e.on("ufo-changed-title",this.onChangedClusterSliceTop)},onChangedClusterSliceTop:function(){var e=this.get(".clusterSliceTop");this.set(".clusterSliceTop",e)},removeClusterSliceTop:function(){var e=this.get(".clusterSliceTop");e&&e.off("ufo-changed-title",this.onChangedClusterSliceTop),this.set(".clusterSliceTop",null,{silent:!0})},destroy:function(){this.removeClusterSliceTop(),this.super_.destroy.apply(this)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/array":29,"helpers/path":46,"helpers/resource":47,"models/album/album":68,"models/invites/invites-folder":74,"models/resource/resource":99,"models/resources/resources":102,"models/settings/settings":104,"models/slice-content/slice-content":109,"models/user-current/user-current":121}],118:[function(){!function(e){var t="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;ns.Model.define("stateDialogAuth",{defaults:{login:"",password:"",error:null,type:"default",idResource:null,isOpen:!1},methods:{reset:function(){this.setDataDefault()},setDataError:function(e){t.isEqual(this.get(".error"),e)||this.set(".error",e)}}}),ns.Model.get("stateDialogAuth").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],119:[function(){ns.Model.define("statePlayer",{defaults:{track:null,volume:.5}}),ns.Model.get("statePlayer").setDataDefault()},{}],120:[function(e){!function(t){e("models/resources/resources"),e("models/slice-content/slice-content");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r="single",a="multiple";ns.Model.define("stateSlider",{params:{idContext:null,sort:null,order:null,typeClustering:null},defaults:function(){return{mode:this._getMode()}},events:{"ns-model-init":"oninit","ns-model-destroy":"ondestroy"},methods:{oninit:function(){n.bindAll(this,"_onAddRemoveItems"),this.collection=this._isContextPhotoslice()?ns.Model.get("sliceContent",this.params):ns.Model.get("resources",this.params),this.collection.on("ns-model-insert",this._onAddRemoveItems),this.collection.on("ns-model-remove",this._onAddRemoveItems)},ondestroy:function(){this.collection.off("ns-model-insert",this._onAddRemoveItems),this.collection.off("ns-model-remove",this._onAddRemoveItems),delete this.collection},isModeSingle:function(){return this.get(".mode")===r},updateMode:function(){this.set(".mode",this._getMode())},_isContextPhotoslice:function(){return"/photo"===this.params.idContext},_getMode:function(){if(this._isContextPhotoslice()){if(0===this.collection.models.length)return r;if(this.collection.models.length>1)return a;var e=this.collection.models[0],t=e.models.map(function(e){return e.resource});return this._getItemsOnlyForSlider(t).length<=1?r:a}return this._getItemsOnlyForSlider(this.collection.models).length<=1?r:a},_onAddRemoveItems:function(){this.updateMode()},_getItemsOnlyForSlider:function(e){return n.filter(e,function(e){return"file"===e.get(".type")&&!e.get(".state.hidden")&&!e.get(".state.blocked")})},filterResources:function(e){return"file"===e.get(".type")&&!e.get(".state.hidden")&&!e.get(".state.blocked")},toggleArrows:function(e){var t=e===this.collection.getLast({filter:this.filterResources}),n=e===this.collection.getFirst({filter:this.filterResources}),r=!1;t?r="next":n&&(r="prev"),this.set(".arrowDisabled",r)},isPrevDisabled:function(){return"prev"===this.get(".arrowDisabled")},isNextDisabled:function(){return"next"===this.get(".arrowDisabled")}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/resources/resources":102,"models/slice-content/slice-content":109}],121:[function(e,t){!function(n){var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("helpers/path"),s=e("helpers/email"),i=e("models/config/config");e("models/model-local").define("userCurrent",{methods:{preprocessData:function(e){e.foldersDefault&&!e.foldersDefault.error&&r.map(e.foldersDefault,function(e,t,n){n[t]=a.normalize(e)});var t=r.filter(["ru","en","uk","tr"],function(t){return t===e.locale}).length;return t||(e.locale="ru"),e.uid&&(e.hasDisk=-1!==e.sids.indexOf("59")),e.isPDD&&(e.hostPDD=e.login.split("@").pop()),e},isEmailAlias:function(e){return r.contains(this.get(".emails"),s.normalize(e))},isYandexStaff:function(){return"dev"===i.get(".environment")?!0:r.contains(this.get(".sids"),"669")}},defaults:e("models-preloaded")}),t.exports=ns.Model.get("userCurrent")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/email":33,"helpers/path":46,"models-preloaded":67,"models/config/config":69,"models/model-local":76}],122:[function(e,t){!function(n){function r(e){if(e){if(e.noFallback)return!0;var t=a(e.formats),n=(t.flv||t.mp4)&&o.hasFlashPlayerVersion("10.2.0"),r=i.some(t,o.canPlayMediaType);return n||r}return!1}function a(e){for(var t={},n=0;n<e.length;n++){var r=e[n].match(/\w+/)[0];t[r]="mpeg4"==r?"video/mp4":"video/"+r}return t}function s(e){return i.reduce(e,function(e,t){return t.width>e.width||t.height>e.height?t:e},{width:0,height:0})}var i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,o=e("helpers/environment"),c=e("environment"),l="iOS"===c.agent.OSFamily;ns.Model.define("videoInfo",t.exports={params:{id:null},events:{"ns-model-init":function(){0===this.params.id.indexOf("/public/")&&(this.request=e("helpers/ns-custom-request").request)}},methods:{preprocessData:function(e){return e=i.extend({},e),e.dimension=s(e.dimensions),e.duration=Math.floor(e.duration/1e3),e.typeVideoPlayer=r(e.yandexVideo)?"yavideo":o.hasAvailableFlash()&&!l?"flv":"html",e}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:27,"helpers/environment":34,"helpers/ns-custom-request":43}],123:[function(e){!function(t){var n=e("zeroclipboard"),r=e("swfobject"),a="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,s={moviePath:e("config").links.static.host+"/disk/_/CeTtulIj3g0peuK81ZoRUtT0Iqk.swf",trustedOrigins:location.protocol+"//"+location.host,allowScriptAccess:"always",debug:!1},i="Копировать ссылку",o="Ссылка скопирована",c="Не удалось скопировать";window.ZeroClipboard=window.ZeroClipboard||n;var l=2e3;nb.define("button-copy",{events:{init:"_oninit"},_oninit:function(){this.$node=$(this.node),this.$text=this.$node.find(".js-button-copy-text"),this.$title=this.$node.find(".js-button-copy-title"),a.bindAll(this,"_onCopySuccess","_onCopyFailed"),r.hasFlashPlayerVersion("10.0.0")?(this._zc=new n(this.$node,s),this.trigger("nb-inited")):(this.$node.addClass("nb-is-hidden"),this.isInitFailed=!0),this._readyToChange=!0},_onCopySuccess:function(){this._changeTextTemporally(o),this.trigger("nb-copied")},_onCopyFailed:function(){this._changeTextTemporally(c),this.trigger("nb-error")},_changeTextTemporally:function(e){this._readyToChange&&(this._readyToChange=!1,this.$title.text(e),setTimeout(function(){this._readyToChange=!0,this.$title.text(i)}.bind(this),l))},destroy:function(){this.nbdestroy(),this.trigger("nb-destroyed")},setText:function(e){return this.$text.val(e),this.trigger("nb-changed"),this},enable:function(){this._zc.on("complete",this._onCopySuccess),this._zc.on("error",this._onCopyFailed)},disable:function(){this._zc.off("complete",this._onCopySuccess),this._zc.off("error",this._onCopyFailed)}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,swfobject:135,zeroclipboard:16}],124:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("libs/social").Broker,a=e("client-auth");nb.define("form-auth",{events:{init:"init"},init:function(){n.bindAll(this,"login","onAuthSuccess","onAuthError","onInputLogin","onInputPassword","startAuthSocial"),this.$node=$(this.node),this.params=this.$node.data("params")||{},this.nbButtonSubmit=nb.block(this.$node.find(":submit")[0]),this.nbInputLogin=nb.block(this.$node.find('[name = "login"]')[0]),this.nbInputPassword=nb.block(this.$node.find('[type = "password"]')[0]),this.nbInputLogin.on("nb-input",this.onInputLogin),this.nbInputPassword.on("nb-input",this.onInputPassword),this.$linksSocial=this.$node.find(".js-link-social"),this.$linksSocial.on("click",this.startAuthSocial),a.on("login",this.onAuthSuccess),a.on("authError",this.onAuthError),this.$node.submit(this.login),$("input[placeholder]").placeholder()},onAuthSuccess:function(){this.trigger("nb-auth-success")},onAuthError:function(e,t){this.nbButtonSubmit.enable(),this.trigger("nb-auth-error",t)},onInputLogin:n.debounce(function(){this.trigger("nb-input-login",this.nbInputLogin.getValue())},20),onInputPassword:n.debounce(function(){this.trigger("nb-input-password",this.nbInputPassword.getValue())},20),startAuthSocial:function(e){var t=$(e.currentTarget).data("service"),n=new r({action_if_anonymous:"authorize",provider:t,retpath:this.params.retpath||location.protocol+"//"+location.hostname+"/close_broker.html"}),a=n.start();a.then(this.onAuthSuccess,this.onAuthError),this.trigger("nb-start-auth-social",t)},showErrorLogin:function(){this.showErrorInput(this.nbInputLogin)},showErrorPassword:function(){this.showErrorInput(this.nbInputPassword)},showErrorInput:function(e){e.error.on("nb-closed",function(){e.hideError(),this.trigger("nb-input-error-closed")}.bind(this)),e.showError({autoclose:!0,how:{fixed:!0,at:"left",my:"right"}})},login:function(e){e.preventDefault(),e.stopPropagation(),this.nbButtonSubmit.disable();var t=this.$node.serialize2Object();t.twoweeks=t["other-computer"]?0:1,a.login(t),this.trigger("nb-start-auth")},destroy:function(){this.nbInputLogin.off("nb-input",this.onInputLogin),this.nbInputPassword.off("nb-input",this.onInputPassword),this.$linksSocial.off("click",this.startAuthSocial),a.off("login",this.onAuthSuccess),a.off("authError",this.onAuthError),this.nbdestroy()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"client-auth":24,"libs/social":65}],125:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=$(window),a=e("consts"),s={},i=function(e){return e&&e.parentNode?e.contains?!document.body.contains(e):null==document.getElementById(e.id):!0},o=n.throttle(function(){var e=r.height();n.each(s,function(t,n){var r;i(t.node)||t.loaded?delete s[n]:(r=t.node.getBoundingClientRect(),r.bottom>=t.HEIGHT_HEADER&&r.top<e&&t.load())})},100);r.on("scroll resize",o),nb.define("icon-resource",{events:{init:"onInit"},onInit:function(){this.$node=$(this.node),this.$preview=this.$node.find(".js-icon-preview"),this.src=window.location.protocol+this.$preview.data("src"),this.params=this.$node.data("params"),this.HEIGHT_HEADER=this.params["layout-fixed"]?a.PADDING_TOP_LAYER_FIXED:0,this.load=n.once(this.load),0!==this.$preview.length&&(s[this.id]=this,o())},load:function(){var e=this.$preview[0];if(e){this.$preview.attr("src",this.src),this.trigger("startLoading",this.src);var t=this;e.complete&&0!==e.naturalWidth?this.onPreviewLoaded():this.$preview.one("load error",function(e){"load"===e.type?t.onPreviewLoaded():"error"===e.type&&t.onPreviewFailed()})}},onPreviewLoaded:function(){this.loaded=!0,this.$node.addClass("nb-icon-resource_loaded-preview"),this.trigger("load",this.src)},onPreviewFailed:function(){this.trigger("fail",this.src)},destroy:function(){this.nbdestroy()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:26}],126:[function(e,t){!function(n){function r(){$('<div class="player-audio-flash"><div id="'+d+'"></div></div>').appendTo("body");var e={jsCallback:u},t={allowscriptaccess:"always",allowfullscreen:"true"};o.embedSWF(c+"/disk/_/8tP0Zl4l676Tf14kHZHuSmqTOmE.swf",d,"1","1","10.0.0",null,e,t,{})}function a(e){var t=i.extend({id:$.now().toString(),src:e,load:new Vow.Promise},ns.Events);return l[t.id]=t,f.then(function(){s.loadSound(t.id,e)}),t}var s,i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,o=e("swfobject"),c=e("config").links.static.host,l={},d="player-audio-flash-"+(new Date).getTime(),u="callback_disk_flash_player",f=new Vow.Promise;window[u]=function(e,t){"init"===e&&(s=document.getElementById(d),f.fulfill()),"error"===e&&l[t.trackId]&&l[t.trackId].trigger("error",t),"loadingStart"===e&&l[t.trackId]&&l[t.trackId].load&&l[t.trackId].load.fulfill(),"playingProgress"===e&&l[t.trackId]&&l[t.trackId].trigger("timeupdate",t),"playingComplete"===e&&l[t.trackId]&&l[t.trackId].trigger("ended",t)},t.exports={events:{init:"init"},initFlash:function(){s||r(),i.bindAll(this,"onTimeupdateFlash","onEndedFlash","onError")},isAvailableFlash:function(){return o.hasFlashPlayerVersion("10.0.0")},loadFlash:function(e){return i.isString(e)?(this.track=a(e),this.track.on("timeupdate",this.onTimeupdateFlash),this.track.on("ended",this.onEndedFlash),this.track.on("error",this.onError),this.track.load.then(function(){this.loaded=!0},this),this.track.load):void 0},playFlash:function(){this.loaded&&(this.paused=!1,s.playSound(this.track.id),i.isUndefined(this.position)||i.isNaN(this.position)||(s.seek(this.position),delete this.position))},pauseFlash:function(){this.paused||(this.paused=!0,this.position=this.time?100*(this.time/this.getDurationFlash()):0,s.pauseSound())},seekFlash:function(e){if(this.track&&i.isNumber(e)){var t=100*(1>e?e:e/this.getDurationFlash());this.paused?this.position=t:s.seek(t)}},setVolumeFlash:function(e){i.isNumber(e)&&s.setVolume(100*e)},getDurationFlash:function(){return i.isFinite(this.duration)?Math.ceil(this.duration):null},onTimeupdateFlash:function(e,t){this.duration!=t.duration&&(this.duration=t.duration,this.trigger("player-audio.duration-changed",this.getDurationFlash())),this.time!=t.time&&(this.time=Math.ceil(t.time),this.trigger("player-audio.time-changed",this.time))},onEndedFlash:function(){this.time=0,this.trigger("player-audio.time-changed",this.time),this.pauseFlash(),this.trigger("player-audio.ended")
},destroyFlash:function(){this.position&&delete this.position,this.track&&(this.track.off("timeupdate",this.onTimeupdateFlash),this.track.off("ended",this.onEndedFlash),this.track.off("error",this.onError))}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:25,swfobject:135}],127:[function(e,t){!function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports={initHtml:function(){n.bindAll(this,"onTimeupdateHtml","onDurationChangeHtml","onEndedHtml","onError"),this._$audio=$("<audio />",{preload:"none"}),this._$audio.appendTo("body"),this._audio=this._$audio[0],this._$audio.on("timeupdate",this.onTimeupdateHtml),this._$audio.on("durationchange",this.onDurationChangeHtml),this._$audio.on("ended",this.onEndedHtml),this._$audio.on("error",this.onError)},isAvailableHtml:function(){return Modernizr.audiomp3},loadHtml:function(e){if(n.isString(e)){this._audio.src=e,this._audio.load();var t=new Vow.Promise;return t.fulfill(),t}},playHtml:function(){this._audio.src&&this._audio.play()},pauseHtml:function(){this._audio.paused||this._audio.pause()},seekHtml:function(e){if(n.isNumber(e)&&n.isFinite(this._audio.duration)&&!n.isNaN(this._audio.duration)&&this._audio&&this._audio.src){var t=1>e?e*this._audio.duration:e;this._audio.currentTime=t}},setVolumeHtml:function(e){n.isNumber(e)&&(this._audio.volume=e)},getDurationHtml:function(){return n.isFinite(this._audio.duration)?Math.ceil(this._audio.duration):null},onTimeupdateHtml:function(){this.trigger("player-audio.time-changed",Math.ceil(this._audio.currentTime))},onDurationChangeHtml:function(){this.trigger("player-audio.duration-changed",this.getDurationHtml())},onEndedHtml:function(){this.seekHtml(0),this.trigger("player-audio.ended")},destroyHtml:function(){this._$audio.off(),this._$audio.remove(),this.nbdestroy()}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/string");nb.define("player-audio",n.extend({events:{init:"init"},init:function(){return this.typePlayer=this.isAvailableHtml()?"html":"flash",this.TYPE=r.capitalize(this.typePlayer),this["isAvailable"+this.TYPE].apply(this,arguments)?(this["init"+this.TYPE](),void 0):(this.trigger("player-audio.not-available"),this.destroy(),void 0)},load:function(e){return this.url=e,this["load"+this.TYPE].apply(this,arguments)},play:function(){this["play"+this.TYPE].apply(this,arguments)},pause:function(){this["pause"+this.TYPE].apply(this,arguments)},seek:function(){this["seek"+this.TYPE].apply(this,arguments)},setVolume:function(e){this.volume=e,this["setVolume"+this.TYPE].apply(this,arguments)},getDuration:function(){return this["getDuration"+this.TYPE].apply(this,arguments)},onError:function(e){"html"===this.typePlayer&&this.isAvailableFlash()?(this.typePlayer="flash",this.TYPE="Flash",this.initFlash(),this.load(this.url).then(function(){this.setVolume(this.volume),this.play()},this)):this.trigger("player-audio.error",e)},destroy:function(){this["destroy"+this.TYPE].apply(this,arguments)}},e("./player-audio-html"),e("./player-audio-flash")))}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./player-audio-flash":126,"./player-audio-html":127,"helpers/string":50}],129:[function(e){var t,n="9.0.0",r="player-video-flash__viewport",a=e("helpers/environment"),s=e("helpers/transform");nb.define("player-video-flash",{events:{init:"_oninit","nb-destroyed":"_ondestroy"},_oninit:function(){this.$node=$(this.node),this.$container=this.$node.find("."+r),this.params=this.$node.data("nb-params"),t?this._insertPlayer(t):this._loadPlayer().then(function(e){this._insertPlayer(e)}.bind(this))},_ondestroy:function(){var e=$("<div />",{"class":r,id:this.$container.attr("id")});this.$container.remove(),this.$node.append(e)},_insertPlayer:function(e){var t={"stream-slb-url-prefix":this.params.host,"stream-id":this.params.stid,hidden:"about,share,logo",lang:this.params.lang},s=this.getSize();this.params.autoplay&&(t.autoplay="true"),this.params.preview&&(t["preview-url"]=encodeURIComponent(this.params.preview)),a.embedSWF(e,this.$container.attr("id"),s.width,s.height,n,null,t,{allowScriptAccess:"always",allowfullscreen:"true",hasPriority:"true",wmode:"opaque"},{"class":r}),this.$container=this.$node.find("."+r),this.trigger("nb-inited",this.params)},_loadPlayer:function(){var e=this.params.urlFlash,n=new Vow.Promise;return $.ajax({type:"GET",url:e+"/info",data:{ns:Math.random()},dataType:"jsonp",jsonpCallback:"getInfo"}).then(function(r){t=e+"/v-"+r.version+"/disk-videoplayer.swf",n.fulfill(t)},function(){n.reject()}),n},setSize:function(e){this.$container.attr(e)},getSize:function(){var e=s.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:e[0],height:e[1]}}})},{"helpers/environment":34,"helpers/transform":53}],130:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/environment"),a=e("helpers/transform"),s=r.screenfull;s.onchange=ns.events.trigger.bind(ns.events,"fullscreen-changed");var i=n.compose(e("helpers/format").secondsToTime,Math.floor.bind(Math)),o="player-video-html__controls_show",c="player-video-html_ready",l="player-video-html_fullscreen",d="player-video-html_paused",u=[0,90,180,270],f=2e3;nb.define("player-video-html",{events:{init:"_oninit","nb-destroyed":"_ondestroy","ufo-changed-url":"updateSource","ufo-changed-rotate":"renderRotation","ufo-changed-start":"renderTime","ufo-changed-stopped":"renderStopped"},_oninit:function(){n.bindAll(this,"_onSeekStart","_onSeekStop","_onVolumeChange","renderFullscreen","updateQuality","renderStatus","renderVolume","showControls","renderTime","renderBuffered","start","stop","toggle","toggleFullscreen","rotate"),this.$node=$(this.node),this.params=this.$node.data("nb-params"),this.$el=this.$node.find(".js-video-el"),this.$time=this.$node.find(".js-video-time"),this.$buffered=this.$node.find(".js-video-buffered"),this.$controls=this.$node.find(".js-video-controls"),this.$viewport=this.$node.find(".js-video-viewport"),this.el=this.$el.get(0),this._ready=!1,this.onReady=n.once(function(){this.renderReady(),this.play()}),this.$track=this.$node.find(".js-seek").slider({range:"min",step:.03,start:this._onSeekStart,stop:this._onSeekStop,max:this.params.duration}),this.$volume=this.$node.find(".js-volume").slider({range:"min",stop:this._onVolumeChange});var e=this.$node.find(".js-video-quality");e.length&&(this.quality=nb.block(e.get(0)),this.quality.on("nb-changed",this.updateQuality)),this.$el.on("play pause",this.renderStatus).on("ended",this.stop).on("volumechange",this.renderVolume),this.setSize(this.getSize()),this.renderVolume(),this.$viewport.on("mousemove",this.showControls),this._checkAutoplay(),this.params.isIOS&&this._fetchUrl(),ns.events.on("fullscreen-changed",this.renderFullscreen),this.trigger("nb-inited",this.params);var t=ns.V.EVENTS.click;this.$node.on(t,".js-start",this.start),this.$node.on(t,".js-toggle",this.toggle),this.$node.on(t,".js-fullscreen",this.toggleFullscreen),this.$node.on(t,".js-rotate",this.rotate)},_ondestroy:function(){this.pause(),this.el.removeAttribute("src"),this.$track.slider("destroy"),this.$volume.slider("destroy"),this.quality&&this.quality.destroy(),ns.events.off("fullscreen-changed",this.renderFullscreen),this.$node.off(),this.$el.off(),this.$viewport.off()},_fetchUrl:function(e,t){e=n.isNumber(e)?e:0,this._start=e,this.trigger("ufo-changed-start"),this.trigger("ufo-need-url",{start:e,kbps:t,stid:this.params.stid,host:this.params.host})},setUrl:function(e){this._url=e,this.trigger("ufo-changed-url")},updateSource:function(){this.el.setAttribute("src",this._url),this.el.load(),this._ready=!0},updateQuality:function(){var e=this.quality.getState();return this.pause(),this._fetchUrl(Math.floor(this._start+this.el.currentTime),parseInt(e.value,10)),this.on("ufo-changed-url",function t(){block.el.paused||block.params.isIOS||block.play(),block.off("ufo-changed-url",t)}),this},showControls:n.debounce(function(){var e=this.$controls;e.addClass(o),clearTimeout(this._inactive),this._inactive=setTimeout(function(){e.removeClass(o)},f)},30),play:function(){return this.$el.on("timeupdate",this.renderTime).on("progress",this.renderBuffered),this.el.play(),this._renderTimeInterval=setInterval(this.renderTime,500),this._stopped&&(this._stopped=!1,this.trigger("ufo-changed-stopped")),this},start:function(){var e=this;this._ready?this.onReady():(this._fetchUrl(),this.on("ufo-changed-url",function t(){e.onReady(),e.off("ufo-changed-url",t)}))},pause:function(){return this.$el.off("timeupdate",this.renderTime),this.el.pause(),clearInterval(this._renderTimeInterval),this},stop:function(){return this.pause(),this._stopped=!0,this.trigger("ufo-changed-stopped"),this.el.removeAttribute("src"),this},seek:function(e){var t=this;return this.pause(),this.$el.off("progress",this.renderBuffered),this._fetchUrl(Math.floor(e)),this.on("ufo-changed-url",function n(){t.el.paused||t.params.isIOS||t.play(),t.off("ufo-changed-url",n)}),this},rotate:function(){this._rotate++,this.trigger("ufo-changed-rotate")},setSize:function(e){this.$viewport.css(e)},getSize:function(){var e=a.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:e[0],height:e[1]}},renderStatus:function(){this.$node.toggleClass(d,this.el.paused)},renderTime:function(e){var t=this.el.paused;this.params.duration>0&&(n.isNumber(e)||(e=this._start+(this.el.currentTime||0)),this._seeking||t||this.$track.slider("option","value",e),this.$time.text(i(e)+"/"+i(this.params.duration)))},renderBuffered:function(){if(1===this.el.buffered.length){var e=100*((this.el.buffered.end(0)+this._start)/this.params.duration);this.$buffered.css("right",100-e+"%")}},renderVolume:function(){this.$volume.slider("option","value",100*this.el.volume)},renderFullscreen:function(){this.$node.toggleClass(l,s.isFullscreen),s.isFullscreen||$(window).trigger("resize")},renderRotation:function(){this.$el.attr("data-rotate",u[this._rotate%u.length])},renderStopped:function(){this._stopped?(this.$track.slider("option","value",0),this.$buffered.css("right","100%"),this.renderTime(0),this.showControls()):this.seek(0)},renderReady:function(){this.$node.addClass(c)},toggle:function(){return this.el.paused?this.play():this.pause()},toggleFullscreen:function(){s.enabled&&s.toggle(this.node)},_onSeekStart:function(){this._seeking=!0},_onSeekStop:function(e,t){this._seeking=!1,this.seek(t.value)},_onVolumeChange:function(e,t){this.el.volume=t.value/100},_checkAutoplay:n.debounce(function(){this.params.autoplay&&(this.params.isIOS||this.start())},50)})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/environment":34,"helpers/format":35,"helpers/transform":53}],131:[function(e){!function(t){var n="player-video-yandex__viewport",r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=e("helpers/transform");nb.define("player-video-yandex",{events:{init:"_oninit","nb-destroyed":"_ondestroy"},_oninit:function(){this.$node=$(this.node),this.$container=this.$node.find("."+n),this.params=this.$node.data("nb-params"),this._insertPlayer(),this.trigger("nb-inited",this.params)},_ondestroy:function(){var e=$("<div />",{"class":n,id:this.$container.attr("id")});this.$container.remove(),this.$node.append(e)},_insertPlayer:function(){var e=this.getSize(),t=[this.params.hostVideo,"/iframe/",this.params.authorVideo,"/",this.params.storageVideo,"/","?hidden=about,share,logo&lang=",this.params.locale];this.params.stid&&t.push("&stream-id=",encodeURIComponent(this.params.stid)),this.params.token&&t.push(encodeURIComponent(";"+this.params.token)),this.params.autoplay&&t.push("&autoplay=true"),this.params.extended&&t.push("&player-type=full"),this.$container.replaceWith($("<iframe />",{id:this.$container.attr("id"),"class":n,src:t.join(""),width:e.width,height:e.height,frameborder:0})),this.$container=this.$node.find("."+n)},setSize:function(e){var t=this.$container;t.attr(r.extend({style:""},e)),t[0].contentWindow&&t[0].contentWindow.postMessage?t[0].contentWindow.postMessage({size:e},"*"):this._insertPlayer()},getSize:function(){var e=a.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:e[0],height:e[1]}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/transform":53}],132:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/metrika");nb.define("popup-account",{events:{init:"_oninit"},_oninit:function(){n.bindAll(this,"_closeTop","close","toggle","open","_onClickWindow","_switchAccount","_metrikaLink"),this.$node=$(this.node),this.$node.find(".js-close-top").one("click",this._closeTop),this.linkSwitch=this.$node.find(".js-link-switch-account"),this.linkSwitch.on("click",this._switchAccount),this.on("nb-open",function(){$(window).on("click",this._onClickWindow)}),this.on("nb-close",function(){$(window).off("click",this._onClickWindow)}),this.linkAdd=this.$node.find(".js-add-account"),this.linkAdd.on("click",this._metrikaLink),this.buttonAdd=this.$node.find(".js-button-add"),this.buttonAdd.on("click",this._metrikaLink),this.logout=this.$node.find(".js-logout"),this.logout.on("click",this._metrikaLink),nb.on("popup-close",this.close),this.$node.appendTo("body")},_closeTop:function(){this.$node.find(".js-popup-top").addClass("_hidden")},close:function(){this.$node.addClass("_hidden"),this.trigger("nb-close")},open:function(){r.count("interface elements","login popup","show","multiauth"),$.contains(this.node,this.node.querySelector(".js-close-top"))&&r.count("interface elements","login popup","show","multiauth promo"),this.$node.removeClass("_hidden"),this.trigger("nb-open")},toggle:function(){this.$node.hasClass("_hidden")?this.open():this.close()},_switchAccount:function(e){var t=$(e.currentTarget).attr("data-uid");r.countLeave("interface elements","login popup","click","change account").always(function(){this.trigger("nb-switch",t)}.bind(this)),this.close()},_onClickWindow:function(e){$.contains(this.node,e.target)||this.close()},_metrikaLink:function(e){e.preventDefault();var t=$(e.currentTarget).attr("href"),n=$(e.currentTarget).attr("data-params");r.countLeave("interface elements","login popup","click",n).always(function(){window.location.href=t},this)},destroy:function(){this.linkSwitch.off("click",this._switchAccount),this.linkAdd.off("click",this._metrikaLink),this.buttonAdd.off("click",this._metrikaLink),this.logout.off("click",this._metrikaLink),nb.off("popup-close",this.close),this.nbdestroy()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":42}],133:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=$(document);e("nanoblocks/button-copy/button-copy"),nb.define("popup-share",{events:{init:"_oninit"},_oninit:function(){n.bindAll(this,"_autoclosePopupCopy","_onCopied","_onOpened","_onClosed","_close"),this.$node=$(this.node),this.toggler=nb.block(this.node.querySelector(".js-toggler")),this.popup=this.toggler.getPopup(),this.toggler.on("nb-opened",this._onOpened),this.toggler.on("nb-closed",this._onClosed);var e=this.node.querySelector('[data-nb="button-copy"]');e&&(this.buttonCopy=nb.block(e),this.buttonCopy.on("nb-copied",this._onCopied),this._configureButtonCopy());var t=this.node.querySelector(".js-button-qr");t&&(this.togglerQr=nb.block(t),this._configurePopupQr()),r.on("click",this._autoclosePopupCopy),nb.on("popup-close",this._close)},_autoclosePopupCopy:function(e){var t=e.target.tagName.toLowerCase();2!==e.which&&3!==e.which&&($.contains(this.popup.node,e.target)||this.toggler.node!==e.target&&"embed"!==t&&"object"!==t&&this._close())},_configurePopupQr:function(){var e=this;this.togglerQr.setOptions(n.extend({},this.togglerQr.options,{where:this.toggler.node,withoutTail:!0}));var t=function(){e.toggler.off("nb-opened",t),e.toggler.close()};this.togglerQr.on("nb-opened",t)},_configureButtonCopy:function(){this.buttonCopy.isInitFailed&&(this.$node.hasClass("popup-share_no-items")&&this.toggler.disable(),this.buttonCopy.destroy(),delete this.buttonCopy)},_onOpened:function(){this.buttonCopy&&this.buttonCopy.enable(),this.trigger("nb-opened",this)},_onClosed:function(){this.buttonCopy&&this.buttonCopy.disable(),this.trigger("nb-closed",this)},_onCopied:function(){this.trigger("nb-copied",this)},_close:function(){this.toggler.close()},destroy:function(){this.nbdestroy(),this.popup&&this.popup.off("nb-opened",this._onOpened),this.popup&&this.popup.off("nb-closed",this._onClosed),this.buttonCopy&&this.buttonCopy.off("nb-copied",this._onCopied),this.buttonCopy&&this.buttonCopy.destroy(),nb.off("popup-close",this._close),this.toggler.destroy(),delete this.toggler,delete this.popup,delete this.buttonCopy,r.off("click",this._autoclosePopupCopy)}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"nanoblocks/button-copy/button-copy":123}],134:[function(e,t){function n(e){return-1!==["d","i","public","mail"].indexOf(e)?"public":"a"===e?"album":void 0}var r=t.exports={parseUrl:function(t){var n=e("url").parse(t,!0),r=n.pathname.split("/").filter(Boolean).map(function(e){try{e=decodeURIComponent(e)}catch(t){}return e}),a=r.shift();if(-1!==["d","i"].indexOf(a)){var s=r.shift();if(r.length)var i="/"+r.join("/");else{var o=/^(.+)_(x{0,3}[sl]|m)\.(?:jpg|jpeg|png|gif)$/i,c=o.exec(s);if(c){s=c[1];var l=c[2].toUpperCase()}}if(/[^0-9A-Za-z_-]/.test(s))return}else if(-1!==["public","mail"].indexOf(a)){var d=n.query.hash.split(":"),u=d.shift(),r=d.join(":").split("/").filter(Boolean);if(r.length)var i="/"+r.join("/")}return"a"===a&&(r.length>1?(i=r.pop(),s=r.pop()):s=r.pop()),{prefix:a,hashShort:s,hashLong:u,pathResource:i,sizeImage:l}},parseId:function(e){var t=e.indexOf(":"),n=(/^\/(\w+)\//.exec(e)||[""])[0],a=n.length,s={};return s.hashLong=e.slice(a),t>-1&&(s.hashLong=e.slice(a,t),s.pathResource=e.slice(t+1)),s.hashLong=r.decodeHash(s.hashLong),s},formatIdRoot:function(e){return"/"+n(e.prefix)+"/"+r.encodeHash(e.hashLong)},formatIdContext:function(e){return r.formatIdRoot(e)+(e.pathResource?":"+e.pathResource:"")},formatPrivateHash:function(e){var t=r.parseId(e);return t.hashLong+(t.pathResource?":"+t.pathResource:"")},formatUrl:function(e){var t=!e.hashShort,r=e.hashShort||e.hashLong,a=n(e.prefix);return"public"===a&&(e.pathResource&&(t&&(r+=":"),r+=e.pathResource),r=t?"?hash="+encodeURIComponent(r):r.split("/").map(encodeURIComponent).join("/")),"album"===a&&e.pathResource&&(r+="/"+e.pathResource),"/"+e.prefix+"/"+r},encodeHash:function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")},decodeHash:function(e){return e.replace(/_/g,"/").replace(/-/g,"+")}}},{url:6}],135:[function(e,t){var n=function(){function e(){if(!B){try{var e=q.getElementsByTagName("body")[0].appendChild(y("span"));e.parentNode.removeChild(e)}catch(t){return}B=!0;for(var n=N.length,r=0;n>r;r++)N[r]()}}function t(e){B?e():N[N.length]=e}function r(e){if(typeof O.addEventListener!=M)O.addEventListener("load",e,!1);else if(typeof q.addEventListener!=M)q.addEventListener("load",e,!1);else if(typeof O.attachEvent!=M)b(O,"onload",e);else if("function"==typeof O.onload){var t=O.onload;O.onload=function(){t(),e()}}else O.onload=e}function a(){F?s():i()}function s(){var e=q.getElementsByTagName("body")[0],t=y(D);t.setAttribute("type",T);var n=e.appendChild(t);if(n){var r=0;!function(){if(typeof n.GetVariable!=M){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>r)return r++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),n=null,i()}()}else i()}function i(){var e=U.length;if(e>0)for(var t=0;e>t;t++){var n=U[t].id,r=U[t].callbackFn,a={success:!1,id:n};if(W.pv[0]>0){var s=m(n);if(s)if(!g(U[t].swfVersion)||W.wk&&W.wk<312)if(U[t].expressInstall&&c()){var i={};i.data=U[t].expressInstall,i.width=s.getAttribute("width")||"0",i.height=s.getAttribute("height")||"0",s.getAttribute("class")&&(i.styleclass=s.getAttribute("class")),s.getAttribute("align")&&(i.align=s.getAttribute("align"));for(var u={},f=s.getElementsByTagName("param"),p=f.length,h=0;p>h;h++)"movie"!=f[h].getAttribute("name").toLowerCase()&&(u[f[h].getAttribute("name")]=f[h].getAttribute("value"));l(i,u,n,r)}else d(s),r&&r(a);else _(n,!0),r&&(a.success=!0,a.ref=o(n),r(a))}else if(_(n,!0),r){var v=o(n);v&&typeof v.SetVariable!=M&&(a.success=!0,a.ref=v),r(a)}}}function o(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=M)t=n;else{var r=n.getElementsByTagName(D)[0];r&&(t=r)}return t}function c(){return!H&&g("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(e,t,n,r){H=!0,j=r||null,S={success:!1,id:n};var a=m(n);if(a){"OBJECT"==a.nodeName?(k=u(a),A=null):(k=a,A=n),e.id=R,(typeof e.width==M||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==M||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),q.title=q.title.slice(0,47)+" - Flash Player Installation";var s=W.ie&&W.win?"ActiveX":"PlugIn",i="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+s+"&MMdoctitle="+q.title;if(typeof t.flashvars!=M?t.flashvars+="&"+i:t.flashvars=i,W.ie&&W.win&&4!=a.readyState){var o=y("div");n+="SWFObjectNew",o.setAttribute("id",n),a.parentNode.insertBefore(o,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}f(e,t,n)}}function d(e){if(W.ie&&W.win&&4!=e.readyState){var t=y("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=y("div");if(W.win&&W.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(D)[0];if(n){var r=n.childNodes;if(r)for(var a=r.length,s=0;a>s;s++)1==r[s].nodeType&&"PARAM"==r[s].nodeName||8==r[s].nodeType||t.appendChild(r[s].cloneNode(!0))}}return t}function f(e,t,n){var r,a=m(n);if(W.wk&&W.wk<312)return r;if(a)if(typeof e.id==M&&(e.id=n),W.ie&&W.win){var s="";for(var i in e)e[i]!=Object.prototype[i]&&("data"==i.toLowerCase()?t.movie=e[i]:"styleclass"==i.toLowerCase()?s+=' class="'+e[i]+'"':"classid"!=i.toLowerCase()&&(s+=" "+i+'="'+e[i]+'"'));var o="";for(var c in t)t[c]!=Object.prototype[c]&&(o+='<param name="'+c+'" value="'+t[c]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+s+">"+o+"</object>",V[V.length]=e.id,r=m(e.id)}else{var l=y(D);l.setAttribute("type",T);for(var d in e)e[d]!=Object.prototype[d]&&("styleclass"==d.toLowerCase()?l.setAttribute("class",e[d]):"classid"!=d.toLowerCase()&&l.setAttribute(d,e[d]));for(var u in t)t[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&p(l,u,t[u]);a.parentNode.replaceChild(l,a),r=l}return r}function p(e,t,n){var r=y("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(W.ie&&W.win?(t.style.display="none",function(){4==t.readyState?v(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function v(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=q.getElementById(e)}catch(n){}return t}function y(e){return q.createElement(e)}function b(e,t,n){e.attachEvent(t,n),$[$.length]=[e,t,n]}function g(e){var t=W.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function w(e,t,n,r){if(!W.ie||!W.mac){var a=q.getElementsByTagName("head")[0];if(a){var s=n&&"string"==typeof n?n:"screen";if(r&&(C=null,z=null),!C||z!=s){var i=y("style");i.setAttribute("type","text/css"),i.setAttribute("media",s),C=a.appendChild(i),W.ie&&W.win&&typeof q.styleSheets!=M&&q.styleSheets.length>0&&(C=q.styleSheets[q.styleSheets.length-1]),z=s}W.ie&&W.win?C&&typeof C.addRule==D&&C.addRule(e,t):C&&typeof q.createTextNode!=M&&C.appendChild(q.createTextNode(e+" {"+t+"}"))}}}function _(e,t){if(Y){var n=t?"visible":"hidden";B&&m(e)?m(e).style.visibility=n:w("#"+e,"visibility:"+n)}}function x(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=M?encodeURIComponent(e):e}var k,A,j,S,C,z,M="undefined",D="object",P="Shockwave Flash",I="ShockwaveFlash.ShockwaveFlash",T="application/x-shockwave-flash",R="SWFObjectExprInst",E="onreadystatechange",O=window,q=document,L=navigator,F=!1,N=[a],U=[],V=[],$=[],B=!1,H=!1,Y=!0,W=function(){var e=typeof q.getElementById!=M&&typeof q.getElementsByTagName!=M&&typeof q.createElement!=M,t=L.userAgent.toLowerCase(),n=L.platform.toLowerCase(),r=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),s=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,i=!1,o=[0,0,0],c=null;if(typeof L.plugins!=M&&typeof L.plugins[P]==D)c=L.plugins[P].description,!c||typeof L.mimeTypes!=M&&L.mimeTypes[T]&&!L.mimeTypes[T].enabledPlugin||(F=!0,i=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=M)try{var l=new ActiveXObject(I);l&&(c=l.GetVariable("$version"),c&&(i=!0,c=c.split(" ")[1].split(","),o=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(d){}return{w3:e,pv:o,wk:s,ie:i,win:r,mac:a}}();return function(){W.w3&&((typeof q.readyState!=M&&"complete"==q.readyState||typeof q.readyState==M&&(q.getElementsByTagName("body")[0]||q.body))&&e(),B||(typeof q.addEventListener!=M&&q.addEventListener("DOMContentLoaded",e,!1),W.ie&&W.win&&(q.attachEvent(E,function(){"complete"==q.readyState&&(q.detachEvent(E,arguments.callee),e())}),O==top&&function(){if(!B){try{q.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),W.wk&&function(){return B?void 0:/loaded|complete/.test(q.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),r(e)))}(),function(){W.ie&&W.win&&window.attachEvent("onunload",function(){for(var e=$.length,t=0;e>t;t++)$[t][0].detachEvent($[t][1],$[t][2]);for(var r=V.length,a=0;r>a;a++)h(V[a]);for(var s in W)W[s]=null;W=null;for(var i in n)n[i]=null;n=null})}(),{registerObject:function(e,t,n,r){if(W.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=r,U[U.length]=a,_(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){return W.w3?o(e):void 0},embedSWF:function(e,n,r,a,s,i,o,d,u,p){var h={success:!1,id:n};W.w3&&!(W.wk&&W.wk<312)&&e&&n&&r&&a&&s?(_(n,!1),t(function(){r+="",a+="";var t={};if(u&&typeof u===D)for(var v in u)t[v]=u[v];t.data=e,t.width=r,t.height=a;var m={};if(d&&typeof d===D)for(var y in d)m[y]=d[y];if(o&&typeof o===D)for(var b in o)typeof m.flashvars!=M?m.flashvars+="&"+b+"="+o[b]:m.flashvars=b+"="+o[b];if(g(s)){var w=f(t,m,n);t.id==n&&_(n,!0),h.success=!0,h.ref=w}else{if(i&&c())return t.data=i,l(t,m,n,p),void 0;_(n,!0)}p&&p(h)})):p&&p(h)},switchOffAutoHideShow:function(){Y=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(e,t,n){return W.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,r){W.w3&&c()&&l(e,t,n,r)},removeSWF:function(e){W.w3&&h(e)},createCSS:function(e,t,n,r){W.w3&&w(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:r,getQueryParamValue:function(e){var t=q.location.search||q.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return x(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return x(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var e=m(R);e&&k&&(e.parentNode.replaceChild(k,e),A&&(_(A,!0),W.ie&&W.win&&(k.style.display="block")),j&&j(S)),H=!1}}}}();t.exports=n},{}],136:[function(){ns.View.define("app")},{}],137:[function(e){!function(t){e("models/resource/resource"),e("models/state-resource/state-resource-public"),e("models/user-current/user-current"),e("models/config/config"),e("models/environment/environment"),e("nanoblocks/icon-resource/icon-resource"),e("nanoblocks/popup-share/popup-share");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/page"),a=e("helpers/metrika");ns.View.define("asidePublic",{models:{resource:!0,stateResourcePublic:{"ns-model-changed":function(e,t){return".downloaded"==t?(this.disableDowloadButton(),void 0):(this.invalidate(),r.update(),void 0)}},userCurrent:!1,environment:!1,config:!1},params:function(e){return{id:e.idRoot,poster:e.poster}},events:{"ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy"},methods:{oninit:function(){this.models.stateResourcePublic.isValid()||this.models.stateResourcePublic.setDataDefault()},onhtmlinit:function(){n.bindAll(this,"selectPublicLink"),nb.init(this.node);var e=this.node.querySelector(".js-popup-save");e&&(this.nbPopupSave=nb.block(e),this.nbPopupSave.open({where:this.node.querySelector(".js-button-disk")}));var t=this.node.querySelector(".js-popup-share");t&&(this.nbPopupShare=nb.block(t),this.nbPopupShare.on("nb-opened",this.selectPublicLink));var r=this.node.querySelector(".js-public-link");r&&(this.nbInputPublicLink=nb.block(r))},onhtmldestroy:function(){this.nbPopupSave&&this.nbPopupSave.destroy(),this.nbPopupShare&&this.nbPopupShare.destroy(),this.nbInputPublicLink&&this.nbInputPublicLink.destroy()},selectPublicLink:function(){a.count("interface elements","public sidebar","click on link"),this.nbInputPublicLink.focus(),this.nbInputPublicLink.node.select()},disableDowloadButton:function(){nb.block(this.node.querySelector(".js-download-button")).disable()}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":42,"helpers/page":45,"models/config/config":69,"models/environment/environment":72,"models/resource/resource":99,"models/state-resource/state-resource-public":115,"models/user-current/user-current":121,"nanoblocks/icon-resource/icon-resource":125,"nanoblocks/popup-share/popup-share":133}],138:[function(e,t){!function(n){e("models/config/config"),e("models/environment/environment"),e("models/resource/resource"),e("models/states/state-dialog-auth"),e("views/dialogs/dialog-auth/dialog-auth"),"undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;var r=e("helpers/page"),a=e("helpers/string");e("helpers/metrika"),ns.View.define("dialogAuthCopy",t.exports={models:{config:!0,environment:!0,resource:!0,stateDialogAuth:{"ns-model-changed":"onStateChanged"}},params:function(){return{id:ns.Model.get("stateDialogAuth").get(".idResource")}},events:{"click window":"onWindowClick","ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-show":"onshow","ns-view-htmldestroy":"onhtmldestroy","click .js-register":"onClickRegister"},methods:{oninit:no.nop,onshow:function(){this._countMetrika("show")},onAuthSuccess:function(){this.close();var t=this.params.id,n=[this.models.config.get(".links.clientAuth")];e("client-auth").findAuthStatus(n).then(function(){ns.action.run("resource.save",{id:t})})},redirectToPassport:function(){var e=this.models.config.getData(),t=this.models.resource.get(".id").slice(8),n=this.models.config.get(".links.disk")+"/copy";n+="?hash="+a.processHashResource(t),n+="&sk="+this.models.config.get(".sk"),location=e.links.passport.login+"&retpath="+encodeURIComponent(n)},onStartAuthSocial:function(e,t){nb.trigger("popup-close"),this._countMetrika("social",t)},onStartAuth:function(){this._countMetrika("log in")
},onClickRegister:function(e){return this._countLeaveMetrika("register").always(function(){location=$(e.currentTarget).attr("href")}),!1},_typePopupMetrika:"login & copy popup",onStateChanged:function(e,t){".error"===t&&this.models.stateDialogAuth.get(".error")&&(this.invalidate(),r.update())}}},"dialogAuth")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"client-auth":24,"helpers/metrika":42,"helpers/page":45,"helpers/string":50,"models/config/config":69,"models/environment/environment":72,"models/resource/resource":99,"models/states/state-dialog-auth":118,"views/dialogs/dialog-auth/dialog-auth":139}],139:[function(e){!function(t){e("models/config/config"),e("models/environment/environment"),e("models/states/state-dialog-auth"),e("nanoblocks/form-auth/form-auth");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/page"),a=e("helpers/metrika"),s=e("helpers/formatter-metrika");ns.View.define("dialogAuth",{models:{config:!0,environment:!0,stateDialogAuth:{"ns-model-changed":function(e,t){".error"===t&&this.models.stateDialogAuth.get(".error")&&(this.invalidate(),r.update())}}},events:{"click window":"onWindowClick","ns-view-htmlinit":"onhtmlinit","ns-view-show":"onshow","ns-view-htmldestroy":"onhtmldestroy","click .js-register":"onClickRegister"},methods:{onhtmlinit:function(){n.bindAll(this,"onAuthSuccess","onAuthError","onStartAuth","onStartAuthSocial","onInputLogin","onInputPassword","resetError"),this.nbFormAuth=nb.block(this.node.querySelector(".js-form")),this.nbFormAuth.on("nb-auth-success",this.onAuthSuccess),this.nbFormAuth.on("nb-auth-error",this.onAuthError),this.nbFormAuth.on("nb-start-auth-social",this.onStartAuthSocial),this.nbFormAuth.on("nb-start-auth",this.onStartAuth),this.nbFormAuth.on("nb-input-login",this.onInputLogin),this.nbFormAuth.on("nb-input-password",this.onInputPassword),this.nbFormAuth.on("nb-input-error-closed",this.resetError);var e=this.models.stateDialogAuth.get(".error");e&&this.nbFormAuth[e.login?"showErrorLogin":"showErrorPassword"]()},onhtmldestroy:function(){this.nbFormAuth.off("nb-auth-success",this.onAuthSuccess),this.nbFormAuth.off("nb-auth-error",this.onAuthError),this.nbFormAuth.off("nb-start-auth-social",this.onStartAuthSocial),this.nbFormAuth.off("nb-start-auth",this.onStartAuth),this.nbFormAuth.off("nb-input-login",this.onInputLogin),this.nbFormAuth.off("nb-input-password",this.onInputPassword),this.nbFormAuth.off("nb-input-error-closed",this.resetError),this.nbFormAuth.destroy()},onshow:function(){this._countMetrika("show")},onAuthSuccess:function(){this.close();var t=[this.models.config.get(".links.clientAuth")];e("client-auth").findAuthStatus(t)},onAuthError:function(e,t){-1!==["password-invalid","password-empty"].indexOf(t.status)?this.models.stateDialogAuth.setDataError({password:{status:t.status}}):-1!==["account-not-found","login-empty"].indexOf(t.status)?this.models.stateDialogAuth.setDataError({login:{status:t.status}}):this.redirectToPassport()},onStartAuthSocial:function(e,t){nb.trigger("popup-close"),this._countMetrika("social",t)},onStartAuth:function(){this._countMetrika("log in")},onClickRegister:function(e){return this._countLeaveMetrika("register").always(function(){location=$(e.currentTarget).attr("href")}),!1},redirectToPassport:function(){location=this.models.config.get(".links.passport.auth")},onInputLogin:function(e,t){this.models.stateDialogAuth.set(".login",t)},onInputPassword:function(e,t){this.models.stateDialogAuth.set(".password",t),/[а-яё]/i.test(t)&&this.models.stateDialogAuth.setDataError({password:{status:"keybord_wrong"}})},resetError:function(){this.models.stateDialogAuth.setDataError(null)},onWindowClick:function(e){$(e.target).is(".nb-paranja")&&this.close()},close:function(){ns.action.run("dialog-auth.close")},_typePopupMetrika:"login popup",_getPrefixMetrika:function(){var e=s.getNameContext(ns.page.current.params.idContext);return[this._typePopupMetrika,e]},_countMetrika:function(){var e=this._getPrefixMetrika();a.count.apply(a,e.concat(n.toArray(arguments)))},_countLeaveMetrika:function(){var e=this._getPrefixMetrika();return a.countLeave.apply(a,e.concat(n.toArray(arguments)))}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"client-auth":24,"helpers/formatter-metrika":36,"helpers/metrika":42,"helpers/page":45,"models/config/config":69,"models/environment/environment":72,"models/states/state-dialog-auth":118,"nanoblocks/form-auth/form-auth":124}],140:[function(e){e("models/resource/resource"),e("models/config/config"),ns.View.define("directAsidePublic",{models:{config:!0,resource:!1},params:function(e){return{id:e.idRoot}}})},{"models/config/config":69,"models/resource/resource":99}],141:[function(e){e("models/config/config");var t=e("helpers/page");ns.View.define("directContentPublic",{models:["config"],events:{"ns-view-touch":"ontouch"},methods:{ontouch:function(){var e=(new Date).getTime(),n=ns.page.current.params.idContext;return this.idContext?(this.idContext!=n&&(e-this.lastUpdated<3e4||(this.idContext=n,this.lastUpdated=e,this.invalidate(),t.update())),void 0):(this.idContext=n,this.lastUpdated=e,void 0)}}})},{"helpers/page":45,"models/config/config":69}],142:[function(e){e("models/resource/resource"),e("views/view-fetch").define("fetchResource",{models:["resource"],params:function(e){return{id:e.idDialog}}})},{"models/resource/resource":99,"views/view-fetch":157}],143:[function(e){!function(t){e("models/resource/resource"),e("nanoblocks/icon-resource/icon-resource");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/metrika"),a=55,s=32,i=200;ns.View.define("filePublic",{models:["resource"],params:function(e){return{id:e.idRoot}},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy"},methods:{onhtmlinit:function(){if(n.bindAll(this,"showPreview","toggleZoom"),this.zoom=this.$node.find(".js-preview-resource__zoom"),!this.models.resource.get(".meta.blocked")){this.isVideo="video"===this.models.resource.get(".meta.mediatype"),this.isVideo&&(Modernizr.videostream?this.setSizeContainerVideo():(this.node.removeClass("b-slider__item_video"),this.node.querySelector(".js-player-video").addClass("_hidden"),this.node.querySelector(".js-preview-video").removeClass("_hidden")));var e=this.models.resource.get(".hasPreview")&&"video"!==this.models.resource.get(".meta.mediatype");if(e){this.nodePreview=this.$node.find(".js-preview"),this.nodeLoader=this.$node.find(".js-loader");var t=this.nodePreview[0];!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth?(this.hidePreview(),this.nodePreview.on("load",this.showPreview)):this.showPreview()}if(this.isVideo&&Modernizr.videostream){var a=n.bind(function(){this.setSizeContainerVideo()},this);this.subscribeOnResize(a)}r.count("interface elements","show page")}},onhtmldestroy:function(){this.nodePreview&&this.nodePreview.off("load",this.showPreview),this.onWindowResize&&this._$window.off("resize",this.onWindowResize)},subscribeOnResize:function(e){this.onWindowResize=n.debounce(e,100),this._$window.on("resize",this.onWindowResize)},setSizeContainerVideo:function(){var e=this.$node.find(".js-container-video"),t=this._$window.height()-e.offset().top-a-s;i>t&&(t=i),e.css({height:t})},hidePreview:function(){this.nodePreview.addClass("_hidden"),this.nodeLoader.removeClass("_hidden")},showPreview:function(){this.checkZoom(),this.nodeLoader.addClass("_hidden"),this.nodePreview.removeClass("_hidden"),this.$node.delay(300).hide(0).show(0)},checkZoom:function(){this.zoom.length&&(this.toggleZoom(),this.subscribeOnResize(this.toggleZoom))},toggleZoom:function(){var e=this.nodePreview[0],t=e.naturalHeight+e.naturalWidth;this.zoom.toggleClass("_hidden",t===this.nodePreview.height()+this.nodePreview.width())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":42,"models/resource/resource":99,"nanoblocks/icon-resource/icon-resource":125}],144:[function(e){e("models/config/config"),e("models/environment/environment"),e("models/resource/resource"),ns.View.define("footerPublic",{models:["config","environment","resource"],params:function(e){return{id:e.idRoot,poster:e.poster}}})},{"models/config/config":69,"models/environment/environment":72,"models/resource/resource":99}],145:[function(e){!function(t){e("helpers/page"),"undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;var n="form-search-ufo-query-search.changed";ns.View.define("formSearch",{models:["environment"],params:function(e){var t="/disk";return e.scopeSearch?t=e.scopeSearch:("/trash"===e.idContext||"/mail"===e.idContext)&&(t=e.idContext),{scopeSearch:t}},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","ns-view-touch":"ontouch","submit .js-search":"search","mousedown .js-button-submit":"search","mousedown .js-clear":"clearInput","mousedown .js-arrow":"onArrowClick"},methods:{onhtmlinit:function(){var e=this.node.querySelector(".js-query"),t=this.node.querySelector(".js-button-submit");this.input=$(e),this.nbInput=nb.block(e),this.nbButtonSubmit=nb.block(t),this.buttonClear=$(this.node.querySelector(".js-clear")),this.buttonClear.hide(),this.nbButtonSubmit.disable(),this.nbInput.on("nb-input",this.updateStateButtons.bind(this)),this.models.environment.get(".agent.isMobile")&&this.input.on("focus",function(){setTimeout(function(){window.scrollTo(0,0),$(".nb-layer_type_fixed").css("position","absolute")},0)}),this.on(n,this.onQuerySearchChanged)},onhtmldestroy:function(){this.input.off(),this.off(n,this.onQuerySearchChanged)},ontouch:function(){var e=ns.page.current.params.querySearch;(e!==this._querySearch||this._querySearch!==encodeURIComponent(this.nbInput.getValue()))&&(this._querySearch=e,this.trigger(n))},search:function(e){e.preventDefault();var t=this.input.val();t?ns.action.run("app.search",{querySearch:t,scopeSearch:this.params.scopeSearch,from:"formSearch"}):ns.action.run("listing.openFolder",{id:this.params.scopeSearch,from:"formSearch"}),this.input.blur()},updateStateButtons:function(){this.nbInput.getValue().length>0?(this.buttonClear.show(),this.nbButtonSubmit.enable()):(this.buttonClear.hide(),this.nbButtonSubmit.disable())},onQuerySearchChanged:function(){if(this.nbInput){var e=this._querySearch?decodeURIComponent(this._querySearch):"";this.nbInput.setValue(e)}this.updateStateButtons()},clearInput:function(e){e.preventDefault(),this.nbInput.setValue(""),this.nbInput.focus(),this.updateStateButtons()},onArrowClick:function(){ns.action.run("listing.openFolder",{id:"/disk",from:"logo"})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/page":45}],146:[function(e){!function(t){e("models/user-current/user-current"),e("models/config/config"),e("models/environment/environment"),e("nanoblocks/popup-account/popup-account");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=300,a={"ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-toggle-popup":"togglePopup","mouseleave .js-logo":"onLogoMouseleave","mouseover document":"onDocumentMouseover"};a[ns.V.EVENTS.mousemove+" .js-logo"]="onLogoMousemove",a[ns.V.EVENTS.mousedown+" .js-logo"]="onLogoMousedown",a[ns.V.EVENTS.click+" .js-logo"]="onLogoClick",a[ns.V.EVENTS.mousedown+" document"]="onDocumentMousedown",a[ns.V.EVENTS.mouseup+" document"]="onDocumentMouseup",ns.View.define("header",{models:["config","environment","userCurrent"],events:a,methods:{oninit:function(){this.isMousePressed=!1,n.bindAll(this,"showTableau","hideTableau")},onhtmlinit:function(){n.bindAll(this,"switchAccount");var e=this.node.querySelector(".js-popup-account");e&&(this.nbPopup=nb.block(this.node.querySelector(".js-popup-account")),this.nbPopup.on("nb-switch",this.switchAccount)),this.initTableau()},onhtmldestroy:function(){this.nbPopup&&this.nbPopup.destroy(),this.destroyTableau()},togglePopup:function(e){e.stopPropagation(),this.nbPopup.toggle()},switchAccount:function(e,t){ns.action.run("auth.switch-account",{uid:t})},initTableau:function(){var e=this.getModel("environment"),t=this.getModel("config"),n=t.getTldReal(),r="desktop";e.get(".agent.isTablet")?r="touch-pad":e.get(".agent.isMobile")&&(r="touch-phone"),this.tableau=$.Tableau({serviceId:"disk",width:370,device:r,preset:n,lang:e.get(".session.locale"),domain:n,target:"blank",zIndex:1e3}),this.$logo=this.$node.find(".js-logo"),this.$tableau=$(this.tableau.getNode()),this.$tableau.css({top:"-9999px",zIndex:-1}),this.$tableau.find(".tableau__tail").remove()},destroyTableau:function(){clearTimeout(this.tableauTimer),this.$tableau=null,this.isMousePressed=!1,this.tableau&&this.tableau.destruct()},onLogoMousedown:function(){this.isMousePressed=!0,clearTimeout(this.tableauTimer)},onLogoMousemove:function(e){e.which&&this.isMousePressed||this.tryShowTableau()},onLogoMouseleave:function(){this.tryHideTableau()},tryShowTableau:function(){clearTimeout(this.tableauTimer),this.tableauTimer=n.delay(this.showTableau,r)},tryHideTableau:function(){clearTimeout(this.tableauTimer),this.tableauTimer=n.delay(this.hideTableau,r)},showTableau:function(){if(clearTimeout(this.tableauTimer),!this.tableau.isOpened()){var e=this.$logo.offset();this.tableau.setPos({top:e.top+this.$logo.outerHeight(),left:e.left})}this.tableau.open()},hideTableau:function(){clearTimeout(this.tableauTimer),this.tableau.close()},updateVisibilityTableau:function(e){if(this.tableau.isOpened()){var t=$(e.target);t.closest(".tableau, .js-logo").length?clearTimeout(this.tableauTimer):this.tryHideTableau()}},onDocumentMousedown:function(){this.isMousePressed=!0},onDocumentMouseup:function(e){this.isMousePressed=!1,this.updateVisibilityTableau(e)},onDocumentMouseover:function(e){this.updateVisibilityTableau(e)},onLogoClick:function(e){var t=this.getModel("environment");t.get(".agent.isMobile")&&!this.tableau.isOpened()&&(this.showTableau(),e.preventDefault())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/config/config":69,"models/environment/environment":72,"models/user-current/user-current":121,"nanoblocks/popup-account/popup-account":132}],147:[function(e){function t(e){return $(ns.renderNode({notification:e.getData()},"notification"))}e("models/queues/queue-notifications");var n=e("helpers/metrika");ns.View.define("notifications",{models:{queueNotifications:{"ns-model-changed":"keepValid"}},events:{"ns-view-init":function(){this.models.queueNotifications.on("processing",this.add.bind(this))},"ns-view-show":"updateWidth",click:"closeNext",mouseover:"stopTimer",mouseout:"startTimer"},methods:{timeClose:5e3,timeMove:400,add:function(e,r){var a=r.item,s=r.promise,i=t(a);if(!i.text())return s.fulfill(),void 0;n.count("notifications","operation "+a.get(".operation"),a.get(".status"));var o=function(){i.html(t(a).html()).find(".js-message").css("width",""),this.updateWidth()}.bind(this);a.on("ns-model-changed",o),s.always(a.off.bind(a,"ns-model-changed",o)),this.$node.append(i),setTimeout(function(){i.addClass("notifications__item_moved"),this.updateWidth()}.bind(this),100),this.promises=this.promises||[],this.promises.unshift(s),this.timer||this.startTimer()},updateWidth:function(){var e=this.getChildren(),t=this.getChildNext(),n=t.children(".notifications__text").width();e.width(n)},closeNext:function(){var e=this.getChildNext();e.removeClass("notifications__item_moved"),this.updateWidth(),e.length?setTimeout(function(){e.remove(),this.startTimer(),this.promises.pop().fulfill()}.bind(this),this.timeMove):this.stopTimer()},getChildren:function(){var e=$(this.node),t=e.children(".notifications__item_moved");return t},getChildNext:function(){var e=this.getChildren();return e.eq(0)},startTimer:function(){this.timer&&this.stopTimer(),this.timer=setTimeout(function(){this.closeNext()}.bind(this),this.timeClose)},stopTimer:function(){clearTimeout(this.timer),this.timer=null}}})},{"helpers/metrika":42,"models/queues/queue-notifications":85}],148:[function(){ns.View.define("pageError",{models:["environment"],events:{"click .js-page-reload":"reload"},methods:{reload:function(){window.location.reload()}}})},{}],149:[function(){ns.View.define("contentError",{})},{}],150:[function(e){e("models/config/config"),e("models/user-current/user-current"),ns.View.define("contentPublic",{models:{config:!1,userCurrent:{"ns-model-changed":"updateNavigation"},resource:!1},events:{"ns-view-htmlinit":"onhtmlinit"},params:function(e){return{id:e.idRoot}},methods:{onhtmlinit:function(){this.$navigation=this.$node.find(".content-public__navigation")},updateNavigation:function(){this.$navigation.toggleClass("content-public__navigation_hidden",!this.models.userCurrent.get(".hasDisk"))}}})},{"models/config/config":69,"models/user-current/user-current":121}],151:[function(e){!function(t){e("models/resource/resource"),e("models/states/state-player"),e("nanoblocks/player-audio/player-audio");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("helpers/format"),a=e("helpers/metrika"),s=e("environment"),i="player-audio-public_playing",o="player-audio-public_paused",c="iOS"===s.agent.OSFamily;ns.View.define("playerAudioPublic",{models:["resource"],params:function(e){return{id:e.idRoot}},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-play":function(){a.count("interface elements","audio","play button",this.nbPlayerAudio.typePlayer)}},methods:{onhtmlinit:function(){if(n.bindAll(this,"onStatusChanged","onSliderMove","onPlayerNotAvailable","onDurationChanged","onTimeCurrentChanged","onPlayerEnded","onPlayerError"),this.initPlayer(),this.promiseSrc=new Vow.Promise,this.statePlayer=ns.Model.get("statePlayer"),this.statePlayer.on("ns-model-changed.track.status",this.onStatusChanged),this.initControls(),nb.init(this.node),c){var e=ns.Model.get("config");e.get(".tldFinal")?(this.setSrc(),this.$node.removeClass("player-audio-public_inactive")):e.once("ns-model-changed",function(){this.setSrc(),this.$node.removeClass("player-audio-public_inactive")}.bind(this))}},onhtmldestroy:function(){ns.action.run("resource.pause"),this.statePlayer.off("ns-model-changed.track.status",this.onStatusChanged),this.unbindPlayer(),this.unbindControls()},initPlayer:function(){var e=$('<div data-nb="player-audio"></div>');this.nbPlayerAudio=nb.block(e[0]),this.nbPlayerAudio.on("player-audio.duration-changed",this.onDurationChanged),this.nbPlayerAudio.on("player-audio.time-changed",this.onTimeCurrentChanged),this.nbPlayerAudio.on("player-audio.ended",this.onPlayerEnded),this.nbPlayerAudio.on("player-audio.error",this.onPlayerError),this.nbPlayerAudio.on("player-audio.not-available",this.onPlayerNotAvailable)},unbindPlayer:function(){this.nbPlayerAudio.off("player-audio.duration-changed",this.onDurationChanged),this.nbPlayerAudio.off("player-audio.time-changed",this.onTimeCurrentChanged),this.nbPlayerAudio.off("player-audio.ended",this.onPlayerEnded),this.nbPlayerAudio.off("player-audio.error",this.onPlayerError),this.nbPlayerAudio.off("player-audio.not-available",this.onPlayerNotAvailable),this.nbPlayerAudio.destroy()},onPlayerNotAvailable:function(){this.$node.find(".js-player").addClass("_hidden"),this.$node.find(".js-icon").removeClass("_hidden")},initControls:function(){this.$timeCurrent=this.$node.find(".js-time-current"),this.$timeTotal=this.$node.find(".js-time-total");var e=this.node.querySelector(".js-slider");e&&(this.slider=nb.block(e),this.slider.on("nb-slider_slidestart",function(){this._seeking=!0}.bind(this)),this.slider.on("nb-slider_slide",this.onSliderMove),this.slider.on("nb-slider_slidestop",function(){this._seeking=!1,this.jump()}.bind(this)))},unbindControls:function(){this.slider.off()},setSrc:function(){this.models.resource.getURL({inline:!0}).then(function(e){var t=this.nbPlayerAudio.load(e.get(".file"));t&&t.then(function(){this.syncVolume(),this.promiseSrc.fulfill()},this)}.bind(this))},onStatusChanged:function(){if(this.statePlayer.get(".track.id")===this.models.resource.get(".id")){var e=this.statePlayer.get(".track.status");"playing"==e?this.play():"paused"==e?this.pause():"ended"==e?this.onEnded():"stopped"==e?this.stop():"error"==e&&this.onError()}},setPlaying:function(e){this.$node.toggleClass(i,e)},setPaused:function(e){this.$node.toggleClass(o,e)},play:function(){return this.setPaused(!1),this.setPlaying(!0),this.promiseSrc.isResolved()?(this.nbPlayerAudio.play(),void 0):(this.setSrc(),this.promiseSrc.then(function(){this.$node.removeClass("player-audio-public_inactive"),"playing"==this.statePlayer.get(".track.status")&&this.nbPlayerAudio.play()},this),void 0)},pause:function(){this.setPaused(!0),this.setPlaying(!1),this.nbPlayerAudio.pause()},stop:function(){this.onEnded()},onEnded:function(){this.setPaused(!1),this.setPlaying(!1)},onError:function(){return"html"==this.typePlayer?(this.unbindPlayer(),this.initPlayer("flash"),this.nbPlayerAudio.play(),void 0):(this.setPaused(!1),this.setPlaying(!1),void 0)},onDurationChanged:function(e,t){this.updateTimeTotal(t)},onTimeCurrentChanged:function(e,t){this._seeking||(this.updateTimeCurrent(t),this.updateProgress(t))},updateProgress:function(e){this.slider.setValue(100*(e/this.nbPlayerAudio.getDuration())||0)},updateTimeCurrent:function(e){this.$timeCurrent.text(e?r.secondsToTime(e):"00:00")},updateTimeTotal:function(e){this.$timeTotal.text(e?r.secondsToTime(e):"--:--")},onPlayerEnded:function(){this.statePlayer.set(".track.status","ended")},onPlayerError:function(){this.statePlayer.set(".track.status","error")},jump:function(){this.nbPlayerAudio.seek(this.slider.getValue()/100)},syncVolume:function(){var e=this.statePlayer.get(".volume");this.nbPlayerAudio.setVolume(e)},onSliderMove:function(){var e=Math.ceil(this.slider.getValue()/100*this.nbPlayerAudio.getDuration());this.$timeCurrent.text(e?r.secondsToTime(e):"00:00")}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:27,"helpers/format":35,"helpers/metrika":42,"models/resource/resource":99,"models/states/state-player":119,"nanoblocks/player-audio/player-audio":128}],152:[function(e){!function(t){var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e("views/player-video/player-video"),ns.View.define("playerVideoFilePublic",n.extend({},ns.View.infoLite("playerVideo"),{params:function(e){return{id:e.idRoot,idContext:e.idContext}}}),"playerVideo")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"views/player-video/player-video":153}],153:[function(e){!function(t){e("models/video-info/video-info"),e("models/resource/resource"),e("models/state-resource/state-resource"),e("models/environment/environment"),e("models/config/config"),e("models/environment/environment"),e("models/state-player-video/state-player-video"),e("models/queues/queue-request"),e("nanoblocks/player-video-flash/player-video-flash"),e("nanoblocks/player-video-yandex/player-video-yandex"),e("nanoblocks/player-video-html/player-video-html"),e("helpers/path");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;ns.View.define("playerVideo",{models:{videoInfo:!1,resource:!1,stateResource:!1,config:!1,environment:!1},events:{"ns-view-init":"oninit","ns-view-show":"onshow","ns-view-hide":"onhide","ns-view-htmldestroy":"onhtmldestroy","resize@show window":"onresize"},params:function(e){var t={id:e.idDialog,idContext:e.idContext},n=ns.Model.getValid("stateResource",t);return n&&n.get(".autoplay")&&(t.autoplay=!0),t},methods:{oninit:function(){n.bindAll(this,"onNeedToFetchUrl"),this.models.stateResource.isValid()||this.models.stateResource.setDataDefault()},onhtmldestroy:function(){this.destroyPlayer()},onshow:function(){helperMetrika.count("interface elements","video","show","yavideo"===this.models.videoInfo.get(".typeVideoPlayer")?"yandex-video":"streaming"),this.nbPlayer||(this.nbPlayer=nb.block(this.node.querySelector(".js-player")),this.nbPlayer.on("ufo-need-url",this.onNeedToFetchUrl)),this.updateSize()},onhide:function(){this.params.autoplay&&this.models.stateResource.set(".autoplay",!1),this.destroyPlayer(),this.invalidate()},destroyPlayer:function(){this.nbPlayer&&(this.nbPlayer.destroy(),delete this.nbPlayer)},onresize:n.debounce(function(){this.updateSize()},200),updateSize:function(){this.nbPlayer.setSize(this.nbPlayer.getSize())},onNeedToFetchUrl:function(e,t){var r=this,a=ns.Model.get("statePlayerVideo",{stid:t.stid,host:t.host}),s=n.isNumber(t.start)?t.start:0;a.fetchUrl({start:s,kbps:t.kbps}).then(function(e){var t=e.get(".url");r.nbPlayer.setUrl(t)})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/path":46,"models/config/config":69,"models/environment/environment":72,"models/queues/queue-request":86,"models/resource/resource":99,"models/state-player-video/state-player-video":114,"models/state-resource/state-resource":116,"models/video-info/video-info":122,"nanoblocks/player-video-flash/player-video-flash":129,"nanoblocks/player-video-html/player-video-html":130,"nanoblocks/player-video-yandex/player-video-yandex":131}],154:[function(e){e("models/slices/slices"),e("models/counter-mail/counter-mail");var t=e("helpers/page"),n=e("helpers/metrika");ns.View.define("sliceLinkMail",{models:{slices:!0,counterMail:{"ns-model-changed":function(){this.invalidate(),t.update()}}},events:{"click .js-link-mail":"countClickLinkMail"},methods:{countClickLinkMail:function(e){n.countLeave("navigation","tabs","yandex.mail").always(function(){window.location.href=$(e.currentTarget).attr("href")},this)}}})},{"helpers/metrika":42,"helpers/page":45,"models/counter-mail/counter-mail":71,"models/slices/slices":111}],155:[function(e){!function(t){e("models/slices/slices"),e("models/invites/invites-folder"),e("models/config/config"),"undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;var n=e("helpers/page");ns.View.define("sliceShared",{models:{slices:"invalidate",invitesFolder:{"ns-model-changed":"onUpdateModels","ns-model-remove":"onUpdateModels"},config:!0},"params+":{idContext:null,idApp:null},methods:{onUpdateModels:function(){this.invalidate(),n.update()}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/page":45,"models/config/config":69,"models/invites/invites-folder":74,"models/slices/slices":111}],156:[function(e){!function(t){e("models/slices/slices"),e("models/config/config"),e("models/user-current/user-current");var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e("environment");e("helpers/path");var a=e("helpers/operation");e("helpers/metrika");var s=e("helpers/page");ns.View.define("slices",{models:{slices:{"ns-model-changed":function(e,t){if(".loading"!==t){if(".loaded"===t)return this.showItemsPopupHidden(),void 0;this.invalidate(),s.update()}}},config:!0},params:function(e){return e.idContext&&(e.idCurrent=ns.Model.get("slices").getIdSliceByContext(e.idContext)||e.idContext),e},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","ns-view-hide":"onhide","click .js-more":"onClickMore"},methods:{onhtmlinit:function(){n.bindAll(this,"onDropTrash","onPopupOpen","onPopupClose","closePopup");var e=this.node.querySelector(".js-more");e&&(this.toggler=nb.block(e),this.popup=this.toggler.getPopup(),this.popup.on("nb-opened",this.onPopupOpen),this.popup.on("nb-closed",this.onPopupClose),this.itemPopup=this.popup.$node.find(".js-item-popup")),this.itemMenu=this.$node.find(".js-item"),this.isDroppable()&&(this.$droppable=this.$node.find(".js-trash"),this.$droppable.droppable({hoverClass:"slices__item_drag-hover",tolerance:"pointer",over:this.onOver,out:this.onOut,drop:this.onDropTrash}))},onhtmldestroy:function(){this.popup&&this.popup.off("nb-opened",this.onPopupOpen),this.$droppable&&this.$droppable.droppable("destroy")},onhide:function(){this.popup&&this.popup.close()},onClickMore:function(){if(this.popup&&!this.popup.isOpen()){var e=this.itemPopup;n.each(this.itemMenu,function(t){var n=$(t),r=n.data("id");if(n.position().top>0){var a=$(e).filter('[data-id="'+r+'"]');$(a).removeClass("slices__item-popup_hidden")}else{var a=$(e).filter('[data-id="'+r+'"]');$(a).addClass("slices__item-popup_hidden")}})}},onDropTrash:function(e,t){var r=t.helper.data("params");a.create("delete",n.map(r.resources,function(e){return{idSrc:e.id}}))},onOver:function(){$.ui.ddmanager.current.element.draggable("option","scroll",!1)},onOut:function(){$.ui.ddmanager.current.element.draggable("option","scroll","document")},onPopupOpen:function(){this.models.slices.fetch(),$(window).on("resize",this.closePopup)},onPopupClose:function(){$(window).off("resize",this.closePopup)},closePopup:function(){this.popup&&this.popup.close()},showItemsPopupHidden:function(){var e=this.models.slices;this.popup&&this.popup.$node.find(".js-hidden").each(function(t,n){var r=$(n),a=r.data("id"),s=e.get('.slice[.id == "'+a+'"].hidden')[0];s||r.removeClass("js-hidden slices__item-popup_hidden")})},isDroppable:function(){return!r.agent.isMobile}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:27,"helpers/metrika":42,"helpers/operation":44,"helpers/page":45,"helpers/path":46,"models/config/config":69,"models/slices/slices":111,"models/user-current/user-current":121}],157:[function(e,t){!function(n){"undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;var r=e("helpers/page"),a=t.exports=function(){};no.inherit(a,ns.View,{_htmlinit:function(){ns.View.prototype._htmlinit.apply(this,arguments),r.update()}}),a.define=function(e,t){return ns.View.define(e,t,a)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/page":45}],158:[function(e){!function(t){e("actions/actions-public"),e("libs/jquery/extensions.jquery"),("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null).extend(yr.externals,e("libs/yate.externals")),e("models/resource/resource"),"undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;var n=e("helpers/path"),r=e("environment"),a=e("config"),s=ns.history._onAnchorClick;ns.history._onAnchorClick=function(e){var t=e.currentTarget;return 0===(t.pathname||"").indexOf("/client")?!0:s.apply(this,arguments)},$(function(){r.session.canHaveAuth||(e("client-auth").findAuthStatus(r.session.urlsCheckAuth,{source:"not-found"===r.session.page?"public-notfound":"public"}),ns.events.on("ufo-detected-auth-status",i)),e("helpers/init").reconstructApp().always(function(){ns.page.title=function(){var e=ns.Model.get("resource",{id:ns.page.current.params.idContext||ns.page.current.params.idRoot}),t="";t+=e.isValid()?e.get(".meta.blocked")?"Файл заблокирован":e.get(".name"):"Ничего не найдено",t+=" — Яндекс.Диск",r.session.loadingFailed&&(t="Яндекс.Диск"),document.title=t},ns.page.title(),r.session.canHaveAuth&&i()}),nb.init()});var i=function(){var t=[r.agent.isMobile?"mobile":"desktop"],s=ns.Model.get("userCurrent").getData();t.push(s.uid?s.hasDisk?"auth with Disk":"auth no Disk":"noauth");var i,o,c,l=ns.page.current.params.idRoot&&ns.Model.get("resource",{id:ns.page.current.params.idRoot});l&&l.isValid()?l.get(".meta.blocked")?i="blocked":"file"==l.get(".type")?(i="file",l.get(".meta.speed_limited")&&(i="limited file"),l.get(".meta.blockings.simple.public")&&(i="file blocked download "),o=l.get(".meta.mediatype"),c=n.extname(l.get(".name"))):"dir"==l.get(".type")&&(i="folder",l.get(".meta.speed_limited")&&(i="limited folder")):i="notfound",i&&t.push(i),o&&t.push(o),c&&t.push(c),e("helpers/metrika").init(a.countersMetrika.public,t)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"actions/actions-public":17,"client-auth":24,config:25,environment:27,"helpers/init":38,"helpers/metrika":42,"helpers/path":46,"libs/jquery/extensions.jquery":63,"libs/yate.externals":66,"models/resource/resource":99}],159:[function(e){e("libs/client-preloaded"),e("./file-public.noscript.js"),e("./common-client")
},{"./common-client":158,"./file-public.noscript.js":160,"libs/client-preloaded":59}],160:[function(e){e("libs/extensions.noscript"),e("layouts/file-public"),e("layouts/error-public"),e("models-preloaded").fill(),e("./routes-file")},{"./routes-file":161,"layouts/error-public":55,"layouts/file-public":56,"libs/extensions.noscript":61,"models-preloaded":67}],161:[function(e){ns.router.routes={route:{"/public/error":"error-public","{urlFull:urlPublic}":"file-public"},rewriteParams:{"file-public":function(t){var n=e("routers/public"),r="/"+t.urlFull.split("/").map(encodeURIComponent).join("/");t.hash&&(r+="?hash="+encodeURIComponent(t.hash));var a=n.parseUrl(r);a.hashLong||(a.hashLong=e("environment").session.public[a.hashShort]);var s=n.formatIdRoot(a);return{idRoot:s,idContext:s,idApp:"public"}}}}},{environment:27,"routers/public":134}]},{},[159]),__i18n__={},__i18n__.i18n=__i18n__.i18n||{},__i18n__.i18n.convert=function(e,t){var n=e.length;if(4==n&&1==t)return e[0];var r=t%100,a=t%10,s=2;return r>10&&20>=r?s=2:1==a?s=0:a>1&&5>a&&(s=1),4==n&&s++,e[s]},__i18n__.i18n["if"]=function(e,t,n){return e?t:n},__i18n__.i18n.index=function(e,t){return e[+t]},__i18n__.i18n.plural=function(e,t,n){return e>1?t:n};
var yr=yr||require("yate/lib/runtime.js");!function(){function t(t,a){return ce("ok",me("status",a,[]))}function a(t,a){return ce("error",me("status",a,[]))}function e(t,a){return de(me("selected",a,[]))}function n(t,a){return!ce("true",me("search",a,[]))}function r(t,a){return _e("href",a)}function s(t,a){return ce("default",me("type",a,[]))}function i(t,a){return ce("username",me("type",a,[]))}function o(t,a){return ce("suggest",me("mod",a,[]))&&_e("usernameHighlighted",a)}function c(t,a){return ce("suggest",me("mod",a,[]))&&_e("emailHighlighted",a)}function l(t,a){return ce("link",me("type",a,[]))}function d(t,a){return _e("short_url",a)}function u(t,a){return ce("qr",t.s(qe,a))}function b(t,a){return de(t.s($r,a))}function v(t,a){return _e("icon",a)}function f(t,a){return _e("hostPDD",a)}function y(t,a){return!!_e("services",a)&&!_e("isMobile",a)}function p(t,a){return ce("doc",me("type",a,[]))}function _(t,a){return ce("image",me("type",a,[]))}function m(t,a){return ce("docviewer",me("app",a,[]))&&!de(t.s(is,a))}function h(t,a){return ce(2,me("drweb",a,[]))||de(t.s($r,a))}function w(t,a){return _e("hasPreview",a)&&(ce("book",t.s(Xs,a))||ce("document",t.s(Xs,a)))}function g(t,a){return ce("XXL",me("name",a,[]))}function A(t,a){return _e("hasPreview",a)&&ce("image",t.s(Xs,a))}function x(t,a){return ce("player",me("app",a,[]))}function j(t,a){return ce("video",t.s(Xs,a))}function k(t,a){return _e("textOnly",a)}function z(t,a){return ce("delete",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("dst",a)}function C(t,a){return ce("move",me("operation",a,[]))&&ce("done",me("status",a,[]))}function M(t,a){return ce("move",me("operation",a,[]))&&ce("done",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function P(t,a){return ce("move",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("count",a)}function S(t,a){return ce("move",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function D(t,a){return ce("move",me("operation",a,[]))&&yr.externals.isParent("/yavideo",be(t.s(Zi,a)))&&ce("failed",me("status",a,[]))&&_e("copied",a)}function T(t,a){return ce("move",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function q(t,a){return ce("move",me("operation",a,[]))&&ce("canceled",me("status",a,[]))}function H(t,a){return ce("move",me("operation",a,[]))&&ce("canceled",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function E(t,a){return ce("cleanTrash",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function F(t,a){return ce("cleanTrash",me("operation",a,[]))&&ce("done",me("status",a,[]))}function L(t,a){return(ce("delete",me("operation",a,[]))||ce("leaveFolder",me("operation",a,[])))&&ce("done",me("status",a,[]))}function V(t,a){return(ce("delete",me("operation",a,[]))||ce("leaveFolder",me("operation",a,[])))&&ce("done",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function R(t,a){return(ce("delete",me("operation",a,[]))||ce("leaveFolder",me("operation",a,[])))&&ce("failed",me("status",a,[]))}function B(t,a){return(ce("delete",me("operation",a,[]))||ce("leaveFolder",me("operation",a,[])))&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function O(t,a){return(ce("delete",me("operation",a,[]))||ce("leaveFolder",me("operation",a,[])))&&ce("done",me("status",a,[]))&&_e("count",a)}function Y(t,a){return ce("leaveFolder",me("operation",a,[]))&&ce("owner",me("role",a,[]))}function I(t,a){return ce("rename",me("operation",a,[]))&&ce("canceled",me("status",a,[]))}function N(t,a){return ce("rename",me("operation",a,[]))&&ce("canceled",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function Q(t,a){return ce("rename",me("operation",a,[]))&&ce("canceled",me("status",a,[]))&&ce("nameHasSlash",me("reason",a,[]))&&ce("file",t.s(Qi,a))}function G(t,a){return(ce("createFolder",me("operation",a,[]))||ce("rename",me("operation",a,[])))&&ce("canceled",me("status",a,[]))&&ce("nameHasSlash",me("reason",a,[]))&&ce("dir",t.s(Qi,a))}function U(t,a){return ce("rename",me("operation",a,[]))&&ce("canceled",me("status",a,[]))&&ce("exists",me("reason",a,[]))&&ce("dir",t.s(Qi,a))}function X(t,a){return ce("rename",me("operation",a,[]))&&ce("canceled",me("status",a,[]))&&ce("exists",me("reason",a,[]))&&ce("file",t.s(Qi,a))}function W(t,a){return ce("delete",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("dst",a)&&ce("dir",t.s(Qi,a))}function K(t,a){return ce("delete",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("dst",a)&&_e("count",a)}function Z(t,a){return ce("restore",me("operation",a,[]))&&ce("done",me("status",a,[]))}function J(t,a){return ce("restore",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function $(t,a){return ce("restore",me("operation",a,[]))&&ce("done",me("status",a,[]))&&ce("dir",t.s(go,a))}function ta(t,a){return ce("restore",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function aa(t,a){return ce("restore",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("count",a)}function ea(t,a){return ce("copy",me("operation",a,[]))&&ce("done",me("status",a,[]))}function na(t,a){return ce("copy",me("operation",a,[]))&&ce("done",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function ra(t,a){return ce("copy",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("count",a)}function sa(t,a){return ce("copy",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function ia(t,a){return ce("copy",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function oa(t,a){return ce("createFolder",me("operation",a,[]))&&ce("exists",me("status",a,[]))}function ca(t,a){return ce("createFolder",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function la(t,a){return ce("upload",me("operation",a,[]))&&ce("exists",me("status",a,[]))}function da(t,a){return ce("upload",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function ua(t,a){return ce("publish",me("operation",a,[]))&&_e("reverse",a)&&ce("done",me("status",a,[]))}function ba(t,a){return ce("publish",me("operation",a,[]))&&_e("reverse",a)&&ce("done",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function va(t,a){return ce("publish",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function fa(t,a){return ce("publish",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function ya(t,a){return ce("publish",me("operation",a,[]))&&_e("reverse",a)&&ce("failed",me("status",a,[]))}function pa(t,a){return ce("publish",me("operation",a,[]))&&_e("reverse",a)&&ce("failed",me("status",a,[]))&&ce("dir",t.s(Qi,a))}function _a(t,a){return ce("acceptInvite",me("operation",a,[]))&&ce("done",me("status",a,[]))}function ma(t,a){return ce("acceptInvite",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function ha(t,a){return ce("acceptInvite",me("operation",a,[]))&&ce("owner",me("role",a,[]))}function wa(t,a){return ce("rejectInvite",me("operation",a,[]))&&ce("done",me("status",a,[]))}function ga(t,a){return ce("rejectInvite",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Aa(t,a){return ce("inviteDisk",me("operation",a,[]))&&ce("done",me("status",a,[]))}function xa(t,a){return ce("inviteDisk",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function ja(t,a){return ce("inviteDisk",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("hasDisk",me("reason",a,[]))}function ka(t,a){return ce("unshare",me("operation",a,[]))&&ce("user",me("role",a,[]))}function za(t,a){return ce("accessFolder",me("operation",a,[]))&&ce("actor",me("role",a,[]))&&!_e("rights",a)}function Ca(t,a){return ce("accessFolder",me("operation",a,[]))&&ce("actor",me("role",a,[]))&&ce("660",me("rights",a,[]))}function Ma(t,a){return ce("accessFolder",me("operation",a,[]))&&ce("actor",me("role",a,[]))&&ce("640",me("rights",a,[]))}function Pa(t,a){return ce("importSocial",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Sa(t,a){return ce("importSocial",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Da(t,a){return ce("copyLinkInviteDisk",me("action",a,[]))}function Ta(t,a){return ce("saveEditorPhoto",me("operation",a,[]))&&ce("done",me("status",a,[]))&&_e("dst",a)}function qa(t,a){return ce("saveEditorPhoto",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Ha(t,a){return ce("exportSocial",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Ea(t,a){return ce("exportSocial",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Fa(t,a){return ce("exportSocial",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&_e("partial",a)}function La(t,a){return ce("savePublic",me("operation",a,[]))}function Va(t,a){return ce("savePublic",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Ra(t,a){return ce("failed",me("status",a,[]))&&ce("READ_ONLY",me("reason",a,[]))}function Ba(t,a){return ce("createAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Oa(t,a){return ce("removeAlbum",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Ya(t,a){return ce("removeAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Ia(t,a){return ce("publishAlbum",me("operation",a,[]))&&_e("reverse",a)&&ce("done",me("status",a,[]))}function Na(t,a){return ce("publishAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Qa(t,a){return ce("publishAlbum",me("operation",a,[]))&&_e("reverse",a)&&ce("failed",me("status",a,[]))}function Ga(t,a){return ce("addToAlbum",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Ua(t,a){return ce("addToAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Xa(t,a){return ce("saveAlbum",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Wa(t,a){return ce("saveAlbum",me("operation",a,[]))&&ce("progressing",me("status",a,[]))}function Ka(t,a){return ce("saveAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function Za(t,a){return ce("removeResourceAlbum",me("operation",a,[]))&&ce("done",me("status",a,[]))}function Ja(t,a){return ce("removeResourceAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))}function $a(t,a){return ce("editAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("title",me("target",a,[]))}function te(t,a){return ce("editAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("nameHasSlash",me("reason",a,[]))}function ae(t,a){return ce("editAlbum",me("operation",a,[]))&&ce("done",me("status",a,[]))&&ce("cover",me("target",a,[]))}function ee(t,a){return ce("editAlbum",me("operation",a,[]))&&ce("failed",me("status",a,[]))&&ce("cover",me("target",a,[]))}function ne(t,a){return ce("linkMail",me("id",a,[]))}function re(t,a){return ce("shared",me("id",a,[]))}function se(t,a){return!_e("inMenu",a)&&!_e("hidden",a)}function ie(t,a){return ce("trash",me("id",a,[]))}var oe=yr.cmpNN,ce=yr.cmpSN,le=yr.nodeset2xml,de=yr.nodeset2boolean,ue=yr.nodeset2attrvalue,be=yr.nodeset2scalar,ve=yr.scalar2attrvalue;yr.xml2attrvalue;var fe=yr.scalar2xml,ye=yr.xml2scalar,pe=yr.simpleScalar,_e=yr.simpleBoolean,me=yr.selectNametest,he=yr.closeAttrs,we=new yr.Module,ge=[0,"status"],Ae=[0,"models",0,"*",2,t];we.k24={},we.k24.n=function(t,a){return t.s(Ae,a.doc.root)},we.k24.u=function(t,a){return a.name},we.k24.b=function(t,a){function e(t,a){return"status"!=a.name}var n=[],r=[0,"*",2,e];return n=t.s(r,a)},we.k24.ut="scalar",we.k24.bt="nodeset";var xe=[0,"models",0,"*",2,a];we.k25={},we.k25.n=function(t,a){return t.s(xe,a.doc.root)},we.k25.u=function(t,a){return a.name},we.k25.b=function(t,a){function e(t,a){return"status"!=a.name}var n=[],r=[0,"*",2,e];return n=t.s(r,a)},we.k25.ut="scalar",we.k25.bt="nodeset",we.f716=function(t,a,e,n,r,s,i,o,c,l){s=void 0===s?[]:s,i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l;var d=[];return d=yr.externals["_ns-view-call"]([a.doc.root],r,s,i,o,c,l)},we.f717=function(t,a,e,n,r,s,i,o,c,l,d){i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l,d=void 0===d?[]:d;var u=[];return u=yr.externals["_ns-model-call"]([a.doc.root],r,s,i,o,c,l,d)},we.f718=function(t,a,e,n,r,s,i,o,c,l){i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l;var d=[];return d=yr.externals["_ns-view-call-scalar"]([a.doc.root],r,s,i,o,c,l)},we.f719=function(t,a,e,n,r,s,i,o,c,l,d){o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l,d=void 0===d?[]:d;var u=[];return u=yr.externals["_ns-model-call-scalar"]([a.doc.root],r,s,i,o,c,l,d)},we.f720=function(t,a,e,n,r,s){var i="";return i+=he(r),i+=s};var je=[0,"*"];we.f721=function(t,a,e,n,r,s,i){i=void 0===i?[]:i;var o="";return o+=t.a(t,0,t.n(je,yr.externals["_nb-wrap"](s,i)),"nb",r)};var ke=[0,"name"],ze=[0,"size"],Ce=[0,"theme"],Me=[0,"type"];we.f722=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" nb-"+be(t.n(ke,s))):new yr.scalarAttr(" nb-"+be(t.n(ke,s))),de(t.n(ze,s))&&!ce("m",t.n(ze,s))||de(t.n(Ce,s))&&!ce("normal",t.n(Ce,s))||de(t.n(Me,s))){var o="";ce("s",t.n(ze,s))?o+="-small":ce("xs",t.n(ze,s))?o+="-extra-small":ce("l",t.n(ze,s))?o+="-large":ce("xl",t.n(ze,s))&&(o+="-extra-large");var c=o,o="";!ce("normal",t.n(Ce,s))&&de(t.n(Ce,s))&&(o+="-"+be(t.n(Ce,s)));var l=o,o="";de(t.n(Me,s))&&(o+="-"+be(t.n(Me,s)));var d=o,i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb"+c+l+d+"-"+be(t.n(ke,s))):new yr.scalarAttr(" _nb"+c+l+d+"-"+be(t.n(ke,s)))}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-normal-"+be(t.n(ke,s))):new yr.scalarAttr(" _nb-normal-"+be(t.n(ke,s)))}return r.a},we.f723=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"ico",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f724=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal";var c=o;return i+=he(r),i+=ce("file",t.n(Me,s))?t.f("f721",a,e,n,r,"buttonAttach",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):ce("inline",t.n(Me,s))?t.f("f721",a,e,n,r,"buttonSpan",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):ce("label",t.n(Me,s))?t.f("f721",a,e,n,r,"buttonLabel",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):ce("link",t.n(Me,s))?t.f("f721",a,e,n,r,"buttonLink",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f721",a,e,n,r,"button",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var Pe=[0,"attrs",0,"name"],Se=[0,"icon"];we.f725=function(t,a,e,n,r,s){if(t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="button",t.size=yr.nodeset2data(me("size",a,[])),t.theme=yr.nodeset2data(me("theme",a,[])),t}())),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.tabindex=new yr.scalarAttr("-1"),"button"==s&&(r.a.disabled=new yr.scalarAttr("disabled"))}if(_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),"attach"==s){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-attach-button"):new yr.scalarAttr(" _nb-attach-button")}if("button"==s&&(_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),de(t.s(Pe,a))&&(r.a.name=new yr.scalarAttr(be(t.s(Pe,a))))),!de(me("content",a,[]))&&(_e("icon",a)||_e("iconText",a))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-with-only-button"):new yr.scalarAttr(" _nb-with-only-button")}return r.a},we.f726=function(t,a,e,n,r){var s="";return s+=he(r),_e("iconText",a)&&(s+='<span class="nb-icon _nb-icon-text">',s+=le(me("iconText",a,[])),s+="</span>"),_e("content",a)&&(s+=pe("content",a)),s},we.f727=function(t,a,e,n,r){if(!de(me("static",a,[]))){var s=r.a["class"];r.a["class"]=s?s.addscalar(" _init"):new yr.scalarAttr(" _init"),r.a["data-nb"]=new yr.scalarAttr("button")}return r.a},we.f728=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.none="none";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"popupMenu",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f729=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.none="none";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"popup",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f730=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.modal="true",c.width="auto",c.height="auto",c.minHeight="auto",c.maxHeight="auto",o["data-nb"]=c;var c={};c.none="none",o.close=c;var l=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"modalPopup",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},we.f731=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+='<div class="_nb-popup-content">',i+=be(s),i+="</div>"},we.f732=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+='<div class="_nb-popup-title">',i+=be(s),i+="</div>"};var De=[0,"data"],Te=[0,"data",0,"*"],qe=[1,0];we.f733=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";if(i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("_nb-popup-buttons")},r.s="div",i+=t.a(t,0,s,"nb-main-attrs",r),i+=he(r),t.n(Te,s).length)for(var o=t.n(De,s),c=0,l=o.length;l>c;c++){var d=o[c];i+=t.f("f724",d,c,l,r,t.s(qe,d))}else i+=be(t.n(De,s));return i+="</div>"};var He=[0,"class"],Ee=[0,"attrs"],Fe=[0,"attrs",0,"*"];we.f734=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";i+=he(r),i+="<a",r.a={"class":new yr.scalarAttr("_nb-popup-close")},r.s="a";for(var o="",c=t.n(He,s),l=0,d=c.length;d>l;l++){var u=c[l];o+=" "+be(t.s(qe,u))}var b=r.a["class"];if(r.a["class"]=b?b.addscalar(o):new yr.scalarAttr(o),de(t.n(Ee,s)))for(var c=t.n(Fe,s),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(be(t.s(qe,u)))}return i+=he(r),i+="</a>"},we.f735=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal",o.type="radio";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"radio-button",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f736=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal",o.direction="bottom";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"select",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var Le=[0,"text"],Ve=[0,"value"],Re=[0,"selected"],Be=[0,"separator"];we.f737=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";if(i+=he(r),i+="<option",r.a={},r.s="option",de(t.n(Be,s)))r.a.separator=new yr.scalarAttr("true");else{if(r.a.label=new yr.scalarAttr(be(t.n(Le,s))),r.a.value=new yr.scalarAttr(be(t.n(Ve,s))),r.a["data-icon"]=new yr.scalarAttr(be(t.n(Se,s))),de(t.n(He,s)))for(var o=t.n(He,s),c=0,l=o.length;l>c;c++){var d=o[c],u=r.a["data-class"];r.a["data-class"]=u?u.addscalar(" "+be(t.s(qe,d))):new yr.scalarAttr(" "+be(t.s(qe,d)))}de(t.n(Re,s))&&(r.a.selected=new yr.scalarAttr("")),i+=he(r),i+=le(t.n(Le,s))}return i+=he(r),i+="</option>"},we.f738=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.type="checkbox",o.theme="normal";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"checkbox",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var Oe=[0,"leftContent"],Ye=[0,"rightContent"],Ie=[0,"labelContent"],Ne=[0,"reset"],Qe=[0,"ghost"],Ge=[0,"error"],Ue=[0,"hint"];we.f739=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=he(r),i+=de(t.n(Oe,s))||de(t.n(Ye,s))||de(t.n(Ie,s))||de(t.n(Ne,s))||de(t.n(Qe,s))||de(t.n(Ge,s))||de(t.n(Ue,s))?ce("multiline",t.n(Me,s))?t.f("f721",a,e,n,r,"textarea",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f721",a,e,n,r,"input",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):ce("multiline",t.n(Me,s))?t.f("f721",a,e,n,r,"textareaSimple",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f721",a,e,n,r,"inputSimple",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f740=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f721",a,e,n,r,"input-group",s)},we.f741=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.bar="true",o.start="0",o.type="percentage",o.title=" ";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"progress",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f742=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.theme="dark";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"paranja",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f743=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.content="";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"island",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f744=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.size="s",c.type="file",c.theme="pseudo",c["class"]="_nb-dropzone-button",o.button=c;var l=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"dropzone",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},we.f745=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"loader",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f746=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.value=0,o.type="range",o.size="s",o.orientation="horiz";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"slider",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),s))},we.f747=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"tabs",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f748=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.search="true",o.buttonContent="Find";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"arrow",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f749=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.search="true",c.buttonContent="Найти",c["class"]="_nb-header-arrow",o.arrow=c,o.services=!0,o.settings=!0,o.yaHref="http://yandex.ru";var l=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"header",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},we.f750=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"user",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f751=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.countMax="10",o.type="default";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"suggest",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.f752=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.leftText="On",o.rightText="Off",o.size="s";var c=o;return i+=he(r),i+=t.f("f721",a,e,n,r,"toggler",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},we.v2222=function(t,a){var e=[];return e=_e("config",a.doc.root)?me("config",a.doc.root,[]):yr.externals.getConfig()},we.f753=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"icon-social",yr.externals["nb-extend"](yr.object2nodeset(c),s))},we.f754=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"qrcode",s)};var Xe=[0,"format"],We=[0,"urlQR"];we.f755=function(t,a,e,n,r,s){var i="",o="";de(t.n(Xe,yr.object2nodeset(s)))&&(o+="&format="+be(t.n(Xe,yr.object2nodeset(s))));var c=o,o="";o+=de(t.n(Xe,yr.object2nodeset(s)))?be(t.n(Xe,yr.object2nodeset(s))):"gif";var l=o;return i+=he(r),i+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var a={};a.size="s",a.type="link",a.content=yr.nodeset2data(t.n(Le,yr.object2nodeset(s))),a["class"]="qrcode__button";var e={};return e.target="_blank",e.href=be(t.n(We,yr.object2nodeset(s)))+c+"&download=1",e["data-metrika-click"]="count",e["data-metrika-params"]="actions,with resources,public links,download qr code,"+l,a.attrs=e,a}()))},we.f756=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o["gap-outer"]="s";var c=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"button-copy",yr.externals["nb-extend"](yr.object2nodeset(c),s))},we.f757=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"popup-share",s)},we.f758=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s",o.disabled=!1;var c={},l=[];l.push("vkontakte"),l.push("twitter"),l.push("facebook"),l.push("odnoklassniki"),c.visible=l;var l=[];l.push("lj"),l.push("gplus"),l.push("mailru"),c.hidden=l,o.services=c;var c={},l={};l.at="top",l.my="bottom",c.how=l,o.popup=c;var d=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"share",yr.externals["nb-extend"](yr.object2nodeset(d),s))},we.f759=function(t,a,e,n,r,s){if(_e("metrika",a.doc.root)){r.a["data-metrika-click"]=new yr.scalarAttr("count");var i="";i+=pe("metrika",a.doc.root),i+=",",i+=s,r.a["data-metrika-params"]=new yr.scalarAttr(i)}var o=r.a["class"];r.a["class"]=o?o.addscalar(" ns-action"):new yr.scalarAttr(" ns-action");var i="";return _e("resource",a.doc.root)&&(i+="share.resource"),_e("link",a.doc.root)&&(i+="share.link"),_e("album",a.doc.root)&&(i+="share.album"),r.a["data-click-action"]=new yr.scalarAttr(i),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};return _e("resource",a.doc.root)&&(t.id=yr.nodeset2data(me("resource",a.doc.root,[]))),_e("link",a.doc.root)&&(t.link=yr.nodeset2data(me("link",a.doc.root,[]))),_e("album",a.doc.root)&&(t.idAlbum=yr.nodeset2data(me("album",a.doc.root,[]))),_e("statCount",a.doc.root)&&(t.statCount=be(me("statCount",a.doc.root,[]))+"."+s),t.service=s,t}()))),r.a},we.f760=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"item-details",s)},we.f761=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"list-details",s)};var Ke=[0,"typeResource"],Ze=[0,"nameResource"],Je=[0,"linkDownloads"],$e=[0,"reason"];we.f762=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";if(i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("notification-save")},r.s="div",ce("failed",t.n(ge,s))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" notification-save_error"):new yr.scalarAttr(" notification-save_error"),i+=he(r),ce("NO_SPACE",t.n($e,s))?i+="Ошибка. Недостаточно места на Диске. "+ye(t.f("f764",a,e,n,r)):ce("READ_ONLY",t.n($e,s))?i+="Ведутся технические работы. Файлы доступны только для просмотра и скачивания.":(i+=ce("dir",t.n(Ke,s))?"Не удалось сохранить папку на Диск.":"Не удалось сохранить файл на Диск.",i+=" ",i+="Повторите попытку позже.")}else{var o=r.a["class"];r.a["class"]=o?o.addscalar(" notification-save_success"):new yr.scalarAttr(" notification-save_success"),i+=he(r),ce("dir",t.n(Ke,s))&&ce("progressing",t.n(ge,s))&&(i+="«"+yr.externals.entityify(be(t.n(Ze,s)))+"» сохраняется в "+ye(t.f("f763",a,e,n,r,be(t.n(Je,s))))+" на вашем Яндекс.Диске. Это может занять некоторое время."),ce("dir",t.n(Ke,s))&&ce("done",t.n(ge,s))&&(i+="Папка сохранена на ваш Яндекс.Диск в "+ye(t.f("f763",a,e,n,r,be(t.n(Je,s))))+"."),ce("file",t.n(Ke,s))&&ce("done",t.n(ge,s))&&(i+="Файл сохранен на ваш Яндекс.Диск в "+ye(t.f("f763",a,e,n,r,be(t.n(Je,s))))+".")}return i+=he(r),i+="</div>"},we.f763=function(t,a,e,n,r,s){var i="";return i+=he(r),i+='<a class="_link" href="'+ve(s)+'">',i+="папку «Загрузки»",i+="</a>"};var tn=[0,"urlsBase",0,"disk"];we.f764=function(t,a,e,n,r){var s="";return s+=he(r),s+='<a href="'+ue(t.n(tn,t.v("v2222",a.doc.root)))+"/tuning"+'" class="'+"_link notification-save__link"+'">',s+="Добавить",s+="</a>"},we.f765=function(t,a,e,n,r,s){var i="";return i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("nb-panel__title")},r.s="div",r.a.title=new yr.scalarAttr(s),i+=he(r),i+='<div class="nb-panel__title__name">',i+=yr.externals.breakLongWords(yr.externals.stringCrop(s,40),15),i+="</div>",i+="</div>"};var an=[0,"links",0,"screenshot"];we.f766=function(t,a,e,n,r){var s="";return s+=he(r),s+='<a class="aside-public__screen _link" href="'+ue(t.n(an,t.k("k24","config",a.doc.root)))+"?from=public"+'" target="'+"_blank"+'">',s+="Скриншот сделан приложением Яндекс.Диск",s+="</a>"},we.f767=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="aside-public__icon">',s+=t.f("f772",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="m",t.icon=yr.nodeset2data(me("icon",a,[])),t.type=yr.nodeset2data(me("type",a,[])),t}())),s+="</div>"};var en=[0,"color"];we.f768=function(t,a,e,n,r,s){var i="";if(i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("nb-tick "+be(t.n(He,yr.object2nodeset(s))))},r.s="div",de(t.n(en,yr.object2nodeset(s)))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" nb-tick_color_"+be(t.n(en,yr.object2nodeset(s)))):new yr.scalarAttr(" nb-tick_color_"+be(t.n(en,yr.object2nodeset(s))))}return i+=he(r),i+="</div>"},we.f769=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=t.a(t,0,t.n(je,yr.externals["nb-wrap"]("checkbox-resource",s)),"nb",r)};var nn=[0,"published"];we.f770=function(t,a,e,n,r,s){var i="";if(i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource-public")},r.s="div",de(t.n(He,yr.object2nodeset(s)))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" "+be(t.n(He,yr.object2nodeset(s)))):new yr.scalarAttr(" "+be(t.n(He,yr.object2nodeset(s))))}return i+=he(r),de(t.n(nn,yr.object2nodeset(s)))&&(i+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="published",t}()))),i+="</div>"},we.f771=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"icon-start-play",s)},we.f772=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s",o["size-icon-video"]="s",o["layout-fixed"]=!0;var c=o;return i+=t.a(t,0,t.n(je,yr.externals["nb-wrap"]("icon-resource",yr.externals["nb-extend"](yr.object2nodeset(c),s))),"nb",r)},we.f773=function(t,a){return _e("preview",a)&&(ce("image",me("type",a,[]))||ce("document",me("type",a,[]))||ce("book",me("type",a,[]))||ce("video",me("type",a,[])))},we.f774=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"logo-yandex",s)};var rn=[0,"lang"];we.f775=function(t,a,e,n,r,s){var i="";return i+=he(r),i+="<svg",r.a={xmlns:new yr.scalarAttr("http://www.w3.org/2000/svg")},r.s="svg",ce("normal",t.n(ze,yr.object2nodeset(s)))?(r.a.width=new yr.scalarAttr("82"),r.a.height=new yr.scalarAttr("34")):ce("small",t.n(ze,yr.object2nodeset(s)))&&(r.a.width=new yr.scalarAttr("62"),r.a.height=new yr.scalarAttr("34")),ce("ru",t.n(rn,yr.object2nodeset(s)))?(r.a.viewBox=new yr.scalarAttr("0 0 82 34"),i+=he(r),i+="<path",r.a={d:new yr.scalarAttr("M27.806 9.979h-2.348c-.189 0-.303.151-.303.266v7.231h-4.354v-7.231c0-.189-.075-.266-.265-.266h-2.348c-.189 0-.303.114-.303.266v18.401c0 .189.076.303.265.303h2.386c.151 0 .265-.113.265-.303v-8.784h4.354v8.784c0 .189.113.303.303.303h2.348c.189 0 .265-.151.265-.303v-18.401c-.001-.151-.114-.266-.265-.266zm53.298 16.472c-.038-.114-.076-.152-.189-.152-.189 0-1.212.417-2.688.417-2.878 0-4.278-2.765-4.278-7.156 0-3.862 1.174-7.687 3.143-7.687.53 0 1.174.151 2.196 1.098.113.114.189.151.303.151s.228-.075.341-.265l1.022-1.666c.075-.113.113-.228.113-.341 0-.151-.151-.265-.379-.379-1.552-.795-2.612-.946-3.521-.946-3.559 0-6.322 4.241-6.322 10.867 0 5.717 2.65 9.012 6.437 9.012 1.59 0 3.294-.758 3.976-1.25.151-.113.189-.265.151-.416l-.305-1.287zm-16.154-7.914l4.543-8.292c.076-.114.038-.266-.113-.266h-2.234c-.644 0-.871.228-1.098.72l-3.407 7.08c-.189.417-.379.682-.568.796v-8.33c0-.151-.075-.266-.228-.266h-2.461c-.113 0-.228.114-.228.266v18.439c0 .113.076.265.228.265h2.461c.152 0 .228-.113.228-.265v-9.504c.113.076.189.189.265.341l4.316 8.86c.228.454.568.567 1.061.567h2.423c.152 0 .189-.151.114-.265l-5.302-10.146zm-21.696 8.027h-.454c-.568 0-.72-.228-.72-.682v-15.637c0-.189-.075-.266-.228-.266h-7.572c-.189 0-.303.114-.303.266v1.362c0 4.582-.265 10.489-2.688 14.957h-.833c-.228 0-.303.113-.303.303v5.528c0 .189.151.265.265.265h1.817c.417 0 .568-.303.568-.567v-3.144h8.103v3.446c0 .151.113.265.266.265h1.931c.227 0 .454-.189.454-.567v-5.226c0-.189-.114-.303-.303-.303zm-4.089 0h-5.49c1.931-3.294 2.688-7.005 2.953-11.549.075-.984.113-2.007.113-2.65h2.424v14.199zm11.814-17.039c-4.09 0-5.907 5.149-5.907 10.754 0 5.717 2.575 9.125 6.361 9.125 1.855 0 3.483-.72 4.316-1.25.151-.075.189-.189.151-.341l-.303-1.287c-.038-.151-.113-.228-.303-.228-.151 0-1.25.417-2.803.417-2.915 0-4.278-2.537-4.278-5.869v-.896s1.477.177 2.348.177h5.528v-1.59c.001-5.869-2.082-9.012-5.11-9.012zm-.417 8.217c-.871 0-2.234.151-2.234.151s0-.568.076-1.174c.341-3.219 1.136-4.847 2.461-4.847 1.212 0 1.97 1.666 2.158 4.582.038.605.038 1.287.038 1.287h-2.499z")},r.s="path",ce("white",t.n(Ce,yr.object2nodeset(s)))&&(r.a.fill=new yr.scalarAttr("#fff")),i+=he(r),i+="</path>",i+="<path",r.a={d:new yr.scalarAttr("M13.573.566h-4.316c-4.241 0-7.838 3.219-7.838 9.466 0 3.749 1.742 6.513 4.847 7.876l-5.793 10.45c-.189.341 0 .606.303.606h2.688c.227 0 .378-.076.454-.266l5.263-10.261h1.893v10.261c0 .113.114.266.265.266h2.348c.227 0 .303-.114.303-.304v-27.715c0-.264-.152-.379-.417-.379zm-2.499 15.449h-1.59c-2.499 0-4.922-1.817-4.922-6.36 0-4.733 2.272-6.664 4.582-6.664h1.931v13.024z")},r.s="path",r.a.fill=ce("white",t.n(Ce,yr.object2nodeset(s)))?new yr.scalarAttr("#fff"):new yr.scalarAttr("#EB2429"),i+=he(r),i+="</path>"):(r.a.viewBox=new yr.scalarAttr("0 0 950 405"),i+=he(r),i+="<path",r.a={d:new yr.scalarAttr("M203 0h-31c-3 0-4 1-5 3 0 2-46 140-49 152-2 8-10 37-12 44l-16-43c-4-12-41-115-42-119-1-2-2-5-6-5h-30c-3 0-5 3-4 5s55 145 76 200v120c0 2 1 4 3 4h28c2 0 3-1 3-4v-119c18-51 84-231 85-233s1-5-3-5")},r.s="path",r.a.fill=ce("white",t.n(Ce,yr.object2nodeset(s)))?new yr.scalarAttr("#fff"):new yr.scalarAttr("#f00"),i+=he(r),i+="</path>",i+="<path",r.a={d:new yr.scalarAttr("M603 32c-2 0-4 1-4 3v107c-10-4-20-6-28-6-44 0-74 42-74 123 0 69 29 107 68 107 16 0 30-9 39-18l6 10c1 2 2 2 4 2h16c2 0 3-1 3-4v-322c0-2-1-3-3-3zm-361 104c-13 0-34 5-47 11-3 1-4 2-4 4l1 4 9 20c1 2 2 3 4 3 1 0 2-1 4-1 13-9 23-13 31-13 10 0 17 7 22 17 4 10 6 23 6 38v5c-8-5-23-8-30-8-39 0-60 37-60 77 0 43 25 74 54 74 17 0 32-10 42-22 0 0 5 13 6 14 1 2 1 2 3 2h16c2 0 3-1 3-4v-124c0-30-2-53-10-69-10-20-28-28-48-28zm493 1c-45 0-68 59-68 124 0 67 32 105 73 105 18 0 36-7 48-14 2-1 2-2 2-4l-3-14c0-2-1-3-3-3-1 0-16 4-30 4-34 0-49-30-49-69v-10s17 2 27 2h63v-18c0-67-24-104-58-104zm-315 2c-21 0-43 16-43 16v-10c0-2-1-3-3-3h-27c-2 0-4 1-4 3v213c0 2 1 4 3 4h28c2 0 3-1 3-4v-182s13-8 28-8 27 7 27 22v168c0 2 1 4 4 4h27c2 0 3-2 3-4v-177c0-27-16-41-45-41zm401 2c-3 0-5 3-4 5l43 98s-45 108-47 110c-1 2 0 6 4 6h23c4 0 6-2 7-5l15-42c5-13 12-37 12-37h1s8 24 11 32c8 20 17 45 18 48s3 5 5 5h26c3 0 4-3 3-6-3-6-28-67-45-107 0 0 45-99 46-102 1-2 1-5-3-5h-24c-3 0-4 1-5 3-2 4-12 31-16 42-3 8-11 31-11 31h-1s-6-17-9-25c-3-7-16-42-18-47-1-2-2-5-5-5zm-247 22c9 0 18 3 26 10v157c-7 4-15 7-24 7-29 0-42-34-42-85 0-45 13-89 40-89zm160 0c13 0 22 19 24 53v15h-26c-10 0-28 2-28 2s0-7 1-14c4-37 13-56 28-56zm-495 78c9 0 19 3 28 10v75c-8 8-17 11-26 11-8 0-15-4-20-11-6-9-9-22-9-37 0-24 9-48 27-48z")},r.s="path",ce("white",t.n(Ce,yr.object2nodeset(s)))&&(r.a.fill=new yr.scalarAttr("#fff")),i+=he(r),i+="</path>"),i+=he(r),i+="</svg>"
},we.f776=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"form-auth",s)},we.f777=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"popup-copy-auth",s)},we.f778=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="popup-copy-auth__info">',s+=pe("previewContent",a),s+='<div class="popup-copy-auth__title">',s+=pe("title",a),s+="</div>",s+='<div class="popup-copy-auth__desc">',s+=pe("description",a),s+="</div>",s+="</div>"};var sn=[0,"login"],on=[0,"error",0,"login"],cn=[0,"error",0,"login",0,"status"],ln=[0,"password"],dn=[0,"error",0,"password"],un=[0,"error",0,"password",0,"status"],bn=[0,"tld"];we.f779=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="popup-copy-auth__auth">',s+=t.f("f774",a,e,n,r,yr.object2nodeset(function(){var t={},e="";return e+=ce("ru",me("locale",a,[]))||ce("uk",me("locale",a,[]))?"ru":"en",t.lang=e,t["class"]="popup-copy-auth__logo",t}())),s+=t.f("f776",a,e,n,r,yr.object2nodeset(function(){var e={};if(e["class"]="js-form",e.attrs=yr.nodeset2data(me("attrs",a,[])),de(t.s(on,a))){var n={};n.value=yr.nodeset2data(me("login",a,[]));var r={};r.content=yr.externals.getMessageError(be(t.s(cn,a))),n.error=r,e.login=n}else{var n={};n.value=yr.nodeset2data(me("login",a,[])),e.login=n}if(de(t.s(dn,a))){var n={};n.value=yr.nodeset2data(me("password",a,[]));var r={};r.content=yr.externals.getMessageError(be(t.s(un,a))),n.error=r,e.password=n}else{var n={};n.value=yr.nodeset2data(me("password",a,[])),e.password=n}e.restore=yr.nodeset2data(me("restore",a,[])),e.register=yr.nodeset2data(me("register",a,[]));var n={};if(ce("ru",me("tld",a,[]))||ce("ua",me("tld",a,[]))){var r=[];r.push("vkontakte"),r.push("facebook"),r.push("twitter"),n.visible=r;var r=[];r.push("google"),r.push("odnoklassniki"),n.hidden=r}else{var r=[];r.push("facebook"),r.push("twitter"),r.push("google"),n.visible=r}return e.services=n,e}())),s+="</div>"},we.f780=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"yandex-direct",s)},we.f781=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"loader-thin",yr.externals["nb-extend"](yr.object2nodeset(c),s))};var vn=[0,"preview-resource"];we.f782=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="",o={};o.type="doc";var c=o;if(i+=he(r),i+="<div",r.a={},r.s="div",i+=t.a(t,0,t.n(vn,s),"nb-main-attrs",r),ce("image",t.n(Me,s))){var l=r.a["class"];r.a["class"]=l?l.addscalar(" preview-resource_no-overlay"):new yr.scalarAttr(" preview-resource_no-overlay")}var l=r.a["class"];return r.a["class"]=l?l.addscalar(" preview-resource"):new yr.scalarAttr(" preview-resource"),i+=he(r),i+=t.f("f788",a,e,n,r,"preview-resource",yr.externals["nb-extend"](yr.object2nodeset(c),s)),i+="</div>"},we.f783=function(t,a,e,n,r,s){var i="",o={};o.current="ru";var c=[];c.push("ru"),c.push("uk"),c.push("en"),c.push("tr"),o.available=c;var l=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"switcher-locale",yr.externals["nb-extend"](yr.object2nodeset(l),yr.object2nodeset(s)))},we.f784=function(t,a,e,n,r,s){var i="";return i+=t.a(t,0,t.n(je,yr.externals["nb-wrap"]("footer",yr.object2nodeset(s))),"nb",r)},we.f785=function(t,a,e,n,r,s){var i="",o={};o.size="m",o.theme="yellow";var c=o;return i+=he(r),i+=t.f("f788",a,e,n,r,"nb-arrow-service",yr.externals["nb-extend"](yr.object2nodeset(c),yr.object2nodeset(s)))},we.f786=function(t,a,e,n,r,s){var i="";return i+=t.a(t,0,t.n(je,yr.externals["nb-wrap"]("form-search",yr.object2nodeset(s))),"nb",r)},we.f787=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"popup-account",s)},we.f788=function(t,a,e,n,r,s,i){i=void 0===i?[]:i;var o="";return o+=t.a(t,0,t.n(je,yr.externals["nb-wrap"](s,i)),"nb",r)},we.f789=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"player-video-flash",s)},we.f790=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"player-video-yandex",s)},we.f791=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"player-video-html",s)};var fn=[0,"resolution"],yn=[0,"resolutions"];we.f792=function(t,a,e,n,r,s){var i="",o="js-player-control";if(i+=he(r),i+="<div",r.a={"class":new yr.scalarAttr("player-video-html__controls js-video-controls")},r.s="div",_e("isMobile",a)){var c=r.a["class"];r.a["class"]=c?c.addscalar(" player-video-html__controls_mobile"):new yr.scalarAttr(" player-video-html__controls_mobile")}return i+=he(r),i+='<div class="player-video-html__buffered js-video-buffered"></div>',i+='<div class="player-video-html__seek js-seek '+ve(o)+'"></div>',i+='<div class="player-video-html__pull_right">',yr.externals.modernizr("csstransforms")&&de(t.n(fn,yr.object2nodeset(s)))&&(i+='<span class="player-video-html__control player-video-html__control_rotate js-rotate '+ve(o)+'"></span>',i+=" "),_e("resolutions",a)&&(i+=t.f("f736",a,e,n,r,yr.object2nodeset(function(){var a={};a.size="s",a["class"]="player-video-html__quality js-video-quality",a.direction="top";for(var e=[],n=t.n(yn,yr.object2nodeset(s)),r=0,i=n.length;i>r;r++){var o=n[r],c={};c.text=be(t.s(qe,o))+"p",c.value=yr.nodeset2data(t.s(qe,o)),ce(320,t.s(qe,o))&&(c.selected="true"),e.push(c)}return a.items=e,a}()))),yr.externals.modernizr("fullscreen")&&(i+=" ",i+='<span class="player-video-html__control player-video-html__control_full js-fullscreen"></span>'),i+="</div>",i+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};return t["static"]=!0,t.theme="dark",t.size="m",t.icon="videoplayer_pause",t["class"]="player-video-html__button player-video-html__pause js-toggle "+o,t}())),i+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};return t["static"]=!0,t.theme="dark",t.size="m",t.icon="videoplayer_play",t["class"]="player-video-html__button player-video-html__play js-toggle "+o,t}())),i+='<div class="player-video-html__time js-video-time">',i+=t.f("f781",a,e,n,r,yr.object2nodeset(function(){var t={};return t["class"]="player-video-html__loader",t.size="s",t}())),i+="</div>",_e("isIOS",a)&&(i+='<div class="player-video-html__volume js-volume '+ve(o)+'"></div>'),i+="</div>"},we.f793=function(t,a,e,n,r,s){s=void 0===s?[]:s;var i="";return i+=he(r),i+=t.f("f788",a,e,n,r,"item-nav",s)};var pn=[0,"views",0,"*"],_n=[0,"tree",0,"*"],mn=[0,"views",0,"*"],hn=[0,"views",0,"ns-view-collection-container",0,"*"],wn=[0,"id"],gn=[0,"data-nb",0,"*"],An=[0,"ico"],xn=[0,"button"],jn=[0,"buttonLink"],kn=[0,"buttonSpan"],zn=[0,"buttonLabel"],Cn=[0,"buttonAttach"],Mn=[0,"attrs",0,"multiple"],Pn=[0,"attrs",0,"title"],Sn=[0,"attrs",0,"accept"],Dn=[0,"popupMenu"],Tn=[0,"menu"],qn=[0,"href"],Hn=[0,"popup"],En=[0,"modalPopup"],Fn=[0,"radio-button"],Ln=[1,1,0,"name"],Vn=[1,1,0,"size"],Rn=[0,"select"],Bn=[0,"items",2,e],On=[0,"checkbox"],Yn=[0,"input"],In=[0,"error",0,"direction"],Nn=[0,"error",0,"class"],Qn=[0,"error",0,"content"],Gn=[0,"hint",0,"text"],Un=[0,"hint",0,"ghost"],Xn=[0,"textarea"],Wn=[0,"inputSimple"],Kn=[0,"textareaSimple"],Zn=[0,"input-group"],Jn=[0,"progress"],$n=[0,"paranja"],tr=[0,"island"],ar=[0,"dropzone"],er=[0,"loader"],nr=[0,"slider"],rr=[0,"handle",0,"class"],sr=[0,"tabs"],ir=[0,"arrow"],or=[0,"arrow",2,n],cr=[0,"arrow",2,n,2,r],lr=[0,"header"],dr=[0,"settings",0,"content"],ur=[0,"services"],br=[0,"services",0,"content"],vr=[0,"auth",0,"content"],fr=[0,"user"],pr=[0,"user",0,"content"],_r=[0,"suggest"],mr=[0,"input",0,"attrs"],hr=[0,"input",0,"leftContent"],wr=[0,"input",0,"rightContent"],gr=[0,"input",0,"labelContent"],Ar=[0,"input",0,"reset"],xr=[0,"input",0,"ghost"],jr=[0,"input",0,"error"],kr=[0,"input",0,"hint"],zr=[2,s,0,"item"],Cr=[2,i,0,"item"],Mr=[0,"user",2,o,0,"username"],Pr=[1,1,0,"usernameHighlighted"],Sr=[0,"user",2,c,0,"email"],Dr=[1,1,0,"emailHighlighted"],Tr=[0,"toggler"],qr=[0,"icon-social"],Hr=[0,"icon-social",2,l],Er=[0,"qrcode"],Fr=[0,"qrcode",2,d],Lr=[0,"button-copy"],Vr=[0,"popup-share"],Rr=[0,"popup",0,"class"],Br=[0,"popup",0,"position"],Or=[0,"*",2,u],Yr=[0,"share"],Ir=[0,"visible"],Nr=[0,"item-details"],Qr=[0,"list-details"],Gr=[0,"asidePublic"],Ur=[0,"params",0,"poster"],Xr=[0,"resource"],Wr=[0,"meta",0,"screenshot"],Kr=[0,"agent",0,"OSFamily"],Zr=[0,"meta",0,"drweb"],Jr=[0,"links",0,"drweb"],$r=[0,"meta",0,"blocked"],ts=[0,"resource",2,b],as=[0,"links",0,"blocked"],es=[0,"operation"],ns=[0,"links",0,"disk"],rs=[0,"foldersDefault",0,"downloads"],ss=[0,"async"],is=[0,"meta",0,"blockings",0,"simple",0,"public"],os=[0,"downloaded"],cs=[0,"meta",0,"speed_limited"],ls=[0,"uid"],ds=[0,"agent",0,"BrowserName"],us=[0,"meta",0,"short_url"],bs=[0,"links",0,"diskQR"],vs=[0,"user",0,"login"],fs=[0,"meta",0,"size"],ys=[0,"meta",0,"download_counter"],ps=[0,"meta",0,"views_counter"],_s=[0,"checkbox-resource"],ms=[0,"icon-start-play"],hs=[0,"icon-resource"],ws=[0,"icon-resource",2,v],gs=[0,"logo-yandex"],As=[0,"hostPDD"],xs=[0,"logo-yandex",2,f],js=[0,"form-auth"],ks=[0,"login",0,"error"],zs=[0,"login",0,"value"],Cs=[0,"password",0,"error"],Ms=[0,"password",0,"value"],Ps=[1,0,2,y],Ss=[0,"services",0,"visible"],Ds=[0,"services",0,"hidden"],Ts=[0,"popup-copy-auth"],qs=[0,"dialogAuthCopy"],Hs=[0,"hash"],Es=[0,"sk"],Fs=[0,"links",0,"passport",0,"register"],Ls=[0,"links",0,"passport",0,"auth"],Vs=[0,"session",0,"canHaveAuth"],Rs=[0,"links",0,"passport",0,"restore"],Bs=[0,"session",0,"locale"],Os=[0,"dialogAuth"],Ys=[0,"login",0,"status"],Is=[0,"password",0,"status"],Ns=[0,"session",0,"page"],Qs=[0,"yandex-direct"],Gs=[0,"directAsidePublic"],Us=[0,"tldFinal"],Xs=[0,"meta",0,"mediatype"],Ws=[0,"directContentPublic"],Ks=[0,"loader-thin"],Zs=[0,"preview-resource",2,p],Js=[0,"preview-resource",2,_],$s=[0,"filePublic"],ti=[0,"resource",2,m],ai=[0,"resource",2,h],ei=[0,"hasPreview"],ni=[0,"resource",2,w],ri=[0,"meta",0,"sizes",2,g,0,"url"],si=[0,"resource",2,A],ii=[0,"resource",2,x],oi=[0,"views",0,"playerAudioPublic"],ci=[0,"resource",2,j],li=[0,"views",0,"boxVideoPublic"],di=[0,"switcher-locale"],ui=[0,"footer"],bi=[0,"switcher",0,"current"],vi=[0,"switcher",0,"tune"],fi=[0,"switcher",0,"available"],yi=[0,"links",0,"*"],pi=[0,"footerPublic"],_i=[0,"links",0,"langSwitch"],mi=[0,"skExternal"],hi=[0,"languagesAvailable"],wi=[0,"links",0,"yandex"],gi=[0,"links",0,"help",0,"disk"],Ai=[0,"links",0,"feedback",0,"abuse"],xi=[0,"nb-arrow-service"],ji=[0,"form-search"],ki=[0,"formSearch"],zi=[0,"params",0,"scopeSearch"],Ci=[0,"session",0,"loadingFailed"],Mi=[0,"popup-account"],Pi=[0,"links",0,"auth"],Si=[0,"avatar"],Di=[0,"links",0,"home"],Ti=[0,"links",0,"logout"],qi=[0,"yandexuid"],Hi=[0,"session",0,"auth",0,"accountsExtra"],Ei=[0,"links",0,"passport",0,"logout"],Fi=[0,"links",0,"passport",0,"home"],Li=[0,"isPDD"],Vi=[0,"notifications"],Ri=[0,"notification"],Bi=[0,"notification",2,k],Oi=[0,"notification",2,z],Yi=[0,"notification",2,C],Ii=[0,"dst",0,"name"],Ni=[0,"dst",0,"parents"],Qi=[0,"src",0,"type"],Gi=[0,"notification",2,M],Ui=[0,"count"],Xi=[0,"notification",2,P],Wi=[0,"notification",2,S],Ki=[0,"src",0,"name"],Zi=[0,"src",0,"id"],Ji=[0,"notification",2,D],$i=[0,"notification",2,T],to=[0,"notification",2,q],ao=[0,"notification",2,H],eo=[0,"notification",2,E],no=[0,"notification",2,F],ro=[0,"notification",2,L],so=[0,"notification",2,V],io=[0,"notification",2,R],oo=[0,"notification",2,B],co=[0,"notification",2,O],lo=[0,"notification",2,Y],uo=[0,"notification",2,I],bo=[0,"notification",2,N],vo=[0,"notification",2,Q],fo=[0,"notification",2,G],yo=[0,"notification",2,U],po=[0,"notification",2,X],_o=[0,"notification",2,W],mo=[0,"notification",2,K],ho=[0,"notification",2,Z],wo=[0,"notification",2,J],go=[0,"dst",0,"type"],Ao=[0,"notification",2,$],xo=[0,"notification",2,ta],jo=[0,"notification",2,aa],ko=[0,"notification",2,ea],zo=[0,"notification",2,na],Co=[0,"notification",2,ra],Mo=[0,"notification",2,sa],Po=[0,"notification",2,ia],So=[0,"notification",2,oa],Do=[0,"notification",2,ca],To=[0,"notification",2,la],qo=[0,"notification",2,da],Ho=[0,"notification",2,ua],Eo=[0,"notification",2,ba],Fo=[0,"notification",2,va],Lo=[0,"notification",2,fa],Vo=[0,"notification",2,ya],Ro=[0,"notification",2,pa],Bo=[0,"notification",2,_a],Oo=[0,"notification",2,ma],Yo=[0,"notification",2,ha],Io=[0,"notification",2,wa],No=[0,"notification",2,ga],Qo=[0,"notification",2,Aa],Go=[0,"notification",2,xa],Uo=[0,"notification",2,ja],Xo=[0,"notification",2,ka],Wo=[0,"notification",2,za],Ko=[0,"notification",2,Ca],Zo=[0,"notification",2,Ma],Jo=[0,"notification",2,Pa],$o=[0,"notification",2,Sa],tc=[0,"notification",2,Da],ac=[0,"notification",2,Ta],ec=[0,"dst",0,"id"],nc=[0,"idContext"],rc=[0,"notification",2,qa],sc=[0,"notification",2,Ha],ic=[0,"notification",2,Ea],oc=[0,"notification",2,Fa],cc=[0,"notification",2,La],lc=[0,"notification",2,Va],dc=[0,"notification",2,Ra],uc=[0,"notification",2,Ba],bc=[0,"notification",2,Oa],vc=[0,"notification",2,Ya],fc=[0,"notification",2,Ia],yc=[0,"src",0,"title"],pc=[0,"notification",2,Na],_c=[0,"notification",2,Qa],mc=[0,"notification",2,Ga],hc=[0,"dst",0,"public",0,"disk_url"],wc=[0,"dst",0,"title"],gc=[0,"notification",2,Ua],Ac=[0,"notification",2,Xa],xc=[0,"notification",2,Wa],jc=[0,"notification",2,Ka],kc=[0,"notification",2,Za],zc=[0,"notification",2,Ja],Cc=[0,"notification",2,$a],Mc=[0,"notification",2,te],Pc=[0,"notification",2,ae],Sc=[0,"notification",2,ee],Dc=[0,"pageError"],Tc=[0,"session"],qc=[0,"agent",0,"isMobile"],Hc=[0,"contentError"],Ec=[0,"views",0,"pageError"],Fc=[0,"views",0,"header"],Lc=[0,"contentPublic"],Vc=[0,"hasDisk"],Rc=[0,"views",0,"boxSlices"],Bc=[0,"views",0,"directContentPublic"],Oc=[0,"views",0,"boxCrumbs"],Yc=[0,"views",0,"content"],Ic=[0,"views",0,"asidePublic"],Nc=[0,"views",0,"directAsidePublic"],Qc=[0,"views",0,"notifications"],Gc=[0,"playerAudioPublic"],Uc=[0,"player-video-flash"],Xc=[0,"player-video-yandex"],Wc=[0,"player-video-html"],Kc=[0,"dimension",0,"width"],Zc=[0,"dimension",0,"height"],Jc=[0,"playerVideo"],$c=[0,"playerVideoMobile"],tl=[0,"playerVideoFilePublic"],al=[0,"typeVideoPlayer"],el=[0,"domains",0,"video"],nl=[0,"yandexVideo",0,"login"],rl=[0,"yandexVideo",0,"storageDir"],sl=[0,"dimension"],il=[0,"stid"],ol=[0,"yandexVideo",0,"videodiskToken"],cl=[0,"autoplay"],ll=[0,"host"],dl=[0,"duration"],ul=[0,"links",0,"pathVideoPlayerFlash"],bl=[0,"item-nav"],vl=[0,"sliceLinkMail"],fl=[0,"slice",2,ne],yl=[0,"sliceShared"],pl=[0,"slice",2,re],_l=[0,"params",0,"idContext"],ml=[0,"invites"],hl=[0,"slices"],wl=[0,"slice",2,se],gl=[0,"views",0,"sliceLinkMail"],Al=[0,"params",0,"idCurrent"],xl=[0,"params",0,"idAlbum"],jl=[0,"views",0,"sliceShared"],kl=[0,"slice"],zl=[0,"slice",2,ie],Cl=[0,"params",0,"idApp"];we.t1687=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("ns-root")},r.s="div",s+=t.a(t,0,t.s(pn,a),"ns-view",r),s+=he(r),s+="</div>"},we.t1687.j=1,we.t1687.a=1,we.t1688=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.n(_n,yr.document(t.s(qe,a))),"ns-build-view",r)},we.t1688.j=je,we.t1688.a=0,we.t1689=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={},r.s="div",s+=t.a(t,0,t.s(qe,a),"ns-build-view-content",r),s+=he(r),s+="</div>"},we.t1689.j=je,we.t1689.a=0,we.t1690=function(t,a,e,n,r){var s="",i=pe("state",a.doc.root);if(r.a["class"]=new yr.scalarAttr("ns-view-"+a.name+" "+be(me("uniqueId",a.doc.root,[]))),r.a["data-key"]=new yr.scalarAttr(be(me("key",a.doc.root,[]))),"placeholder"==i){var o=r.a["class"];r.a["class"]=o?o.addscalar(" ns-view-placeholder"):new yr.scalarAttr(" ns-view-placeholder"),s+=de(me("collection",a.doc.root,[]))?t.a(t,0,t.s(qe,a),"ns-view-collection",r):t.a(t,0,t.s(qe,a),"ns-view-desc",r)}else{var c="",l={a:{}};c+=t.a(t,0,t.s(qe,a),"ns-view-add-class",l);var o=r.a["class"];r.a["class"]=o?o.addxml(c):new yr.xmlAttr(c),s+=t.a(t,0,t.s(qe,a),"ns-view-add-attrs",r),s+="loading"==i?t.a(t,0,t.s(qe,a),"ns-view-async-content",r):"error"==i?t.a(t,0,t.s(qe,a),"ns-view-error-content",r):t.a(t,0,t.s(qe,a),"ns-view-content",r)}return s},we.t1690.j=je,we.t1690.a=0,we.t1691=function(t,a){var e="";return e},we.t1691.j=je,we.t1691.a=0,we.t1692=function(t,a){var e="";return e},we.t1692.j=je,we.t1692.a=0,we.t1693=function(t,a,e,n,r){var s="";return de(me("collection",a.doc.root,[]))?(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("ns-view-container-desc")},r.s="div",s+=t.a(t,0,t.s(qe,a),"ns-view-collection",r),s+=he(r),s+="</div>"):s+=t.a(t,0,t.s(qe,a),"ns-view-desc",r),s},we.t1693.j=je,we.t1693.a=0,we.t1694=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.s(mn,a.doc.root),"ns-view",r)},we.t1694.j=je,we.t1694.a=0,we.t1695=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.s(hn,a.doc.root),"ns-view",r)},we.t1695.j=je,we.t1695.a=0,we.t1696=function(t,a){var e="";return e},we.t1696.j=je,we.t1696.a=0,we.t1697=function(t,a){var e="";return e},we.t1697.j=je,we.t1697.a=0,we.t1698=function(t,a,e,n,r){var s="";s+=t.a(t,0,t.s(qe,a),"nb-attrs",r),s+=t.a(t,0,me("*",a,[]),"nb-attrs",r),_e("id",a)&&(r.a.id=new yr.scalarAttr(pe("id",a)));for(var i="",o=me("class",a,[]),c=0,l=o.length;l>c;c++){var d=o[c];i+=" "+be(t.s(qe,d))}var u=r.a["class"];if(r.a["class"]=u?u.addscalar(i):new yr.scalarAttr(i),_e("mixin-nb",a)){for(var i="",o=me("mixin-nb",a,[]),c=0,l=o.length;l>c;c++){var d=o[c];i+=" "+be(t.s(qe,d))}var u=r.a["data-nb"];r.a["data-nb"]=u?u.addscalar(i):new yr.scalarAttr(i)}for(var o=t.s(gn,a),c=0,l=o.length;l>c;c++){var d=o[c];r.a["data-nb-"+d.name]=new yr.scalarAttr(be(t.s(qe,d)))}for(var o=t.s(Fe,a),c=0,l=o.length;l>c;c++){var d=o[c];r.a[d.name]=new yr.scalarAttr(be(t.s(qe,d)))}return s},we.t1698.j=je,we.t1698.a=0,we.t1699=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.s(qe,a),"nb-content",r)},we.t1699.j=je,we.t1699.a=0,we.t1700=function(t,a,e,n,r){var s="";s+=he(r),s+="<img",r.a={src:new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")},r.s="img";var i="";return i+="nb-icon nb-",i+=pe("size",a),ce("",me("icon",a,[]))||(i+="-",i+=pe("icon",a)),i+="-icon",r.a["class"]=new yr.scalarAttr(i),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+=""},we.t1700.j=An,we.t1700.a=0,we.t1701=function(t,a,e,n,r){var s="";return s+=he(r),s+="<button",r.a={},r.s="button",t.f("f725",a,e,n,r,"button"),t.f("f727",a,e,n,r),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-button-content">',_e("icon",a)&&(s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(me("icon",a,[])),t}()))),s+=t.f("f726",a,e,n,r),s+="</span>",s+="</button>"},we.t1701.j=xn,we.t1701.a=0,we.t1702=function(t,a,e,n,r){var s="";return s+=he(r),s+="<a",r.a={},r.s="a",t.f("f725",a,e,n,r,"link"),t.f("f727",a,e,n,r),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-button-content">',_e("icon",a)&&(s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(me("icon",a,[])),t}()))),s+=t.f("f726",a,e,n,r),s+="</span>",s+="</a>"},we.t1702.j=jn,we.t1702.a=0,we.t1703=function(t,a,e,n,r){var s="";return s+=he(r),s+="<span",r.a={},r.s="span",t.f("f725",a,e,n,r,"span"),t.f("f727",a,e,n,r),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-button-content">',_e("icon",a)&&(s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(me("icon",a,[])),t}()))),s+=t.f("f726",a,e,n,r),s+="</span>",s+="</span>"},we.t1703.j=kn,we.t1703.a=0,we.t1704=function(t,a,e,n,r){var s="";return s+=he(r),s+="<label",r.a={},r.s="label",t.f("f725",a,e,n,r,"label"),t.f("f727",a,e,n,r),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-button-content">',_e("icon",a)&&(s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(me("icon",a,[])),t}()))),s+=t.f("f726",a,e,n,r),s+="</span>",s+="</label>"},we.t1704.j=zn,we.t1704.a=0,we.t1705=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<label",r.a={},r.s="label",t.f("f725",a,e,n,r,"attach"),t.f("f727",a,e,n,r),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-file-intruder">',s+='<span class="_nb-file-intruder-inner">',s+="<input",r.a={"class":new yr.scalarAttr("_nb-file-intruder-input"),type:new yr.scalarAttr("file")},r.s="input",(de(t.s(Mn,a))||_e("multiple",a))&&(r.a.multiple=new yr.scalarAttr("multiple")),_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),de(t.s(Pe,a))&&(r.a.name=new yr.scalarAttr(be(t.s(Pe,a)))),de(t.s(Pn,a))){var i=r.a.title;r.a.title=i?i.addscalar(be(t.s(Pn,a))):new yr.scalarAttr(be(t.s(Pn,a)))}return _e("disabled",a)&&(r.a.disabled=new yr.scalarAttr("disabled")),de(t.s(Sn,a))&&(r.a.accept=new yr.scalarAttr(be(t.s(Sn,a)))),s+=he(r),s+="",s+='<span class="_nb-file-intruder-focus"></span>',s+="</span>",s+="</span>",s+='<span class="_nb-button-content">',_e("icon",a)&&(s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(me("icon",a,[])),t}()))),s+=t.f("f726",a,e,n,r),s+="</span>",s+="</label>"},we.t1705.j=Cn,we.t1705.a=0,we.t1706=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-popup _nb-popup _init")},r.s="div",!_e("static",a)){r.a["data-nb"]=new yr.scalarAttr("popup");var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),de(me("withoutTail",a,[]))&&(r.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),s+=t.a(t,0,t.s(qe,a),"nb-popup-menu-content",r),s+=he(r),s+="</div>"},we.t1706.j=Dn,we.t1706.a=0,we.t1707=function(t,a,e,n,r){var s="";return s+=he(r),s+="<ul",r.a={"class":new yr.scalarAttr("_nb-popup-menu")},r.s="ul",s+=t.a(t,0,me("menu",a,[]),"nb-popup-menu-content-item",r),s+=he(r),s+="</ul>"},we.t1707.j=Dn,we.t1707.a=0,we.t1708=function(t,a,e,n,r){var s="";return s+=he(r),_e("separator",a)?s+='<li class="_nb-popup-separator"></li>':(s+='<li class="_nb-popup-line">',s+="<a",r.a={"class":new yr.scalarAttr("_nb-popup-link")},r.s="a",_e("href",a)&&(r.a.href=new yr.scalarAttr(pe("href",a))),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+=pe("content",a),s+="</a>",s+="</li>"),s},we.t1708.j=Tn,we.t1708.a=0,we.t1709=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-popup _nb-popup _init _nb-is-hidden"),"data-nb":new yr.scalarAttr("popup")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),de(me("withoutTail",a,[]))&&(r.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),s+=he(r),_e("close",a)&&(s+=t.f("f734",a,e,n,r,me("close",a,[]))),_e("titleContent",a)&&(s+=t.f("f732",a,e,n,r,me("titleContent",a,[]))),_e("content",a)&&(s+=t.f("f731",a,e,n,r,me("content",a,[]))),s+="</div>"},we.t1709.j=Hn,we.t1709.a=0,we.t1710=function(t,a,e,n,r){var s="";s+=he(r),_e("static",a)&&(s+=t.f("f742",a,e,n,r)),s+="<div",r.a={},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="popup",t.theme=yr.nodeset2data(me("theme",a,[])),t.type="modal",t}()));var i=r.a["class"];r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init");var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _nb-popup"):new yr.scalarAttr(" _nb-popup"),!_e("static",a)){r.a["data-nb"]=new yr.scalarAttr("popup");var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<div class="_nb-popup-i">',_e("close",a)&&(s+=t.f("f734",a,e,n,r,me("close",a,[]))),_e("titleContent",a)&&(s+=t.f("f732",a,e,n,r,me("titleContent",a,[]))),_e("content",a)&&(s+=t.f("f731",a,e,n,r,me("content",a,[]))),_e("buttons",a)&&(s+=t.f("f733",a,e,n,r,me("buttons",a,[]))),s+="</div>",s+="</div>"},we.t1710.j=En,we.t1710.a=0,we.t1711=function(t,a,e,n,r){var s="";s+=he(r),s+="<div",r.a={},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="radio-button",t.size=yr.nodeset2data(me("size",a,[])),t.theme=yr.nodeset2data(me("theme",a,[])),t}()));var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-group"):new yr.scalarAttr(" nb-group"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r);for(var o=me("group",a,[]),c=0,l=o.length;l>c;c++){var d=o[c],u="nb-radio-button_"+yr.externals["_nb-uniq"]();s+='<span class="_nb-radio-button-button nb-complex-group-item">',s+="<input",r.a={"class":new yr.scalarAttr("_nb-radio-button-radio"),type:new yr.scalarAttr("radio"),name:new yr.scalarAttr(be(t.s(Ln,d))),value:new yr.scalarAttr(be(me("value",d,[]))),id:new yr.scalarAttr(u)},r.s="input",_e("checked",d)&&(r.a.checked=new yr.scalarAttr("checked")),_e("disabled",d)&&(r.a.disabled=new yr.scalarAttr("disabled")),_e("tabindex",d)&&!_e("disabled",d)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",d))),_e("name",d)&&(r.a.name=new yr.scalarAttr(pe("name",d))),de(t.s(Pe,d))&&(r.a.name=new yr.scalarAttr(be(t.s(Pe,d)))),s+=he(r),s+="",s+=t.f("f724",d,c,l,r,yr.externals["_nb-extend"](t.s(qe,d),yr.object2nodeset(function(){var a={},e=[];e.push("nb-complex-group-item-subject"),e.push("js-button"),a["class"]=e,a.type="label",a["static"]=!0,a.id=!1,a.size=yr.nodeset2data(t.s(Vn,d));var e={};return e["for"]=u,e["data-value"]=yr.nodeset2data(me("value",d,[])),a.attrs=e,a}()))),s+="</span>"}return s+="</div>"},we.t1711.j=Fn,we.t1711.a=0,we.t1712=function(t,a,e,n,r){var s="",i=t.s(Bn,a).length>0;s+=he(r),s+="<span",r.a={"data-nb-direction":new yr.scalarAttr(be(me("direction",a,[]))),"data-nb":new yr.scalarAttr("select"),tabindex:new yr.scalarAttr("0")},r.s="span",t.f("f725",a,e,n,r,"span");var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" nb-select _init _nb-select-button"):new yr.scalarAttr(" nb-select _init _nb-select-button"),ce("s",me("size",a,[]))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-small-normal-select"):new yr.scalarAttr(" _nb-small-normal-select")}s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("within",a)&&(r.a["data-nb-within"]=new yr.scalarAttr(pe("within",a))),_e("appendto",a)&&(r.a["data-nb-appendto"]=new yr.scalarAttr(pe("appendto",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),_e("maxHeight",a)&&(r.a["data-nb-maxheight"]=new yr.scalarAttr(pe("maxHeight",a))),s+=he(r),s+='<span class="_nb-button-content">';for(var c=me("items",a,[]),l=0,d=c.length;d>l;l++){var u=c[l];(i&&_e("selected",u)||!i&&0==l)&&(s+=le(me("text",u,[])))}return s+="</span>",s+='<span class="_nb-select-helper"></span>',s+="<select",r.a={"class":new yr.scalarAttr("_nb-select-fallback")},r.s="select",de(me("disabled",a,[]))&&(r.a.disabled=new yr.scalarAttr("disabled")),_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),de(t.s(Pe,a))&&(r.a.name=new yr.scalarAttr(be(t.s(Pe,a)))),s+=t.a(t,0,t.s(qe,a),"nb-select-options",r),s+=he(r),s+="</select>",s+="<span",r.a={},r.s="span",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="select-dropdown",t.size=yr.nodeset2data(me("size",a,[])),t.theme=yr.nodeset2data(me("theme",a,[])),t}())),s+=he(r),s+="</span>",s+="</span>"},we.t1712.j=Rn,we.t1712.a=0,we.t1713=function(t,a,e,n,r){var s="";s+=he(r);for(var i=me("items",a,[]),o=0,c=i.length;c>o;o++){var l=i[o];if(_e("group",l)){s+='<optgroup label="'+ue(me("text",l,[]))+'" data-nb-type="'+ue(me("type",l,[]))+'">';for(var d=me("group",l,[]),u=0,b=d.length;b>u;u++){var v=d[u];s+=t.f("f737",v,u,b,r,t.s(qe,v))}s+="</optgroup>"}else s+=t.f("f737",l,o,c,r,t.s(qe,l))}return s},we.t1713.s=[1,Rn],we.t1713.a=[1,0],we.t1714=function(t,a,e,n,r){var s="",i="";i+=_e("id",a)?pe("id",a):yr.externals["_nb-uniq"]();var o=i;s+=he(r),s+="<label",r.a={"data-nb":new yr.scalarAttr("checkbox"),"for":new yr.scalarAttr("nb-checkbox_"+o)},r.s="label",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="checkbox",t.size=yr.nodeset2data(me("size",a,[])),_e("type",a)&&(t.type=yr.nodeset2data(me("type",a,[]))),t}()));var c=r.a["class"];if(r.a["class"]=c?c.addscalar(" _init"):new yr.scalarAttr(" _init"),_e("disabled",a)){var c=r.a["class"];r.a["class"]=c?c.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(s+=he(r),s+="<input",r.a={"class":new yr.scalarAttr("_nb-checkbox-input"),id:new yr.scalarAttr("nb-checkbox_"+o)},r.s="input",r.a.type=ce("button",me("type",a,[]))?new yr.scalarAttr("checkbox"):new yr.scalarAttr(pe("type",a)),_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),_e("disabled",a)&&(r.a.disabled=new yr.scalarAttr("disabled")),_e("checked",a)&&(r.a.checked=new yr.scalarAttr("checked")),me("value",a,[]).length&&(r.a.value=new yr.scalarAttr(pe("value",a))),s+=he(r),s+="",ce("button",me("type",a,[])))s+=t.f("f724",a,e,n,r,yr.externals["_nb-extend"](t.s(qe,a),yr.object2nodeset(function(){var t={};t.type="inline",t["static"]=!0,t.id=!1,t.attrs=!1;var a=[];return a.push("_nb-checkbox-label"),t["class"]=a,t}())));else{if(s+="<span",r.a={"class":new yr.scalarAttr("_nb-checkbox-flag ")},r.s="span",ce("checkbox",me("type",a,[]))){var c=r.a["class"];r.a["class"]=c?c.addscalar("_nb-checkbox-normal-flag"):new yr.scalarAttr("_nb-checkbox-normal-flag")}else if(_e("type",a)){var c=r.a["class"];r.a["class"]=c?c.addscalar("_nb-checkbox-"+be(me("type",a,[]))+"-flag"):new yr.scalarAttr("_nb-checkbox-"+be(me("type",a,[]))+"-flag")}s+=he(r),s+='<span class="_nb-checkbox-flag-icon"></span>',s+="</span>",s+='<span class="_nb-checkbox-label">',de(me("content",a,[]))&&(s+=pe("content",a)),s+="</span>"}return s+="</label>"},we.t1714.j=On,we.t1714.a=0,we.t1715=function(t,a,e,n,r){var s="",i="nb-input_error"+yr.externals["_nb-uniq"]();s+=he(r),s+="<label",r.a={},r.s="label",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="input",_e("size",a)&&(t.size=yr.nodeset2data(me("size",a,[]))),t.type="complex",t}())),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r);var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),de(me("static",a,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),_e("disabled",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(_e("ghost",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-ghost"):new yr.scalarAttr(" _nb-is-ghost"),r.a["data-nb-ghost"]=new yr.scalarAttr("true")}_e("error",a)&&(r.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+i+'", "direction":"'+be(t.s(In,a))+'"}')),s+=he(r),_e("error",a)&&(s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={};return e["class"]=be(t.s(Nn,a))+" _nb-error-popup",e.content=yr.nodeset2data(t.s(Qn,a)),e.id=i,e}()))),_e("leftContent",a)&&(s+='<span class="_nb-input-left">',s+=pe("leftContent",a),s+="</span>"),_e("rightContent",a)&&(s+='<span class="_nb-input-right">',s+=pe("rightContent",a),s+="</span>"),_e("reset",a)&&(s+='<span class="_nb-input-reset"></span>'),s+='<span class="_nb-input-content">',_e("hint",a)&&!ce("",t.s(Gn,a))&&(s+='<span class="_nb-input-hint">',s+='<span class="_nb-input-hint-inner">',de(t.s(Un,a))?(s+='<span class="_nb-input-hint-ghost"></span>',s+='<span class="_nb-input-hint-content">',s+=le(t.s(Gn,a)),s+="</span>"):s+=le(me("hint",a,[])),s+="</span>",s+="</span>"),s+="<input",r.a={type:new yr.scalarAttr("text"),"class":new yr.scalarAttr("_nb-input-controller"),value:new yr.scalarAttr(be(me("content",a,[])))},r.s="input";for(var c=t.s(Fe,a),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(be(t.s(qe,u)))}return _e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),_e("disabled",a)&&(r.a.disabled=new yr.scalarAttr("disabled")),_e("hint",a)&&!ce("",t.s(Gn,a))&&(r.a.placeholder=new yr.scalarAttr(pe("hint",a))),s+=he(r),s+="",s+='<span class="_nb-input-view"> </span>',s+="</span>",s+="</label>"},we.t1715.j=Yn,we.t1715.a=0,we.t1716=function(t,a,e,n,r){var s="",i="nb-input_error"+yr.externals["_nb-uniq"]();s+=he(r),s+="<label",r.a={},r.s="label",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="input",_e("size",a)&&(t.size=yr.nodeset2data(me("size",a,[]))),t.type="complex",t
}()));var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),de(me("static",a,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),_e("disabled",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(_e("ghost",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-ghost _init"):new yr.scalarAttr(" _nb-is-ghost _init"),r.a["data-nb-ghost"]=new yr.scalarAttr("true")}if(_e("error",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),r.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+i+'", "direction":"'+be(t.s(In,a))+'" }'),s+=he(r),s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={};return e["class"]="_nb-error-popup",e.content=yr.nodeset2data(t.s(Qn,a)),e.id=i,e}()))}s+=he(r),_e("reset",a)&&(s+='<span class="_nb-input-reset"></span>'),_e("leftContent",a)&&(s+='<span class="_nb-input-left">',s+=pe("leftContent",a),s+="</span>"),_e("rightContent",a)&&(s+='<span class="_nb-input-right">',s+=pe("rightContent",a),s+="</span>"),s+='<span class="_nb-input-content">',s+="<textarea",r.a={"class":new yr.scalarAttr("_nb-input-controller")},r.s="textarea";for(var c=t.s(Fe,a),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(be(t.s(qe,u)))}return _e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),_e("disabled",a)&&(r.a.disabled=new yr.scalarAttr("disabled")),s+=he(r),_e("content",a)&&(s+=le(me("content",a,[]))),s+="</textarea>",s+='<span class="_nb-input-view"> </span>',s+="</span>",s+="</label>"},we.t1716.j=Xn,we.t1716.a=0,we.t1717=function(t,a,e,n,r){var s="";s+=he(r),s+="<input",r.a={type:new yr.scalarAttr("text"),value:new yr.scalarAttr(be(me("content",a,[]))),"data-nb-type":new yr.scalarAttr("simple")},r.s="input",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="input",_e("size",a)&&(t.size=yr.nodeset2data(me("size",a,[]))),t.type="simple",t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),de(me("static",a,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.disabled=new yr.scalarAttr("disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=he(r),s+=""},we.t1717.j=Wn,we.t1717.a=0,we.t1718=function(t,a,e,n,r){var s="";s+=he(r),s+="<textarea",r.a={"data-nb-type":new yr.scalarAttr("simple")},r.s="textarea",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="input",_e("size",a)&&(t.size=yr.nodeset2data(me("size",a,[]))),t.type="simple",t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),de(me("static",a,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.disabled=new yr.scalarAttr("disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=he(r),_e("content",a)&&(s+=le(me("content",a,[]))),s+="</textarea>"},we.t1718.j=Kn,we.t1718.a=0,we.t1719=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-input-group"),"data-nb":new yr.scalarAttr("input-group")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}s+=he(r);for(var o=me("*",a,[]),c=0,l=o.length;l>c;c++){var d=o[c];"button"==d.name?s+=t.f("f724",d,c,l,r,t.s(qe,d)):"input"==d.name&&(s+=t.f("f739",d,c,l,r,t.s(qe,d)))}return s+="</div>"},we.t1719.j=Zn,we.t1719.a=0,we.t1720=function(t,a,e,n,r){var s="";s+=he(r),s+="<div",r.a={"data-nb":new yr.scalarAttr("progress"),"data-nb-type":new yr.scalarAttr(be(me("type",a,[])))},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="progress",t.type=yr.nodeset2data(me("type",a,[])),t}()));var i=r.a["class"];return r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),_e("bar",a)&&(s+='<div class="_nb-progress-bar js-bar" style="width: '+ue(me("start",a,[]))+"%"+'"></div>'),_e("title",a)&&(s+='<div class="_nb-progress-title js-title">',s+=ce("percentage",me("type",a,[]))?fe(pe("start",a)+"%"):le(me("title",a,[])),s+="</div>"),s+='<input type="hidden" value="'+ue(me("start",a,[]))+"%"+'"/>',s+="</div>"},we.t1720.j=Jn,we.t1720.a=0,we.t1721=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="paranja",t.theme=yr.nodeset2data(me("theme",a,[])),t}())),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),_e("content",a)&&(s+=pe("content",a)),s+="</div>"},we.t1721.j=$n,we.t1721.a=0,we.t1722=function(t,a,e,n,r){var s="",i="";i+=_e("type",a)?"-"+pe("type",a):"";var o=i,i="";ce("s",me("padding",a,[]))?i+="-small":ce("l",me("padding",a,[]))?i+="-large":ce("m",me("padding",a,[]))&&(i+="");var c=i;s+=he(r),s+="<div",r.a={},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r);var l=r.a["class"];return r.a["class"]=l?l.addscalar("nb-island _nb"+c+o+"-island"):new yr.scalarAttr("nb-island _nb"+c+o+"-island"),s+=he(r),_e("content",a)&&(s+=pe("content",a)),s+="</div>"},we.t1722.j=tr,we.t1722.a=0,we.t1723=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="dropzone",t.type=yr.nodeset2data(me("type",a,[])),t}())),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),_e("head",a)&&(s+='<div class="_nb-dropzone-head">',s+=le(me("head",a,[])),s+="</div>"),_e("content",a)&&(s+='<div class="_nb-dropzone-text">',_e("content",a)&&(s+=pe("content",a)),ce("false",me("button",a,[]))||(s+=t.f("f724",a,e,n,r,me("button",a,[]))),s+="</div>"),ce("modal",me("type",a,[]))&&(s+='<div class="_nb-dropzone-cover"></div>'),s+="</div>"},we.t1723.j=ar,we.t1723.a=0,we.t1724=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<span",r.a={},r.s="span",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="loader",t.size=yr.nodeset2data(me("size",a,[])),t}())),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("_nb-loader-spinner")},r.s="span",_e("color",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-loader-"+be(me("color",a,[]))+"-spinner"):new yr.scalarAttr(" _nb-loader-"+be(me("color",a,[]))+"-spinner")}return s+=he(r),s+="</span>",s+="</span>"},we.t1724.j=er,we.t1724.a=0,we.t1725=function(t,a,e,n,r){var s="";s+=he(r),s+="<div",r.a={},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="slider",t.size=yr.nodeset2data(me("size",a,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init _nb-"+be(me("orientation",a,[]))+"-slider _nb-slider-"+be(me("type",a,[]))+"-handle"):new yr.scalarAttr(" _init _nb-"+be(me("orientation",a,[]))+"-slider _nb-slider-"+be(me("type",a,[]))+"-handle"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),r.a["data-nb-value"]=new yr.scalarAttr(be(me("value",a,[]))),_e("static",a)||(r.a["data-nb"]=new yr.scalarAttr("slider")),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(s+=he(r),s+='<div class="_nb-slider-body _nb-slider-'+ue(me("type",a,[]))+"-body"+'">',s+="<label",r.a={"class":new yr.scalarAttr("ui-slider-handle")},r.s="label",ce("s",me("size",a,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-slider-small-handle"):new yr.scalarAttr(" _nb-slider-small-handle")}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-slider-handle"):new yr.scalarAttr(" _nb-slider-handle")}if(de(t.s(rr,a))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" "+be(t.s(rr,a))):new yr.scalarAttr(" "+be(t.s(rr,a)))}if(_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("nb-button-content")},r.s="span",_e("content",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-is-hidden"):new yr.scalarAttr(" nb-is-hidden")}return s+=he(r),s+="<input",r.a={tabindex:new yr.scalarAttr("-1"),"class":new yr.scalarAttr("_nb-slider-fallback"),type:new yr.scalarAttr("text"),value:new yr.scalarAttr(be(me("value",a,[]))),readonly:new yr.scalarAttr("readonly")},r.s="input",_e("name",a)&&(r.a.name=new yr.scalarAttr(be(me("name",a,[])))),s+=he(r),s+="",s+="</span>",_e("content",a)&&(s+=pe("content",a)),s+="</label>",s+="</div>",s+="</div>"},we.t1725.j=nr,we.t1725.a=0,we.t1726=function(t,a,e,n,r){var s="",i="tabs-"+yr.externals["_nb-uniq"]();s+=he(r),s+="<div",r.a={"data-nb":new yr.scalarAttr("tabs")},r.s="div",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="tabs",t.size=yr.nodeset2data(me("size",a,[])),_e("rise",a)&&(t.type="rise-"+pe("rise",a)),t}()));var o=r.a["class"];r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<ul class="_nb-tabs-tabs">';for(var c=me("items",a,[]),l=0,d=c.length;d>l;l++){var u=c[l];if(s+="<li",r.a={"class":new yr.scalarAttr("_nb-tabs-tab")},r.s="li",_e("active",u)){var b=r.a["class"];r.a["class"]=b?b.addscalar(" ui-tabs-active"):new yr.scalarAttr(" ui-tabs-active")}s+=he(r),s+='<a class="_nb-tabs-link _link" href="#'+ve(i)+"-"+ve(l)+'">',s+=le(me("title",u,[])),s+="</a>",s+="</li>"}s+="</ul>";for(var c=me("items",a,[]),l=0,d=c.length;d>l;l++){var u=c[l];s+='<div class="_nb-tabs-panel" id="'+ve(i)+"-"+ve(l)+'">',_e("content",u)&&(s+=pe("content",u)),s+="</div>"}return s+="</div>"},we.t1726.j=sr,we.t1726.a=0,we.t1727=function(t,a,e,n,r){var s="",i="";i+=_e("text",a)?'<a href="'+pe("href",a)+'" class="_nb-search-arrow-label">'+pe("text",a)+"</a>":"";var o=i,i="";i+=_e("requests",a)?" — "+pe("requests",a):"";var c=i;return s+=he(r),s+="<form",r.a={"data-nb":new yr.scalarAttr("arrow"),"class":new yr.scalarAttr("nb-arrow _init _nb-search-arrow")},r.s="form",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-arrow-tail"></span>',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};t.size="m",t["class"]="_nb-search-arrow-button",t.tabindex=yr.nodeset2data(me("buttonTabindex",a,[])),t.content=yr.nodeset2data(me("buttonContent",a,[]));var e={};return e.type="submit",t.attrs=e,t}())),s+='<div class="_nb-search-arrow-content">',s+=t.f("f739",a,e,n,r,yr.object2nodeset(function(){var t={};t.size="m",t["class"]="_nb-search-arrow-input",t.tabindex=yr.nodeset2data(me("inputTabindex",a,[])),t.leftContent=o;var e={};e.autocomplete="off",e.value=yr.nodeset2data(me("value",a,[])),e.name="text",t.attrs=e;var e={};return e.text=c,e.ghost=!0,t.hint=e,t}())),s+="</div>",s+="</form>"},we.t1727.j=ir,we.t1727.a=0,we.t1728=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("_nb-service-arrow")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-arrow-tail"></span>',s+=le(me("text",a,[])),s+="</div>"},we.t1728.j=or,we.t1728.a=0,we.t1729=function(t,a,e,n,r){var s="";return s+=he(r),s+="<a",r.a={href:new yr.scalarAttr(be(me("href",a,[]))),"class":new yr.scalarAttr("_nb-service-arrow")},r.s="a",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="_nb-arrow-tail"></span>',s+=le(me("text",a,[])),s+="</a>"},we.t1729.j=cr,we.t1729.a=0,we.t1730=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-header _init"),"data-nb":new yr.scalarAttr("header")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<div class="_nb-header-actions">',_e("settings",a)&&(de(t.s(dr,a))?s+=be(t.s(dr,a)):(s+='<div class="_nb-header-button">',s+='<div class="_nb-header-button-icon">',s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="settings",t.size="m",t}())),s+="</div>",s+="</div>")),_e("services",a)&&(de(t.s(br,a))?s+=be(t.s(vr,a)):(s+='<div class="_nb-header-button">',s+='<div class="_nb-header-button-icon">',s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="services",t.size="m",t}())),s+="</div>",s+="</div>")),_e("user",a)&&(s+=de(t.s(pr,a))?be(t.s(pr,a)):t.f("f750",a,e,n,r,me("user",a,[]))),_e("auth",a)&&de(t.s(vr,a))&&(s+=be(t.s(vr,a))),s+="</div>",s+='<div class="_nb-header-main">',s+='<a href="'+ue(me("yaHref",a,[]))+'" class="'+"_nb-header-logo"+'"></a>',s+=t.f("f748",a,e,n,r,me("arrow",a,[])),s+="</div>",s+="</div>"},we.t1730.j=lr,we.t1730.a=0,we.t1731=function(t,a,e,n,r){var s="";s+=he(r),s+="<span",r.a={},r.s="span",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="user",t.size=yr.nodeset2data(me("size",a,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),_e("justify",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_justify"):new yr.scalarAttr(" _nb-user_justify")}if(s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("rightToLeft",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_rtl"):new yr.scalarAttr(" _nb-user_rtl")}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_ltr"):new yr.scalarAttr(" _nb-user_ltr")}return s+=t.a(t,0,t.s(qe,a),"nb-user-pic",r),s+=t.a(t,0,t.s(qe,a),"nb-user-name",r),s+=he(r),s+="</span>"},we.t1731.j=fr,we.t1731.a=0,we.t1732=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<span",r.a={},r.s="span",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="user-avatar",t.size=yr.nodeset2data(me("size",a,[])),t}())),_e("userpic",a)){var i=r.a.style;r.a.style=i?i.addscalar(" background-image: url('"+be(me("userpic",a,[]))+"')"):new yr.scalarAttr(" background-image: url('"+be(me("userpic",a,[]))+"')")}return s+=he(r),pe("notices",a)>0&&(s+='<span class="_nb-user-notice-count">',s+=le(me("notices",a,[])),s+="</span>"),s+="</span>"},we.t1732.j=fr,we.t1732.a=0,we.t1733=function(t,a,e,n,r){var s="";return s+=he(r),s+='<span class="_nb-user-label">',s+='<span class="_nb-user-name _link" title="'+ue(me("username",a,[]))+'">',s+=le(me("username",a,[])),s+="</span>",_e("email",a)&&(s+='<span class="_nb-user-email" title="'+ue(me("email",a,[]))+'">',s+=le(me("email",a,[])),s+="</span>"),s+="</span>"},we.t1733.j=fr,we.t1733.a=0,we.t1734=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-suggest _init"),"data-nb":new yr.scalarAttr("suggest")},r.s="div",r.a["data-countMax"]=new yr.scalarAttr(pe("countMax",a)),r.a["data-type"]=new yr.scalarAttr(pe("type",a)),r.a["data-size"]=new yr.scalarAttr(pe("size",a)),r.a["data-source"]=new yr.scalarAttr(pe("source",a)),r.a["data-highlight"]=new yr.scalarAttr(pe("highlight",a)),r.a["data-class-suggest"]=new yr.scalarAttr("nb-island _nb-fly-island _nb-suggest-container _nb-"+be(me("size",a,[]))+"-suggest"),_e("class",a)){var i=r.a["data-class-suggest"];r.a["data-class-suggest"]=i?i.addscalar(" "+be(me("classSuggest",a,[]))):new yr.scalarAttr(" "+be(me("classSuggest",a,[])))}if(s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}return s+=he(r),s+=t.f("f739",a,e,n,r,yr.object2nodeset(function(){var e={};return e.size=yr.nodeset2data(me("size",a,[])),e["class"]="_nb-suggest-input",e.attrs=yr.nodeset2data(t.s(mr,a)),e.tabindex=yr.nodeset2data(me("tabindex",a,[])),e.disabled=yr.nodeset2data(me("disabled",a,[])),e.name=yr.nodeset2data(me("name",a,[])),e.content=yr.nodeset2data(me("content",a,[])),e.leftContent=yr.nodeset2data(t.s(hr,a)),e.rightContent=yr.nodeset2data(t.s(wr,a)),e.labelContent=yr.nodeset2data(t.s(gr,a)),e.reset=yr.nodeset2data(t.s(Ar,a)),e.ghost=yr.nodeset2data(t.s(xr,a)),e.error=yr.nodeset2data(t.s(jr,a)),e.hint=yr.nodeset2data(t.s(kr,a)),e}())),s+="</div>"},we.t1734.j=_r,we.t1734.a=0,we.t1735=function(t,a,e,n,r){var s="";return s+=he(r),s+='<li class="_nb-suggest-item">',s+="<a",r.a={"class":new yr.scalarAttr("_nb-suggest-item-link")},r.s="a",s+=t.a(t,0,me("item",a,[]),"nb-suggest",r),s+=he(r),s+="</a>",s+="</li>"},we.t1735.j=1,we.t1735.a=1,we.t1736=function(t,a,e,n,r){var s="";return s+=he(r),_e("labelContent",a)&&(s+=pe("labelContent",a)),s},we.t1736.j=zr,we.t1736.a=1,we.t1737=function(t,a,e,n,r){var s="",i={};i.size=yr.nodeset2data(me("size",a.doc.root,[])),i.mod="suggest";var o=[];_e("username",a)?o+=yr.nodeset2data(me("username",a,[])):_e("email",a)&&(o+=yr.nodeset2data(me("email",a,[]))),i.username=o,i.rightToLeft=!0,_e("username",a)&&_e("email",a)&&(i.email=yr.nodeset2data(me("email",a,[]))),i.justify=!0,_e("userpic",a)&&(i.userpic=yr.nodeset2data(me("userpic",a,[]))),_e("usernameHighlighted",a)&&(i.usernameHighlighted=yr.nodeset2data(me("usernameHighlighted",a,[]))),_e("emailHighlighted",a)&&(i.emailHighlighted=yr.nodeset2data(me("emailHighlighted",a,[])));var c=i;return s+=he(r),s+=t.f("f750",a,e,n,r,yr.object2nodeset(c))},we.t1737.j=Cr,we.t1737.a=1,we.t1738=function(t,a,e,n,r){var s="";return s+=he(r),s+=be(t.s(Pr,a))},we.t1738.j=Mr,we.t1738.a=0,we.t1739=function(t,a,e,n,r){var s="";return s+=he(r),s+=be(t.s(Dr,a))},we.t1739.j=Sr,we.t1739.a=0,we.t1740=function(t,a,e,n,r){var s="";s+=he(r),s+="<a",r.a={"data-nb":new yr.scalarAttr("toggler")},r.s="a",t.f("f722",a,e,n,r,yr.object2nodeset(function(){var t={};return t.name="toggler",t.size=yr.nodeset2data(me("size",a,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("checked",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-checked"):new yr.scalarAttr(" _nb-is-checked")}if(_e("tabindex",a)&&!_e("disabled",a)&&(r.a.tabindex=new yr.scalarAttr(pe("tabindex",a))),_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}s+=he(r),s+='<label class="_nb-toggler-label">',s+="<input",r.a={type:new yr.scalarAttr("checkbox"),"class":new yr.scalarAttr("_nb-toggler-checkbox")},r.s="input";for(var o=t.s(Fe,a),c=0,l=o.length;l>c;c++){var d=o[c];r.a[d.name]=new yr.scalarAttr(be(t.s(qe,d)))}return _e("name",a)&&(r.a.name=new yr.scalarAttr(pe("name",a))),_e("checked",a)&&(r.a.checked=new yr.scalarAttr("checked")),_e("disabled",a)&&(r.a.disabled=new yr.scalarAttr("disabled")),s+=he(r),s+="",s+="</label>",s+='<span class="_nb-toggler-container">',s+='<span class="_nb-toggler-sticker _nb-toggler-left-sticker">',s+='<span class="_nb-toggler-text">',s+=le(me("leftText",a,[])),s+="</span>",s+="</span>",s+='<span class="_nb-toggler-sticker _nb-toggler-right-sticker">',s+='<span class="_nb-toggler-text">',s+=le(me("rightText",a,[])),s+="</span>",s+="</span>",s+="</span>",s+='<span class="_nb-toggler-knob"></span>',s+="</a>"},we.t1740.j=Tr,we.t1740.a=0,we.t1741=function(t,a,e,n,r){var s="";return s+=he(r),s+="<span",r.a={},r.s="span",s+=t.a(t,0,t.s(qe,a),"nb-icon-social-attrs",r),s+=t.a(t,0,t.s(qe,a),"nb-icon-social-content",r),s+=he(r),s+="</span>"},we.t1741.j=qr,we.t1741.a=0,we.t1742=function(t,a,e,n,r){var s="";return s+=he(r),s+="<a",r.a={},r.s="a",s+=t.a(t,0,t.s(qe,a),"nb-icon-social-attrs",r),s+=t.a(t,0,t.s(qe,a),"nb-icon-social-content",r),s+=he(r),s+="</a>"},we.t1742.j=Hr,we.t1742.a=0,we.t1743=function(t,a,e,n,r){var s="";return s+=he(r),s+='<span class="icon-social__inner">',s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t["class"]="icon-social__"+be(me("icon",a,[])),t}())),s+="</span>",_e("content",a)&&(s+=pe("content",a)),s},we.t1743.j=qr,we.t1743.a=0,we.t1744=function(t,a,e,n,r){var s="";s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r);var i="";i+=" icon-social icon-social_size_"+be(me("size",a,[])),_e("theme",a)&&(i+=" icon-social_theme_"+be(me("theme",a,[]))),_e("rounded",a)&&(i+=" icon-social_rounded"),_e("content",a)&&(i+=" icon-social_inline");var o=r.a["class"];return r.a["class"]=o?o.addscalar(i):new yr.scalarAttr(i),s},we.t1744.j=qr,we.t1744.a=0,we.t1745=function(t,a,e,n,r){var s="",i="popup-qr-"+yr.externals["nb-uniq"]();if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("qrcode _init "+be(me("class",a,[])))},r.s="div",_e("disabled",a)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" qrcode_disabled"):new yr.scalarAttr(" qrcode_disabled")}return _e("short_url",a)&&!_e("disabled",a)&&(r.a["data-nb"]=new yr.scalarAttr("popup-toggler"),r.a["data-nb-popup-toggler"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};t.id=i;var a={};return a.at="top",a.my="bottom",a.collision="flip",a.fixed=!0,t.how=a,t}())))),_e("metrika",a.doc.root)&&(r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr(pe("metrika",a.doc.root))),s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="qrcode",t["class"]="nb-icon_qrcode nb-icon_size_s",t}())),_e("content",a)&&(s+=pe("content",a)),s+="</div>",_e("short_url",a)&&!_e("disabled",a)&&(s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={};e.id=i;var n="",r={a:{}};return n+=t.a(t,0,t.s(qe,a),"qrcode__content-popup",r),e.content=n,e}()))),s},we.t1745.j=Er,we.t1745.a=0,we.t1746=function(t,a,e,n,r){var s="",i=pe("urlQrApi",a)+"?text="+yr.externals.encodeURIComponent(pe("short_url",a));return s+=he(r),s+='<div class="qrcode__content">',s+='<div class="qrcode__img" style="background-image:url('+ve(i)+")"+'"></div>',s+='<p class="qrcode__p">',s+="Скачать QR-код в формате:",s+="</p>",s+='<p class="qrcode__p">',s+=t.f("f755",a,e,n,r,function(){var t={};return t.urlQR=i,t.text="PNG",t.format="",t}()),s+=t.f("f755",a,e,n,r,function(){var t={};return t.urlQR=i,t.text="SVG",t.format="svg",t}()),s+="</p>",s+='<p class="qrcode__p">',s+=t.f("f755",a,e,n,r,function(){var t={};return t.urlQR=i,t.text="EPS",t.format="eps",t}()),s+=t.f("f755",a,e,n,r,function(){var t={};return t.urlQR=i,t.text="PDF",t.format="pdf",t}()),s+="</p>",s+="</div>"},we.t1746.j=Fr,we.t1746.a=0,we.t1747=function(t,a,e,n,r){var s="",i="button-copy-text-"+yr.externals["nb-uniq"]();s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("button-copy"),"data-nb":new yr.scalarAttr("button-copy")},r.s="span",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),r.a["data-clipboard-target"]=new yr.scalarAttr(i);var o=r.a["class"];return r.a["class"]=o?o.addscalar(" button-copy_gap-outer_"+be(me("gap-outer",a,[]))):new yr.scalarAttr(" button-copy_gap-outer_"+be(me("gap-outer",a,[]))),s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="copy-18",t["class"]="button-copy__icon",t}())),s+='<span class="button-copy__title js-button-copy-title">',s+="Копировать ссылку",s+="</span>",s+='<input class="js-button-copy-text" type="hidden" value="'+ue(me("text",a,[]))+'" id="'+ve(i)+'"/>',s+="</span>"},we.t1747.j=Lr,we.t1747.a=0,we.t1748=function(t,a,e,n,r){var s="",i="popup-share-"+yr.externals["nb-uniq"]();if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("popup-share _init"),"data-nb":new yr.scalarAttr("popup-share")},r.s="div",!me("services",a,[]).length){var o=r.a["class"];r.a["class"]=o?o.addscalar(" popup-share_no-items"):new yr.scalarAttr(" popup-share_no-items")}return s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={},n="",r={a:{}};n+="nb-popup_popup-share ",de(t.s(Rr,a))&&(n+=be(t.s(Rr,a))),e["class"]=n,e.id=i,e.withoutTail=!0;var n="",r={a:{}};return n+=t.a(t,0,t.s(qe,a),"popup-share__content",r),e.content=n,e}())),s+="<div",r.a={"class":new yr.scalarAttr("popup-share__toggler js-toggler"),"data-nb":new yr.scalarAttr("popup-toggler")},r.s="div",r.a["data-nb-popup-toggler"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var e={};return e.id=i,e.how=de(t.s(Br,a))?yr.nodeset2data(t.s(Br,a)):"fixed",e.autofocus=!1,e.autoclose=!!_e("autoclose",a),e}()))),s+=t.a(t,0,me("toggler",a.doc.root,[]),"nb-main-attrs",r),s+=he(r),s+="</div>",s+="</div>"},we.t1748.j=Vr,we.t1748.a=0,we.t1749=function(t,a,e,n,r){var s="";s+=he(r),s+='<div class="popup-share__content">',_e("button-copy",a.doc.root)&&(s+=t.f("f756",a,e,n,r,yr.object2nodeset(function(){var t={};t.text=yr.nodeset2data(me("link-public",a,[]));var e="";return e+="popup-share__item",me("services",a,[]).length&&(e+=" popup-share__item_group"),t["class"]=e,t["gap-outer"]="s",t}())));for(var i=me("services",a,[]),o=0,c=i.length;c>o;o++){var l=i[o];s+="<div",r.a={"class":new yr.scalarAttr("popup-share__item")},r.s="div",s+=t.a(t,0,t.s(qe,l),"popup-share__item",r),s+=he(r),s+="</div>"}return s+="</div>"},we.t1749.j=Vr,we.t1749.a=0,we.t1750=function(t,a,e,n,r){var s="",i=t.s(qe,a),o=r.a["class"];r.a["class"]=o?o.addscalar(" ns-action"):new yr.scalarAttr(" ns-action");var c="";if(_e("resource",a.doc.root)?c+="share.resource":_e("link-share",a.doc.root)?c+="share.link":_e("album",a.doc.root)&&(c+="share.album"),r.a["data-click-action"]=new yr.scalarAttr(c),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};return _e("resource",a.doc.root)&&(t.id=yr.nodeset2data(me("resource",a.doc.root,[]))),_e("link-share",a.doc.root)&&(t.link=yr.nodeset2data(me("link-share",a.doc.root,[]))),_e("current",a.doc.root)&&(t.current=!0),_e("album",a.doc.root)&&(t.idAlbum=yr.nodeset2data(me("album",a.doc.root,[]))),_e("statCount",a.doc.root)&&(t.statCount=be(me("statCount",a.doc.root,[]))+"."+be(i)),t.service=yr.nodeset2data(i),t}()))),_e("metrika",a.doc.root)){r.a["data-metrika-click"]=new yr.scalarAttr("count");var c="";c+=pe("metrika",a.doc.root),c+=",",c+=be(i),r.a["data-metrika-params"]=new yr.scalarAttr(c)}return s+=t.a(t,0,me("items-attrs",a.doc.root,[]),"nb-main-attrs",r),s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="share",t["class"]="nb-icon nb-icon_share nb-icon_share-"+be(i)+" nb-icon_size_s",t}())),s+='<span class="popup-share__title">',s+=fe(yr.externals.getTitleSocial(be(i))),s+="</span>"},we.t1750.j=je,we.t1750.a=0,we.t1751=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f754",a,e,n,r,yr.object2nodeset(function(){var t={};t.short_url=yr.nodeset2data(me("link-public",a.doc.root,[])),t["class"]="js-button-qr";var e="",n={a:{}};return e+=he(n),e+='<span class="popup-share__title">',e+="QR код",e+="</span>",t.content=e,t.urlQrApi=yr.nodeset2data(me("urlQrApi",a.doc.root,[])),t}()))},we.t1751.j=Or,we.t1751.a=0,we.t1752=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-share "+be(me("class",a,[])))},r.s="div",_e("disabled",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-share_disabled"):new yr.scalarAttr(" nb-share_disabled")}var i=r.a["class"];return r.a["class"]=i?i.addscalar(" nb-share_size_"+be(me("size",a,[]))):new yr.scalarAttr(" nb-share_size_"+be(me("size",a,[]))),s+=t.a(t,0,me("services",a,[]),"nb-share-content",r),s+=he(r),s+="</div>"},we.t1752.j=Yr,we.t1752.a=0,we.t1753=function(t,a,e,n,r){for(var s="",i=me("visible",a,[]),o=0,c=i.length;c>o;o++){var l=i[o];s+=t.a(t,0,t.s(qe,l),"nb-share-button",r)}return s+=he(r),_e("qrcode",a.doc.root)&&(s+='<div class="nb-share__button nb-share__button_qr">',s+=t.f("f754",a,e,n,r,me("qrcode",a.doc.root,[])),s+="</div>"),me("hidden",a,[]).length>0&&(s+='<div class="nb-share__button nb-share__button_more">',_e("disabled",a.doc.root)||(s+=t.f("f757",a,e,n,r,yr.object2nodeset(function(){var t={};return t.popup=yr.nodeset2data(me("popup",a.doc.root,[])),t.services=yr.nodeset2data(me("hidden",a,[])),_e("resource",a.doc.root)&&(t.resource=yr.nodeset2data(me("resource",a.doc.root,[]))),_e("link",a.doc.root)&&(t["link-share"]=yr.nodeset2data(me("link",a.doc.root,[]))),t.metrika=yr.nodeset2data(me("metrika",a.doc.root,[])),t.statCount=yr.nodeset2data(me("statCount",a.doc.root,[])),t}()))),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="three-dots",t["class"]="nb-icon_social",t}())),s+="</div>"),s},we.t1753.j=ur,we.t1753.a=0,we.t1754=function(t,a,e,n,r){var s="",i=t.s(qe,a);return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-share__button")},r.s="div",r.a.title=new yr.scalarAttr(yr.externals.getTitleSocial(be(i))),t.f("f759",a,e,n,r,be(i)),s+=he(r),s+=t.f("f753",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(i),t.size=yr.nodeset2data(me("size",a.doc.root,[])),t.rounded=!0,t}())),s+="</div>"},we.t1754.j=Ir,we.t1754.a=0,we.t1755=function(t,a,e,n,r){var s="";return s+=he(r),_e("content",a)?s+=pe("content",a):(s+='<div class="item-details">',_e("name",a)&&(s+='<span class="item-details__name">'+le(me("name",a,[]))+":"+"</span>",s+=" "),s+=_e("description-content",a)?pe("description-content",a):le(me("description-text",a,[])),s+="</div>"),s},we.t1755.j=Nr,we.t1755.a=0,we.t1756=function(t,a,e,n,r){var s="";return s+=he(r),me("items",a,[]).length&&(s+="<div",r.a={"class":new yr.scalarAttr("list-details")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=t.a(t,0,t.s(qe,a),"list-details-content",r),s+=he(r),s+="</div>"),s},we.t1756.j=Qr,we.t1756.a=0,we.t1757=function(t,a,e,n,r){var s="";s+=he(r);for(var i=me("items",a,[]),o=0,c=i.length;c>o;o++){var l=i[o];s+=t.f("f760",l,o,c,r,t.s(qe,l))}return s},we.t1757.j=Qr,we.t1757.a=0,we.t1758=function(t,a,e,n,r){var s="";return s+=he(r),s+=" aside-public",de(t.s(Ur,a.doc.root))&&(s+=" aside-public_poster"),s},we.t1758.j=Gr,we.t1758.a=0,we.t1759=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.k("k24","resource",a.doc.root),"aside-public",r)},we.t1759.j=Gr,we.t1759.a=0,we.t1760=function(t,a,e,n,r){var s="";if(s+=he(r),de(t.s(Ur,a.doc.root))?s+=t.f("f767",a,e,n,r):de(t.s(Wr,a))&&!ce("Linux",t.n(Kr,t.k("k24","environment",a.doc.root)))&&(s+=t.f("f766",a,e,n,r)),s+=t.f("f765",a,e,n,r,pe("name",a)),s+=t.a(t,0,t.s(qe,a),"aside-public__details",r),s+=t.a(t,0,t.s(qe,a),"aside-public__actions",r),s+=t.a(t,0,t.s(qe,a),"aside-public__share",r),ce(1,t.s(Zr,a))&&de(t.s(Ur,a.doc.root))){var i=t.k("k24","config",a.doc.root),o="";o+='<a class="_link" href="'+be(t.n(Jr,i))+'" target="_blank">',o+="Dr.Web",o+="</a>";var c=o;s+='<div class="aside-public__drweb">',s+="Вирусов не обнаружено",s+=". ",s+="Проверено "+c,s+="</div>"}return s},we.t1760.j=Xr,we.t1760.a=0,we.t1761=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root);return s+=he(r),s+='<div class="nb-panel__warning">',ce("user",t.s($r,a))?s+="Файл заблокирован":(s+="На этот файл поступила жалоба, доступ к нему заблокирован.",s+=" ",s+='<a class="_link" href="'+ue(t.n(as,i))+'">',s+="Подробности",s+="</a>"),s+="</div>"},we.t1761.j=ts,we.t1761.a=0,we.t1762=function(t,a,e,n,r){var s="",i=t.n(es,t.k("k24","stateResourcePublic",a.doc.root));return s+=he(r),s+=t.f("f762",a,e,n,r,yr.object2nodeset(function(){var e={};return e.status=yr.nodeset2data(t.n(ge,i)),e.reason=yr.nodeset2data(t.n($e,i)),e.typeResource=yr.nodeset2data(me("type",a,[])),e.nameResource=yr.nodeset2data(me("name",a,[])),e.linkDownloads=be(t.n(ns,t.k("k24","config",a.doc.root)))+"/client"+be(t.n(rs,t.k("k24","userCurrent",a.doc.root))),e}()))},we.t1762.j=Xr,we.t1762.a=0,we.t1763=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o=t.k("k24","userCurrent",a.doc.root),c=t.k("k24","stateResourcePublic",a.doc.root),l=t.n(es,c),d=ce("done",t.n(ge,l))||ce("failed",t.n(ge,l)),u=de(t.n(ss,l))&&ce("progressing",t.n(ge,l));return s+=he(r),s+='<div class="nb-panel__actions aside-public__actions">',s+='<div class="aside-public__action-save">',u||d?(s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var a={};a.size="s",a["class"]="js-button-disk",a.content="Открыть Яндекс.Диск",a.type="link";var e={};return e.href=be(t.n(ns,i))+"/client"+be(t.n(rs,o)),e.target="_blank",e["data-metrika-click"]="count",e["data-metrika-params"]="interface elements,public sidebar,open disk",a.attrs=e,a
}())),s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={};e.how="fixed";var n="",r={a:{}};return n+=t.a(t,0,t.s(qe,a),"aside-public__notification-save",r),e.content=n,e["class"]="js-popup-save",e}()))):s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};if(t.size="s",t["class"]="ns-action",t.theme="action",t.content="Сохранить на Яндекс.Диск",de(l)&&!d)t.disabled=!0;else{var e={};e["data-click-action"]="resource.save",e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t.silent=!0,t}())),e["data-metrika-click"]="count",e["data-metrika-params"]="interface elements,public sidebar,save",t.attrs=e}return t}())),s+="</div>",de(t.s(is,a))?(s+='<div class="aside-public__warning">',s+="Превышен лимит на скачивание файла. Вы можете сохранить его только на Яндекс.Диск.",s+="</div>"):(s+='<div class="aside-public__action-download">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var e={};e.size="s",e["class"]="ns-action js-download-button",e.icon="download",e.content=ce("dir",me("type",a,[]))?"Скачать архивом":"Скачать",e.disabled=yr.nodeset2data(t.n(os,c));var n={};return n["data-click-action"]="resource.download",n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t}())),n["data-metrika-click"]="count",n["data-metrika-params"]="interface elements,public sidebar,download",e.attrs=n,e}())),s+="</div>",de(t.s(Ur,a.doc.root))&&(s+='<div class="aside-public__action-view">',s+=ce("docviewer",me("app",a,[]))?t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};t.size="s",t.icon="eye",t.content="Просмотреть",t["class"]="ns-action";var e={};return e["data-click-action"]="resource.view-docviewer",e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t.name=yr.nodeset2data(me("name",a,[])),t}())),e["data-metrika-click"]="count",e["data-metrika-params"]=yr.externals.join(yr.array2nodeset(function(){var t=[];return t.push("interface elements,public content,view in DV"),t.push("experiments,open in DV,click on icon"),t}()),"|"),t.attrs=e,t}())):t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="s",t.icon="eye",t.content="Просмотреть",t.disabled=!0,t}())),s+="</div>")),de(t.s(cs,a))&&(s+='<div class="aside-public__warning aside-public__warning_limited">',s+="Скорость скачивания снижена до&#160;64&#160;кбит/с.",s+="</div>"),s+="</div>"},we.t1763.j=Xr,we.t1763.a=0,we.t1764=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o=t.n(bn,i),c=t.n(ls,t.k("k24","userCurrent",a.doc.root)),l=t.n(ds,t.k("k24","environment",a.doc.root));return s+=he(r),s+='<div class="aside-public__share">',s+='<div class="aside-public__title-share">',ce("dir",me("type",a,[]))?s+="Поделиться ссылкой на папку":ce("file",me("type",a,[]))&&(s+="Поделиться ссылкой на  файл"),s+="</div>",s+='<div class="aside-public__short-url">',s+=t.f("f757",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="js-popup-share";var n={};return n["class"]="aside-public__popup-share",e.popup=n,e["link-public"]=yr.nodeset2data(t.s(us,a)),e["button-copy"]=!0,e}())),s+=t.f("f739",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="js-public-link",e.content=yr.nodeset2data(t.s(us,a));var n={};return n.readonly=!0,e.attrs=n,e}())),s+="</div>",s+=t.f("f758",a,e,n,r,yr.object2nodeset(function(){var e={};de(t.s(Ur,a.doc.root))&&(e.size="l"),e.resource=yr.nodeset2data(me("id",a,[]));var n={};n["public"]=!0,n.short_url=yr.nodeset2data(t.s(us,a)),n.urlQrApi=yr.nodeset2data(t.n(bs,i)),e.qrcode=n;var n={},r=[];if(ce("ru",o)||ce("ua",o)){if(r.push("vkontakte"),r.push("facebook"),r.push("odnoklassniki"),de(c)&&!ce("Safari",l)){var s="";s+="mail",r.push(s)}r.push("mailru")}else if(ce("com",o)||ce("com.tr",o)){if(r.push("facebook"),de(c)&&!ce("Safari",l)){var s="";s+="mail",r.push(s)}r.push("gplus"),r.push("twitter")}return n.visible=r,e.services=n,e.metrika="interface elements,public sidebar,link sharing attempt",e}())),s+="</div>"},we.t1764.j=Xr,we.t1764.a=0,we.t1765=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o="";o+='<a class="_link" href="'+be(t.n(Jr,i))+'" target="_blank">',o+="Dr.Web",o+="</a>";var c=o;return s+=he(r),s+=t.f("f761",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="aside-public__details";var n=[],r={};if(r.name=yr.externals.capitalize(ye("владелец")),r["description-text"]=yr.nodeset2data(t.s(vs,a)),n.push(r),de(t.s(fs,a))){var r={};r.name=yr.externals.capitalize(ye("размер")),r["description-text"]=yr.externals.formatSpace(be(t.s(fs,a))),n.push(r)}if(_e("mtime",a)){var r={},s="",i={a:{}};s+=he(i),s+=ce("file",me("type",a,[]))?yr.externals.capitalize(ye("изменён")):yr.externals.capitalize(ye("изменена")),r.name=s,r["description-text"]=yr.externals.timestampToDate(pe("mtime",a),"DD.MM.YYYY HH:mm"),n.push(r)}if(de(t.s(ys,a))&&de(t.s(us,a))){var r={},s="",i={a:{}};s+=he(i),s+=ce("file",me("type",a,[]))?yr.externals.capitalize(ye("скачан")):yr.externals.capitalize(ye("скачана")),r.name=s,r["description-text"]=__i18n__.i18n.convert(["один раз",yr.externals.entityify(be(t.s(ys,a)))+" раз",yr.externals.entityify(be(t.s(ys,a)))+" раза",yr.externals.entityify(be(t.s(ys,a)))+" раз"],yr.externals.entityify(be(t.s(ys,a)))),n.push(r)}if(de(t.s(ps,a))&&de(t.s(us,a))){var r={};r.name=yr.externals.capitalize(ye("cсылка просмотрена")),r["description-text"]=__i18n__.i18n.convert(["один раз",yr.externals.entityify(be(t.s(ps,a)))+" раз",yr.externals.entityify(be(t.s(ps,a)))+" раза",yr.externals.entityify(be(t.s(ps,a)))+" раз"],yr.externals.entityify(be(t.s(ps,a)))),n.push(r)}if(ce(1,t.s(Zr,a))&&!de(t.s(Ur,a.doc.root))){var r={};r["description-text"]="Вирусов не обнаружено",n.push(r);var r={};r["description-content"]="Проверено "+c,n.push(r)}return e.items=n,e}()))},we.t1765.j=Xr,we.t1765.a=0,we.t1766=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-checkbox-resource js-resource-checkbox")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("theme",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-checkbox-resource_theme_"+be(me("theme",a,[]))):new yr.scalarAttr(" nb-checkbox-resource_theme_"+be(me("theme",a,[])))}if(_e("selected",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-checkbox-resource_selected"):new yr.scalarAttr(" nb-checkbox-resource_selected")}return s+=he(r),s+=t.f("f738",a,e,n,r,yr.object2nodeset(function(){var t={};t["class"]="nb-checkbox-resource__checkbox",_e("checked",a)&&(t.checked=!0);var e={};return e.tabindex="-1",t.attrs=e,t}())),s+="</div>"},we.t1766.j=_s,we.t1766.a=0,we.t1767=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("icon-start-play")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="start-play",t.size=yr.nodeset2data(me("size",a,[])),t["class"]="nb-icon_start-play nb-icon_size_"+be(me("size",a,[]))+" icon-start-play__icon",t}())),s+="</div>"},we.t1767.j=ms,we.t1767.a=0,we.t1768=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource _init nb-icon-resource_size-"+be(me("size",a,[])))},r.s="div",_e("clickable",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource_clickable"):new yr.scalarAttr(" nb-icon-resource_clickable")}return r.a["data-nb"]=new yr.scalarAttr("icon-resource"),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(t.s(qe,a))),s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__wrap")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-icon-resource-icon",r),t.f("f773",a,e,n)&&(s+=t.a(t,0,t.s(qe,a),"nb-icon-resource-preview",r)),s+=he(r),s+="</div>",s+="</div>"},we.t1768.j=hs,we.t1768.a=0,we.t1769=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_preview")},r.s="div",ce("document",me("type",a,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_document"):new yr.scalarAttr(" nb-icon-resource__image_document")}if(ce("dark",me("theme",a,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_no-outline"):new yr.scalarAttr(" nb-icon-resource__image_no-outline")}if(_e("icon-video",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_video"):new yr.scalarAttr(" nb-icon-resource__image_video"),s+=he(r),s+=t.f("f771",a,e,n,r,yr.object2nodeset(function(){var t={};return t["class"]="nb-icon-resource__icon-start-play",t.size=yr.nodeset2data(me("size-icon-video",a,[])),t}()))}return s+=he(r),_e("checkbox",a)&&(s+=t.f("f769",a,e,n,r,yr.object2nodeset(function(){var t={};return t.selected=yr.nodeset2data(me("selected",a,[])),t}()))),s+=t.f("f770",a,e,n,r,function(){var t={};return t["class"]="nb-icon-resource__public",t.published=yr.nodeset2data(me("published",a,[])),t}()),s+='<img class="nb-icon-resource__img nb-icon-resource__img_size-'+ue(me("size",a,[]))+" js-icon-preview"+'" data-src="'+ue(me("preview",a,[]))+'" src="'+"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"+'"/>',s+="</div>"},we.t1769.j=hs,we.t1769.a=0,we.t1770=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_icon nb-icon-resource__image_icon-"+be(me("icon",a,[])))},r.s="div",ce("xs",me("size",a,[]))||ce("xxs",me("size",a,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_icon-"+be(me("icon",a,[]))+"_small"):new yr.scalarAttr(" nb-icon-resource__image_icon-"+be(me("icon",a,[]))+"_small")}if(!ce("dir",me("type",a,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_file"):new yr.scalarAttr(" nb-icon-resource__image_file")}return s+=he(r),_e("checkbox",a)&&(s+=t.f("f769",a,e,n,r,yr.object2nodeset(function(){var t={};return t.selected=yr.nodeset2data(me("selected",a,[])),t}()))),t.f("f773",a,e,n)||(s+=t.f("f770",a,e,n,r,function(){var t={};return t["class"]="nb-icon-resource__public",t.published=yr.nodeset2data(me("published",a,[])),t}())),s+="</div>"},we.t1770.j=ws,we.t1770.a=0,we.t1771=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("logo-yandex")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=t.a(t,0,t.s(qe,a),"logo-yandex__content",r),s+=he(r),s+="</div>"},we.t1771.j=gs,we.t1771.a=0,we.t1772=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f775",a,e,n,r,function(){var t={};return t.size="normal",t.lang=yr.nodeset2data(me("lang",a,[])),t.theme=yr.nodeset2data(me("theme",a,[])),t}())},we.t1772.j=gs,we.t1772.a=0,we.t1773=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f775",a,e,n,r,function(){var t={};return t.size="small",t.lang=yr.nodeset2data(me("lang",a,[])),t.theme=yr.nodeset2data(me("theme",a,[])),t}()),s+='<div class="logo-yandex__host">',s+=le(me("hostPDD",a,[])),s+="</div>"},we.t1773.j=xs,we.t1773.a=0,we.t1774=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<form",r.a={method:new yr.scalarAttr("POST"),"data-nb":new yr.scalarAttr("form-auth")},r.s="form",_e("isMobile",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" form-auth_mobile"):new yr.scalarAttr(" form-auth_mobile")}return s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=t.a(t,0,t.s(qe,a),"nb-form-auth-content",r),s+=he(r),s+="</form>"},we.t1774.j=js,we.t1774.a=0,we.t1775=function(t,a,e,n,r){var s="",i="";i+=_e("isMobile",a)?"nb-form-auth__input-mobile":"nb-form-auth__input";var o=i;return s+=he(r),_e("loginReadonly",a)?(s+='<div class="nb-form-auth__input nb-form-auth__input_readonly">',s+=le(me("loginReadonly",a,[])),s+="</div>",s+='<input type="hidden" name="login" value="'+ue(me("loginReadonly",a,[]))+'"/>'):s+=t.f("f739",a,e,n,r,yr.object2nodeset(function(){var e={};if(e.size="m",e["class"]=o,de(t.s(ks,a)))e.error=yr.nodeset2data(t.s(ks,a));else if(!_e("isMobile",a)){var n={};n.content=!0,e.error=n}var n={};return n.placeholder="Логин",n.name="login",n.value=yr.nodeset2data(t.s(zs,a)),e.attrs=n,e}())),s+=t.f("f739",a,e,n,r,yr.object2nodeset(function(){var e={};if(e.size="m",e["class"]=o,de(t.s(Cs,a)))e.error=yr.nodeset2data(t.s(Cs,a));else if(!_e("isMobile",a)){var n={};n.content=!0,e.error=n}return e.attrs=yr.nodeset2data(yr.externals["nb-extend"](yr.object2nodeset(function(){var e={};return e.placeholder="Пароль",e.name="password",e.type="password",e.value=yr.nodeset2data(t.s(Ms,a)),e}()))),e}())),_e("isMobile",a)||(s+='<div class="nb-form-auth__line">',s+='<a href="'+ue(me("restore",a,[]))+'" class="'+"_link nb-form-auth__remind"+'">',s+="Напомнить пароль",s+="</a>",s+=t.f("f738",a,e,n,r,yr.object2nodeset(function(){var t={};return t.content="Чужой компьютер",t.size="s",t.name="other-computer",t}())),s+="</div>"),s+='<div class="nb-form-auth__line nb-form-auth__line_submit">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};t.content="Войти",t.size="m",t.theme="action",t["class"]="nb-form-auth__submit";var a={};return a.type="submit",t.attrs=a,t}())),s+=t.a(t,0,t.s(Ps,a),"nb-form-auth-social-buttons",r),s+="</div>",_e("register",a)&&(s+='<div class="nb-form-auth__line nb-form-auth__line_register">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};t.type="link",t.theme="pseudo",t.content="Зарегистрироваться",t.size="s",t["class"]="nb-form-auth__sign-in js-register js-register-auth";var e={};return e.href=yr.nodeset2data(me("register",a,[])),t.attrs=e,t}())),s+="</div>"),s},we.t1775.j=js,we.t1775.a=0,we.t1776=function(t,a,e,n,r){var s="";s+=he(r),s+='<div class="nb-form-auth__social">';for(var i=t.s(Ss,a),o=0,c=i.length;c>o;o++){var l=i[o],d=t.s(qe,l);s+=t.f("f753",l,o,c,r,yr.object2nodeset(function(){var t={};t.icon=yr.nodeset2data(d),t.size="l",t.theme="gray",t["class"]="nb-form-auth__icon-social js-link-social",t.rounded=!0;var a={};return a["data-service"]=yr.nodeset2data(d),t.attrs=a,t}()))}if(t.s(Ds,a).length){var u="popup-face-social-"+yr.externals["nb-uniq"]();s+="<div",r.a={"class":new yr.scalarAttr("nb-form-auth__toggler-popup-social")},r.s="div",r.a["data-nb"]=new yr.scalarAttr("popup-toggler"),r.a["data-nb-popup-toggler"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=u,t.how="fixed",t}()))),s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="three-dots",t["class"]="nb-form-auth__icon-more nb-icon_social",t}())),s+=t.f("f729",a,e,n,r,yr.object2nodeset(function(){var e={};e.id=u,e.withoutTail=!0,e["class"]="nb-popup_form-auth";var n="",r={a:{}};return n+=t.a(t,0,t.s(qe,a),"nb-form-auth-popup-social",r),e.content=n,e}())),s+="</div>"}return s+="</div>"},we.t1776.j=js,we.t1776.a=0,we.t1777=function(t,a,e,n,r){var s="";s+=he(r);for(var i=t.s(Ds,a),o=0,c=i.length;c>o;o++){var l=i[o],d=t.s(qe,l);s+="<div",r.a={"class":new yr.scalarAttr("nb-form-auth__popup-line js-link-social")},r.s="div",r.a["data-service"]=new yr.scalarAttr(be(d)),s+=he(r),s+=t.f("f753",l,o,c,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(d),t.size="xs",t.content=yr.externals.getTitleSocial(be(d)),t}())),s+="</div>"}return s},we.t1777.j=js,we.t1777.a=0,we.t1778=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f730",a,e,n,r,yr.object2nodeset(function(){var r={};r["static"]=!0,r.theme="default",r["class"]="popup-copy-auth";var s="",i={a:{}};s+=he(i),s+=t.f("f778",a,e,n,i),s+=t.f("f779",a,e,n,i),r.content=s;var s={},i={a:{}};s["class"]="ns-action";var o={};return o["data-click-action"]="dialog-auth.close",o["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.type=yr.nodeset2data(me("type",a,[])),t}())),s.attrs=o,r.close=s,r}()))},we.t1778.j=Ts,we.t1778.a=0,we.t1779=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o=t.k("k24","environment",a.doc.root);t.k("k24","userCurrent",a.doc.root);var c=t.k("k24","stateDialogAuth",a.doc.root),l=t.k("k24","resource",a.doc.root),d="";d+=de(t.n(is,l))?"copy-public-limit":"copy-public";var u=d,d="";d+=be(t.n(ns,i))+"/copy?hash="+yr.externals.encodeURIComponent(be(t.n(Hs,l))),d+="&sk="+be(t.n(Es,i)),d+="&source="+u;var b=d,v=yr.externals.replaceParam(yr.externals.replaceParam(be(t.n(Fs,i)),"origin",u),"retpath",b);return s+=he(r),s+=t.f("f777",a,e,n,r,yr.object2nodeset(function(){var r={};r.type="copy";var s="",d={a:{}};s+=he(d),s+=t.f("f772",a,e,n,d,yr.object2nodeset(function(){var a={};a.size="xl",a.icon=yr.nodeset2data(t.n(Se,l));var e="";return e+=ce("file",t.n(Me,l))?"dialog-auth-copy__icon-file":"dialog-auth-copy__icon-dir",a["class"]=e,a}())),r.previewContent=s;var s="",d={a:{}};s+=he(d),s+=ce("file",t.n(Me,l))?'<span class="b-text_bold"> Сохранение файла </span> на ваш Диск':'<span class="b-text_bold"> Сохранение папки </span> на ваш Диск',r.title=s;var s="",d={a:{}};s+=he(d),s+=ce("file",t.n(Me,l))?'<span class="dialog-auth-copy__name">«'+yr.externals.entityify(be(t.n(ke,l)))+"»"+"</span>"+" сохранится после авторизации или регистрации на Яндексе.":'<span class="dialog-auth-copy__name">«'+yr.externals.entityify(be(t.n(ke,l)))+"»"+"</span>"+" сохранится после авторизации или регистрации на Яндексе.",r.description=s;var s={},d={a:{}};return s.action=yr.externals.replaceParam(be(t.n(Ls,i)),"retpath",b),de(t.n(Vs,o))||(s["data-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.retpath=be(t.n(tn,i))+"/auth/retpath/close_broker.html",a}()))),r.attrs=s,r.restore=yr.nodeset2data(t.n(Rs,i)),r.register=v,r.locale=yr.nodeset2data(t.n(Bs,o)),r.tld=yr.nodeset2data(t.n(bn,i)),r.error=yr.nodeset2data(t.n(Ge,c)),r.login=yr.nodeset2data(t.n(sn,c)),r.password=yr.nodeset2data(t.n(ln,c)),r}()))},we.t1779.j=qs,we.t1779.a=0,we.t1780=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o=t.k("k24","environment",a.doc.root);t.k("k24","userCurrent",a.doc.root);var c=t.k("k24","stateDialogAuth",a.doc.root),l=t.n(Bs,o),d=t.n(bn,i),u=t.n(Ge,c),b=t.n(sn,c),v=t.n(ln,c);return s+=he(r),s+=t.f("f730",a,e,n,r,yr.object2nodeset(function(){var r={};r["static"]=!0,r.theme="default",r["class"]="dialog-auth";var s="",c={a:{}};return s+=he(c),s+='<div class="dialog-auth__roof"></div>',s+='<div class="dialog-auth__content">',s+=t.f("f774",a,e,n,c,yr.object2nodeset(function(){var t={},a="";return a+=ce("ru",l)||ce("uk",l)?"ru":"en",t.lang=a,t["class"]="dialog-auth__logo",t}())),s+=t.f("f776",a,e,n,c,yr.object2nodeset(function(){var a={};a["class"]="js-form";var e={};if(de(t.n(Vs,o))||(e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.retpath=be(t.n(tn,i))+"/auth/retpath/close_broker.html",a}()))),e.action=yr.nodeset2data(t.n(Ls,i)),a.attrs=e,de(t.n(sn,u))){var e={};e.value=yr.nodeset2data(b);var n={};n.content=yr.externals.getMessageError(be(t.n(Ys,u))),e.error=n,a.login=e}else{var e={};e.value=yr.nodeset2data(b),a.login=e}if(de(t.n(ln,u))){var e={};e.value=yr.nodeset2data(v);var n={};n.content=yr.externals.getMessageError(be(t.n(Is,u))),e.error=n,a.password=e}else{var e={};e.value=yr.nodeset2data(v),a.password=e}a.restore=yr.nodeset2data(t.n(Rs,i)),a.register=ce("not-found",t.n(Ns,o))?yr.externals.replaceParam(be(t.n(Fs,i)),"retpath",yr.externals.replaceParam(be(t.n(ns,i)),"source","public-notfound")):yr.nodeset2data(t.n(Fs,i));var e={};if(ce("ru",d)||ce("ua",d)){var n=[];n.push("vkontakte"),n.push("facebook"),n.push("twitter"),e.visible=n;var n=[];n.push("google"),n.push("odnoklassniki"),e.hidden=n}else{var n=[];n.push("facebook"),n.push("twitter"),n.push("google"),e.visible=n}return a.services=e,a}())),s+="</div>",r.content=s,r.close=!1,r}()))},we.t1780.j=Os,we.t1780.a=0,we.t1781=function(t,a,e,n,r){var s="";return s+=he(r),s+="<iframe",r.a={scrolling:new yr.scalarAttr("no")},r.s="iframe",r.a["class"]=new yr.scalarAttr("yandex-direct yandex-direct_"+be(me("type",a,[]))),r.a.src=new yr.scalarAttr("/direct.html?type="+be(me("type",a,[]))),s+=he(r),s+="</iframe>"},we.t1781.j=Qs,we.t1781.a=0,we.t1782=function(t,a,e,n,r){var s="";return s+=he(r),s+=" direct-aside-public"},we.t1782.j=Gs,we.t1782.a=0,we.t1783=function(t,a,e,n,r){var s="",i=t.n(Us,t.k("k24","config",a.doc.root)),o=t.k("k24","resource",a.doc.root);return s+=he(r),!ce("ua",i)&&!ce("ru",i)||ce("dir",t.n(Me,o))||ce("image",t.n(Xs,o))||(s+=t.f("f780",a,e,n,r,yr.object2nodeset(function(){var t={};return t.type="rtb",t}()))),s},we.t1783.j=Gs,we.t1783.a=0,we.t1784=function(t,a,e,n,r){var s="",i=t.n(bn,t.k("k24","config",a.doc.root));return s+=he(r),(ce("ru",i)||ce("ua",i))&&(s+=" direct-content-public"),s},we.t1784.j=Ws,we.t1784.a=0,we.t1785=function(t,a,e,n,r){var s="",i=t.n(Us,t.k("k24","config",a.doc.root));return s+=he(r),(ce("ru",i)||ce("ua",i))&&(s+=t.f("f780",a,e,n,r,yr.object2nodeset(function(){var t={};return t.type="row",t}()))),s},we.t1785.j=Ws,we.t1785.a=0,we.t1786=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-loader-thin nb-loader-thin_"+be(me("size",a,[]))+" "),"data-nb":new yr.scalarAttr("loader-thin")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("centered",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-loader-thin_centered"):new yr.scalarAttr(" nb-loader-thin_centered")}return s+=he(r),s+='<div class="nb-loader-thin__spinner">',s+='<div class="nb-loader-thin__circle"></div>',s+="</div>",_e("content",a)&&(s+='<span class="nb-loader-thin__text js-text">',s+=pe("content",a),s+="</span>"),s+="</div>"},we.t1786.j=Ks,we.t1786.a=0,we.t1787=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="preview-resource__content">',s+='<div class="preview-resource__image-wrapper">',s+="<img",r.a={"class":new yr.scalarAttr("preview-resource__image js-preview-resource__image "+be(me("img-class",a,[])))},r.s="img",r.a.src=new yr.scalarAttr(pe("img-src",a)),s+=he(r),s+="",s+='<span class="preview-resource__button">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="s",t.icon="eye",t.content="Просмотреть",t}())),s+="</span>",s+="</div>",s+="</div>"},we.t1787.j=Zs,we.t1787.a=0,we.t1788=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="preview-resource__content">',s+="<img",r.a={"class":new yr.scalarAttr("preview-resource__image js-preview-resource__image "+be(me("img-class",a,[])))},r.s="img",r.a.src=new yr.scalarAttr(pe("img-src",a)),s+=he(r),s+="",s+="</div>",s+='<div class="preview-resource__zoom js-preview-resource__zoom _hidden">',s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var t={};return t.icon="zoom-white",t.size="m",t["class"]="file-public__zoom",t}())),s+="</div>"},we.t1788.j=Js,we.t1788.a=0,we.t1789=function(t,a,e,n,r){var s="";return t.n(Xs,t.k("k24","resource",a.doc.root)),s+=he(r),s+=" file-public"},we.t1789.j=$s,we.t1789.a=0,we.t1790=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.k("k24","resource",a.doc.root),"file-public",r)},we.t1790.j=$s,we.t1790.a=0,we.t1791=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f772",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(me("icon",a,[])),t}()))},we.t1791.j=Xr,we.t1791.a=0,we.t1792=function(t,a,e,n,r){var s="",i={};i["data-click-action"]="resource.view-docviewer",i["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t.name=yr.nodeset2data(me("name",a,[])),t}())),i["data-metrika-click"]="count",i["data-metrika-params"]=yr.externals.join(yr.array2nodeset(function(){var t=[];return t.push("interface elements,public content,view in DV"),t.push("experiments,open in DV,click on icon"),t}()),"|");var o=i;return s+=he(r),s+='<div class="file-public__wrapper-button-preview">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="s",t.icon="eye",t.content="Просмотреть",t["class"]="ns-action",t.attrs=o,t}())),s+="</div>",s+=t.f("f772",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(me("icon",a,[])),t["class"]="file-public__icon file-public__icon_viewable ns-action",t.attrs=o,t}()))},we.t1792.j=ti,we.t1792.a=0,we.t1793=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f772",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon="virus",t}()))},we.t1793.j=ai,we.t1793.a=0,we.t1794=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="preview-responsive__image-wrapper">',s+=t.f("f782",a,e,n,r,yr.object2nodeset(function(){var e={};e["img-src"]=yr.nodeset2data(t.s(ri,a)),e["img-class"]="js-preview";var n={},r={};return r["class"]="ns-action",r["data-click-action"]="resource.view-docviewer",r["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t.name=yr.nodeset2data(me("name",a,[])),t}())),r["data-metrika-click"]="count",r["data-metrika-params"]=yr.externals.join(yr.array2nodeset(function(){var t=[];return t.push("interface elements,public content,view in DV"),t.push("experiments,open in DV,click view button"),t}()),"|"),n.attrs=r,e["preview-resource"]=n,e}())),s+='<div class="file-public__loader _hidden js-loader">',s+=t.f("f781",a,e,n,r),s+="</div>",s+="</div>"},we.t1794.j=ni,we.t1794.a=0,we.t1795=function(t,a,e,n,r){var s="";return s+=he(r),s+='<div class="preview-responsive__image-wrapper">',s+=t.f("f782",a,e,n,r,yr.object2nodeset(function(){var e={};e["img-src"]=yr.nodeset2data(t.s(ri,a)),e["img-class"]="js-preview";var n={};n["class"]="ns-action";var r={};return r["data-click-action"]="resource.show-fullsize",r["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t}())),n.attrs=r,e["preview-resource"]=n,e.type="image",e}())),s+='<div class="file-public__loader _hidden js-loader">',s+=t.f("f781",a,e,n,r),s+="</div>",s+="</div>"},we.t1795.j=si,we.t1795.a=0,we.t1796=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.s(oi,a.doc.root),"ns-view",r)},we.t1796.j=ii,we.t1796.a=0,we.t1797=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("file-public__video-wrapper js-container-video")},r.s="div",s+=t.a(t,0,t.s(li,a.doc.root),"ns-view",r),s+=he(r),s+='<img class="file-public__image js-preview-video _hidden" src="'+ue(t.s(ri,a))+'"/>',s+="</div>"},we.t1797.j=ci,we.t1797.a=0,we.t1798=function(t,a,e,n,r){function s(t,a,e,n,r){r=void 0===r?[]:r;for(var s=[],i=me("current",a,[]),o=r,c=0,l=o.length;l>c;c++){var d=o[c],u="";u+="ns-action b-switcher-locale__item",oe(i,t.s(qe,d))&&(u+=" b-switcher-locale__item_current");var b=u,u={},v="",f={a:{}};v+=t.a(t,0,t.s(qe,d),"nb-switcher-locale-content",f),u.content=v,u["class"]=b;var v={},f={a:{}};v["data-click-action"]="locale.set",v["data-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.locale=yr.nodeset2data(t.s(qe,d)),a}())),u.attrs=v,u.href=be(me("tune",d.doc.root,[]))+"&intl="+be(t.s(qe,d)),s.push(u)}return s}var i="",o=yr.externals["nb-uniq"]();return i+=he(r),i+="<a",r.a={"data-nb":new yr.scalarAttr("popup-toggler"),"class":new yr.scalarAttr("b-switcher-locale"),"data-nb-popup-toggler":new yr.scalarAttr("{id: 'b-switcher-locale__popup-"+o+"', how: { at: 'top', my: 'bottom' }}")},r.s="a",i+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),i+=t.a(t,0,me("current",a,[]),"nb-switcher-locale-content",r),i+=he(r),i+="</a>",i+=t.f("f728",a,e,n,r,yr.object2nodeset(function(){var r={};return r.id="b-switcher-locale__popup-"+o,r["class"]="b-switcher-locale__popup",r.tail="bottom",r.menu=s(t,a,e,n,me("available",a,[])),r}()))},we.t1798.j=di,we.t1798.a=0,we.t1799=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f723",a,e,n,r,yr.object2nodeset(function(){var e={};return e.icon="lang",e["class"]="nb-icon nb-icon_lang nb-icon_size_s b-switcher-locale__icon-lang b-switcher-locale__icon-lang-"+be(t.s(qe,a)),e}())),s+=" ",s+=yr.externals.capitalize(be(t.s(qe,a)))},we.t1799.j=je,we.t1799.a=0,we.t1800=function(t,a,e,n,r){var s="";s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("footer")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),_e("content",a)&&(s+=pe("content",a)),s+='<div class="footer__copyright">',s+="© 2012—"+fe(yr.externals.getFullYear())+" ",s+='<span class="footer__yandex">',s+="«",s+='<a href="'+ue(me("linkYandex",a,[]))+'" class="'+"footer__link footer__link_yandex _link"+'">',s+="Яндекс",s+="</a>",s+="»",s+="</span>",s+=t.f("f783",a,e,n,r,function(){var e={};return e["class"]="footer__switcher",e.current=yr.nodeset2data(t.s(bi,a)),e.tune=yr.nodeset2data(t.s(vi,a)),e.available=yr.nodeset2data(t.s(fi,a)),e}()),s+="</div>",s+='<div class="footer__links">';for(var i=t.s(yi,a),o=0,c=i.length;c>o;o++){var l=i[o];s+="<a",r.a={"class":new yr.scalarAttr("footer__link _link"),href:new yr.scalarAttr(be(me("href",l,[]))),target:new yr.scalarAttr("_blank")},r.s="a",_e("paramsMetrika",l)&&(r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr(pe("paramsMetrika",l))),s+=he(r),s+=fe(l.name),s+="</a>"}return s+="</div>",s+="</div>"},we.t1800.j=ui,we.t1800.a=0,we.t1801=function(t,a,e,n,r){var s="",i=t.k("k24","config",a.doc.root),o=t.k("k24","environment",a.doc.root),c=t.k("k24","resource",a.doc.root);return s+=he(r),s+=t.f("f784",a,e,n,r,function(){var e={};de(t.s(Ur,a.doc.root))&&(e["class"]="footer_poster");var n={};n.current=yr.nodeset2data(t.n(Bs,o)),n.tune=be(t.n(_i,i))+"?&sk="+be(t.n(mi,i)),n.available=yr.nodeset2data(t.n(hi,i)),e.switcher=n,e.linkYandex=yr.nodeset2data(t.n(wi,i));var n={},r={};if(r.href=yr.nodeset2data(t.n(gi,i)),n[ye("Помощь")]=r,ce("dir",t.n(Me,c))||ce("image",t.n(Xs,c))||ce("video",t.n(Xs,c))){var r={};r.href=yr.nodeset2data(t.n(Ai,i)),n[ye("Пожаловаться")]=r}return e.links=n,e}())},we.t1801.j=pi,we.t1801.a=0,we.t1802=function(t,a,e,n,r){var s="",i="";i+=ce("white",me("theme",a,[]))?"#fff":"#fc0";var o=i,i="";i+=ce("white",me("theme",a,[]))?"none":"#fff";var c=i,i="";i+=ce("s",me("size",a,[]))?1:2;var l=i,i="";i+=ce("s",me("size",a,[]))?28:32;var d=i;return s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("arrow-service arrow-service_"+be(me("theme",a,[]))+" arrow-service_"+be(me("size",a,[])))},r.s="span",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<span class="arrow-service__label">',s+=le(me("content",a,[])),s+="</span>",s+='<span class="arrow-service__arrow">',s+='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="'+ve(d)+'">',s+='<path stroke="'+ve(o)+'" fill="'+ve(c)+'" id="'+"bezier-path"+'" stroke-width="'+ve(l)+'" d="'+"M0,0,9 "+ve(d/2)+", 0 "+ve(d)+'"></path>',s+="</svg>",s+="</span>",s+="</span>"},we.t1802.j=xi,we.t1802.a=0,we.t1803=function(t,a,e,n,r){var s="";return s+=he(r),s+="<form",r.a={"class":new yr.scalarAttr("nb-form-search js-search")},r.s="form",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+=t.f("f785",a,e,n,r,function(){var t={};t.content="Диск";var e="";return e+=_e("disabled",a)?"":"js-arrow",t["class"]=e,t}()),s+=t.f("f740",a,e,n,r,yr.object2nodeset(function(){var t={},e={};if(e.size="m",e["class"]="js-query",ce("/trash",me("scopeSearch",a,[]))){var n={};n.placeholder="Поиск по Корзине",e.attrs=n}else if(ce("/mail",me("scopeSearch",a,[]))){var n={};n.placeholder="Поиск по вложениям",e.attrs=n}e.disabled=yr.nodeset2data(me("disabled",a,[])),t.input=e;var e={};e.size="s",e.content="Найти",e.theme="pseudo",e["class"]="js-button-submit";var n={};return n.type="submit",e.attrs=n,e.disabled=yr.nodeset2data(me("disabled",a,[])),t.button=e,t}())),s+='<div class="nb-form-search__clear-w">',s+='<span class="nb-form-search__clear js-clear"></span>',s+="</div>",s+="</form>"},we.t1803.j=ji,we.t1803.a=0,we.t1804=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f786",a,e,n,r,function(){var e={};return e["class"]="js-prevent-deselect",e.scopeSearch=yr.nodeset2data(t.s(zi,a.doc.root)),e.disabled=yr.nodeset2data(t.n(Ci,t.k("k24","environment",a.doc.root))),e}())},we.t1804.j=ki,we.t1804.a=0,we.t1805=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("popup-account _hidden _init"),"data-nb":new yr.scalarAttr("popup-account")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<div class="popup-account__top js-popup-top">',_e("accountsExtra",a)){for(var i=me("accountsExtra",a,[]),o=0,c=i.length;c>o;o++){var l=i[o];
s+="<div",r.a={"class":new yr.scalarAttr("popup-account__user js-link-switch-account")},r.s="div",r.a["data-uid"]=new yr.scalarAttr(pe("uid",l)),s+=he(r),s+=t.f("f750",l,o,c,r,yr.object2nodeset(function(){var t={};return t.size="s",t.username=yr.nodeset2data(me("name",l,[])),t.userpic=yr.nodeset2data(me("avatar",l,[])),t.justify=!0,t}())),s+="</div>"}s+='<a class="popup-account__add-user js-add-account" href="'+ue(t.s(Pi,a))+'" data-params="'+"add account"+'">',s+='<div class="popup-account__icon-add"></div>',s+="Добавить пользователя",s+="</a>"}else s+="<div",r.a={"class":new yr.scalarAttr("popup-account__close-top js-close-top")},r.s="div",r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("interface elements,login popup,click,close promo"),s+=he(r),s+="</div>",s+='<div class="popup-account__desc">',s+="Работайте с несколькими Дисками одновременно",s+="</div>",s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var e={};e.theme="action",e.content="Добавить",e.size="s",e["class"]="popup-account__button js-button-add",e.type="link";var n={};return n.href=yr.nodeset2data(t.s(Pi,a)),n["data-params"]="add account promo",e.attrs=n,e}()));return s+="</div>",s+='<div class="popup-account__bottom">',s+='<a class="popup-account__link" href="'+ue(t.s(Di,a))+'">',s+="Паспорт",s+="</a>",s+='<a class="popup-account__link js-logout" href="'+ue(t.s(Ti,a))+'" data-params="'+"logout"+'">',s+="Выход",s+="</a>",s+="</div>",s+="</div>"},we.t1805.j=Mi,we.t1805.a=0,we.t1806=function(t,a,e,n,r){var s="",i=t.k("k24","userCurrent",a.doc.root),o=t.k("k24","config",a.doc.root),c=t.k("k24","environment",a.doc.root),l=t.n(Bs,c);return s+=he(r),s+='<div class="b-header">',s+='<div class="b-header__user">',de(t.n(ls,i))?(s+=t.f("f750",a,e,n,r,yr.object2nodeset(function(){var a={};return a.username=yr.nodeset2data(t.n(ke,i)),a.userpic=yr.nodeset2data(t.n(Si,i)),a["class"]="js-toggle-popup",a}())),s+=t.f("f787",a,e,n,r,yr.object2nodeset(function(){var a={};a.accountsExtra=yr.nodeset2data(t.n(Hi,c));var e={};return e.logout=yr.nodeset2data(t.n(Ei,o)),e.auth=yr.nodeset2data(t.n(Ls,o)),e.home=yr.nodeset2data(t.n(Fi,o)),a.links=e,a["class"]="js-popup-account",a}()))):de(t.n(qi,o))&&(s+='<a class="_link ns-action" data-click-action="dialog-auth.show">',s+="Войти",s+="</a>"),s+="</div>",s+="<a",r.a={"class":new yr.scalarAttr("b-header__wrapper-logo js-logo"),title:new yr.scalarAttr(ye("Яндекс"))},r.s="a",r.a.href=new yr.scalarAttr(be(t.n(wi,o))),r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("interface elements,header yandex logo,click"),s+=he(r),s+=t.f("f774",a,e,n,r,yr.object2nodeset(function(){var a={},e="";e+=ce("ru",l)||ce("uk",l)?"ru":"en",a.lang=e;var e="";return e+="b-header__logo",de(t.n(Li,i))&&(e+=" b-header__logo_ddd"),a["class"]=e,de(t.n(Li,i))&&(a.hostPDD=yr.nodeset2data(t.n(As,i))),a}())),s+="</a>",t.s(mn,a.doc.root).length?(s+="<div",r.a={"class":new yr.scalarAttr("b-header__actions")},r.s="div",s+=t.a(t,0,t.s(mn,a.doc.root),"ns-view",r),s+=he(r),s+="</div>"):s+=t.f("f785",a,e,n,r,function(){var t={};t.content="Диск",t["class"]="ns-action";var a={};return a["data-click-action"]="listing.openFolder",a["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id="/disk",t}())),t.attrs=a,t}()),s+="</div>"},we.t1806.j=lr,we.t1806.a=0,we.t1807=function(t,a,e,n,r){var s="";return s+=he(r),s+=" notifications"},we.t1807.j=Vi,we.t1807.a=0,we.t1808=function(t,a,e,n,r){var s="";return s+=t.a(t,0,me("notification",a,[]),"",r)},we.t1808.j=1,we.t1808.a=1,we.t1809=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("notifications__item nb-island")},r.s="div",s+=t.a(t,0,t.s(qe,a),"notification-inner",r),s+=he(r),s+="</div>"},we.t1809.j=Ri,we.t1809.a=0,we.t1810=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.s(qe,a),"message",r)},we.t1810.j=Bi,we.t1810.a=0,we.t1811=function(t,a,e,n,r){var s="";return s+=he(r),s+="<a",r.a={href:new yr.scalarAttr("/client/trash"),"class":new yr.scalarAttr("notifications__item nb-island")},r.s="a",r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,trash"),s+=t.a(t,0,t.s(qe,a),"notification-inner",r),s+=he(r),s+="</a>"},we.t1811.j=Oi,we.t1811.a=0,we.t1812=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("notifications__text js-message")},r.s="div",s+=t.a(t,0,t.s(qe,a),"message",r),s+=he(r),s+="</div>"},we.t1812.j=Ri,we.t1812.a=0,we.t1813=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ii,a)))+"» перемещен в «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1813.j=Yi,we.t1813.a=0,we.t1814=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка «"+yr.externals.entityify(be(t.s(Ii,a)))+"» перемещена в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1814.j=Gi,we.t1814.a=0,we.t1815=function(t,a,e,n,r){var s="";return s+=he(r),s+="Перемещено "+__i18n__.i18n.convert(["один объект",yr.externals.entityify(pe("count",a))+" объект",yr.externals.entityify(pe("count",a))+" объекта",yr.externals.entityify(pe("count",a))+" объектов"],yr.externals.entityify(pe("count",a)))+" в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1815.j=Xi,we.t1815.a=0,we.t1816=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось переместить файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1816.j=Wi,we.t1816.a=0,we.t1817=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ii,a)))+"» перемещен в «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1817.j=Ji,we.t1817.a=0,we.t1818=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось переместить папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1818.j=$i,we.t1818.a=0,we.t1819=function(t,a,e,n,r){var s="";return s+=he(r),s+="Перемещение файла «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"» отменено"},we.t1819.j=to,we.t1819.a=0,we.t1820=function(t,a,e,n,r){var s="";return s+=he(r),s+="Перемещение папки «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"» отменено"},we.t1820.j=ao,we.t1820.a=0,we.t1821=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось очистить Корзину."},we.t1821.j=eo,we.t1821.a=0,we.t1822=function(t,a,e,n,r){var s="";return s+=he(r),s+="Корзина успешно очищена."},we.t1822.j=no,we.t1822.a=0,we.t1823=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"» был удален"},we.t1823.j=ro,we.t1823.a=0,we.t1824=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка «"+yr.externals.entityify(be(t.s(Ki,a)))+"» была удалена"},we.t1824.j=so,we.t1824.a=0,we.t1825=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1825.j=io,we.t1825.a=0,we.t1826=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1826.j=oo,we.t1826.a=0,we.t1827=function(t,a,e,n,r){var s="";return s+=he(r),ce("file",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один файл",yr.externals.entityify(pe("count",a))+" файл",yr.externals.entityify(pe("count",a))+" файла",yr.externals.entityify(pe("count",a))+" файлов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(pe("count",a)))),ce("dir",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(pe("count",a))+" папка",yr.externals.entityify(pe("count",a))+" папки",yr.externals.entityify(pe("count",a))+" папок"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(pe("count",a)))),ce("mix",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один объект",yr.externals.entityify(pe("count",a))+" объект",yr.externals.entityify(pe("count",a))+" объекта",yr.externals.entityify(pe("count",a))+" объектов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(pe("count",a)))),s},we.t1827.j=co,we.t1827.a=0,we.t1828=function(t,a,e,n,r){var s="";return s+=he(r),s+=yr.externals.entityify(pe("nameUser",a))+" больше не является участником папки «"+yr.externals.entityify(pe("nameFolder",a))+"»"},we.t1828.j=lo,we.t1828.a=0,we.t1829=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось переименовать файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1829.j=uo,we.t1829.a=0,we.t1830=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось переименовать папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1830.j=bo,we.t1830.a=0,we.t1831=function(t,a,e,n,r){var s="";return s+=he(r),s+="Название файла не может содержать символ «/»"},we.t1831.j=vo,we.t1831.a=0,we.t1832=function(t,a,e,n,r){var s="";return s+=he(r),s+="Название папки не может содержать символ «/»"},we.t1832.j=fo,we.t1832.a=0,we.t1833=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка с именем «"+yr.externals.entityify(pe("nameProposed",a))+"» уже существует"},we.t1833.j=yo,we.t1833.a=0,we.t1834=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл с именем «"+yr.externals.entityify(pe("nameProposed",a))+"» уже существует"},we.t1834.j=po,we.t1834.a=0,we.t1835=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"» удален в "+'<span class="notifications__link">'+"Корзину"+"</span>"},we.t1835.j=Oi,we.t1835.a=0,we.t1836=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка «"+yr.externals.entityify(be(t.s(Ki,a)))+"» удалена в "+'<span class="notifications__link">'+"Корзину"+"</span>"},we.t1836.j=_o,we.t1836.a=0,we.t1837=function(t,a,e,n,r){var s="";return s+=he(r),ce("file",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один файл",yr.externals.entityify(pe("count",a))+" файл",yr.externals.entityify(pe("count",a))+" файла",yr.externals.entityify(pe("count",a))+" файлов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(pe("count",a)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),ce("dir",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(pe("count",a))+" папка",yr.externals.entityify(pe("count",a))+" папки",yr.externals.entityify(pe("count",a))+" папок"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(pe("count",a)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),ce("mix",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один объект",yr.externals.entityify(pe("count",a))+" объект",yr.externals.entityify(pe("count",a))+" объекта",yr.externals.entityify(pe("count",a))+" объектов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(pe("count",a)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),s},we.t1837.j=mo,we.t1837.a=0,we.t1838=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ii,a)))+"» восстановлен"},we.t1838.j=ho,we.t1838.a=0,we.t1839=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось восстановить файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1839.j=wo,we.t1839.a=0,we.t1840=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка «"+yr.externals.entityify(be(t.s(Ii,a)))+"» восстановлена"},we.t1840.j=Ao,we.t1840.a=0,we.t1841=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось восстановить папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1841.j=xo,we.t1841.a=0,we.t1842=function(t,a,e,n,r){var s="";return s+=he(r),ce("file",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один файл",yr.externals.entityify(pe("count",a))+" файл",yr.externals.entityify(pe("count",a))+" файла",yr.externals.entityify(pe("count",a))+" файлов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(pe("count",a)))),ce("dir",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(pe("count",a))+" папка",yr.externals.entityify(pe("count",a))+" папки",yr.externals.entityify(pe("count",a))+" папок"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["восстановлена","восстановлена","восстановлены","восстановлены"],yr.externals.entityify(pe("count",a)))),ce("mix",me("typeResources",a,[]))&&(s+=__i18n__.i18n.convert(["один объект",yr.externals.entityify(pe("count",a))+" объект",yr.externals.entityify(pe("count",a))+" объекта",yr.externals.entityify(pe("count",a))+" объектов"],yr.externals.entityify(pe("count",a)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(pe("count",a)))),s},we.t1842.j=jo,we.t1842.a=0,we.t1843=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл «"+yr.externals.entityify(be(t.s(Ii,a)))+"» скопирован в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1843.j=ko,we.t1843.a=0,we.t1844=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка «"+yr.externals.entityify(be(t.s(Ii,a)))+"» скопирована в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1844.j=zo,we.t1844.a=0,we.t1845=function(t,a,e,n,r){var s="";return s+=he(r),s+="Скопировано "+__i18n__.i18n.convert(["один объект",yr.externals.entityify(pe("count",a))+" объект",yr.externals.entityify(pe("count",a))+" объекта",yr.externals.entityify(pe("count",a))+" объектов"],yr.externals.entityify(pe("count",a)))+" в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1845.j=Co,we.t1845.a=0,we.t1846=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось скопировать файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1846.j=Mo,we.t1846.a=0,we.t1847=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось скопировать папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"» в папку «"+yr.externals.entityify(be(t.n(ke,yr.externals.last(t.s(Ni,a)))))+"»"},we.t1847.j=Po,we.t1847.a=0,we.t1848=function(t,a,e,n,r){var s="";return s+=he(r),s+="Папка с именем «"+yr.externals.entityify(pe("nameFolderDst",a))+"» уже существует"},we.t1848.j=So,we.t1848.a=0,we.t1849=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось создать папку «"+yr.externals.entityify(pe("nameFolderDst",a))+"»"},we.t1849.j=Do,we.t1849.a=0,we.t1850=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл с именем «"+yr.externals.entityify(pe("nameDst",a))+"» уже существует"},we.t1850.j=To,we.t1850.a=0,we.t1851=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось загрузить файл «"+yr.externals.entityify(pe("nameDst",a))+"»"},we.t1851.j=qo,we.t1851.a=0,we.t1852=function(t,a,e,n,r){var s="";return s+=he(r),s+="Публичная ссылка на файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"» удалена"},we.t1852.j=Ho,we.t1852.a=0,we.t1853=function(t,a,e,n,r){var s="";return s+=he(r),s+="Публичная ссылка на папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"» удалена"},we.t1853.j=Eo,we.t1853.a=0,we.t1854=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось опубликовать файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1854.j=Fo,we.t1854.a=0,we.t1855=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось опубликовать папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1855.j=Lo,we.t1855.a=0,we.t1856=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить публичную ссылку на файл «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1856.j=Vo,we.t1856.a=0,we.t1857=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить публичную ссылку на папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1857.j=Ro,we.t1857.a=0,we.t1858=function(t,a,e,n,r){var s="";return s+=he(r),s+="Приглашение в папку «"+yr.externals.entityify(be(t.s(Ii,a)))+"» принято"},we.t1858.j=Bo,we.t1858.a=0,we.t1859=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось принять приглашение в папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1859.j=Oo,we.t1859.a=0,we.t1860=function(t,a,e,n,r){var s="";return s+=he(r),s+="Ваше приглашение в папку «"+yr.externals.entityify(pe("nameFolder",a))+"» было принято. "+yr.externals.entityify(pe("nameUser",a))+" теперь имеет доступ к файлам в ней."},we.t1860.j=Yo,we.t1860.a=0,we.t1861=function(t,a,e,n,r){var s="";return s+=he(r),s+="Приглашение в папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"» отклонено"},we.t1861.j=Io,we.t1861.a=0,we.t1862=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось отклонить приглашение в папку «"+yr.externals.entityify(be(t.s(Ki,a)))+"»"},we.t1862.j=No,we.t1862.a=0,we.t1863=function(t,a,e,n,r){var s="";return s+=he(r),s+="Приглашение отправлено"},we.t1863.j=Qo,we.t1863.a=0,we.t1864=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось отправить приглашение, попробуйте снова"},we.t1864.j=Go,we.t1864.a=0,we.t1865=function(t,a,e,n,r){var s="",i=[];i=_e("name",a)?me("name",a,[]):me("userid",a,[]);var o=i;return s+=he(r),s+="У "+yr.externals.entityify(be(o))+" уже есть Яндекс.Диск"},we.t1865.j=Uo,we.t1865.a=0,we.t1866=function(t,a,e,n,r){var s="";return s+=he(r),s+="Владелец закрыл доступ к папке «"+yr.externals.entityify(pe("nameFolder",a))+"». Она будет удалена с вашего Диска."},we.t1866.j=Xo,we.t1866.a=0,we.t1867=function(t,a,e,n,r){var s="";return s+=he(r),s+="Владелец закрыл доступ к папке «"+yr.externals.entityify(pe("nameFolder",a))+"». Она будет удалена с вашего Диска."},we.t1867.j=Wo,we.t1867.a=0,we.t1868=function(t,a,e,n,r){var s="";return s+=he(r),s+="Права доступа к папке «"+yr.externals.entityify(pe("nameFolder",a))+"» изменились: теперь у вас есть полный доступ."},we.t1868.j=Ko,we.t1868.a=0,we.t1869=function(t,a,e,n,r){var s="";return s+=he(r),s+="Права доступа к папке «"+yr.externals.entityify(pe("nameFolder",a))+"» изменились: вы можете только просматривать файлы."},we.t1869.j=Zo,we.t1869.a=0,we.t1870=function(t,a,e,n,r){var s="",i="",o={a:{}};i+=he(o),ce("odnoklassniki",me("service",a,[]))?i+="Одноклассников":ce("mailru",me("service",a,[]))?i+="Моего Мира":ce("vkontakte",me("service",a,[]))?i+="ВКонтакте":ce("facebook",me("service",a,[]))?i+="Facebook":ce("instagram",me("service",a,[]))?i+="Instagram":ce("google",me("service",a,[]))&&(i+="Google+");var c=i;return s+=he(r),s+="Фото из "+yr.externals.entityify(ye(c))+" загрузить не удалось"},we.t1870.j=Jo,we.t1870.a=0,we.t1871=function(t,a,e,n,r){var s="",i="",o={a:{}};i+=he(o),ce("odnoklassniki",me("service",a,[]))?i+="Одноклассников":ce("mailru",me("service",a,[]))?i+="Моего Мира":ce("vkontakte",me("service",a,[]))?i+="ВКонтакте":ce("facebook",me("service",a,[]))?i+="Facebook":ce("instagram",me("service",a,[]))?i+="Instagram":ce("google",me("service",a,[]))&&(i+="Google+");var c=i,i="",o={a:{}};i+=he(o),i+='<a class="_link" href="/client'+ue(me("idFolder",a,[]))+'">',i+=c,i+="</a>";var l=i;return s+=he(r),s+=_e("partial",a)?yr.externals.deentityify(ye("Из "+yr.externals.entityify(ye(l))+" удалось загрузить только часть фото")):_e("countTasks",a)?yr.externals.deentityify(ye("Фото из "+yr.externals.entityify(ye(l))+" загружены")):"Нет новых фото для загрузки из "+yr.externals.entityify(ye(c))},we.t1871.j=$o,we.t1871.a=0,we.t1872=function(t,a,e,n,r){var s="";return s+=he(r),s+="Ссылка с приглашением скопирована в буфер обмена"},we.t1872.j=tc,we.t1872.a=0,we.t1873=function(t,a,e,n,r){var s="";return s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("notifications__item nb-island ns-action")},r.s="span",r.a["data-click-action"]=new yr.scalarAttr("app.openSlider"),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var e={};return e.id=yr.nodeset2data(t.s(ec,a)),e.idContext=yr.nodeset2data(me("idContext",a,[])),e}()))),r.a["data-metrika-params"]=new yr.scalarAttr(yr.externals.join(yr.array2nodeset(function(){var t=[];return t.push("interface elements"),t.push("image editor"),t.push("complete"),t.push("click"),t}()))),r.a["data-metrika-click"]=new yr.scalarAttr("count"),s+=he(r),s+='<div class="notifications__text">',s+='Отредактированная копия «<span class="notifications__link">'+yr.externals.entityify(be(t.s(Ii,a)))+"</span>"+"» сохранена",s+="</div>",s+="</span>"},we.t1873.j=ac,we.t1873.a=0,we.t1874=function(t,a,e,n,r){var s="";return s+=he(r),s+="Ошибка редактирования"},we.t1874.j=rc,we.t1874.a=0,we.t1875=function(t,a,e,n,r){var s="";return s+=he(r),ce("vkontakte",me("service",a,[]))?s+=ce(1,me("count",a,[]))?"Фото опубликовано во ВКонтакте":"Все фото опубликованы во ВКонтакте":ce("facebook",me("service",a,[]))?s+=ce(1,me("count",a,[]))?"Фото опубликовано в Facebook":"Все фото опубликованы в Facebook":ce("odnoklassniki",me("service",a,[]))?s+=ce(1,me("count",a,[]))?"Фото опубликовано в Одноклассники":"Все фото опубликованы в Одноклассники":ce("mailru",me("service",a,[]))&&(s+=ce(1,me("count",a,[]))?"Фото опубликовано в Мой Мир":"Все фото опубликованы в Мой Мир"),s},we.t1875.j=sc,we.t1875.a=0,we.t1876=function(t,a,e,n,r){var s="";return s+=he(r),ce("vkontakte",me("service",a,[]))?s+="Опубликовать фото во ВКонтакте не удалось":ce("facebook",me("service",a,[]))?s+="Опубликовать фото в Facebook не удалось":ce("odnoklassniki",me("service",a,[]))?s+="Опубликовать фото в Одноклассники не удалось":ce("mailru",me("service",a,[]))&&(s+="Опубликовать фото в Мой Мир не удалось"),s},we.t1876.j=ic,we.t1876.a=0,we.t1877=function(t,a,e,n,r){var s="";return s+=he(r),ce("vkontakte",me("service",a,[]))?s+="Во ВКонтакте удалось опубликовать только часть фото":ce("facebook",me("service",a,[]))?s+="В Facebook удалось опубликовать только часть фото":ce("odnoklassniki",me("service",a,[]))?s+="В Одноклассники удалось опубликовать только часть фото":ce("mailru",me("service",a,[]))&&(s+="В Мой Мир удалось опубликовать только часть фото"),s},we.t1877.j=oc,we.t1877.a=0,we.t1878=function(t,a,e,n,r){var s="",i="",o={a:{}};i+=he(o),i+='&lt;a class="_link" href="'+le(me("linkDownloads",a,[]))+'"&gt;',i+="папку «Загрузки»",i+="&lt;/a&gt;";var c=i;return s+=he(r),ce("dir",me("typeSrc",a,[]))&&ce("progressing",me("status",a,[]))&&(s+="«"+yr.externals.entityify(pe("nameSrc",a))+"» сохраняется в "+ye(c)+" на вашем Яндекс.Диске. Это может занять некоторое время."),ce("dir",me("typeSrc",a,[]))&&ce("done",me("status",a,[]))&&(s+="Папка сохранена на ваш Яндекс.Диск в "+ye(c)+"."),ce("file",me("typeSrc",a,[]))&&ce("done",me("status",a,[]))&&(s+="Файл сохранен на ваш Яндекс.Диск в "+ye(c)+"."),s},we.t1878.j=cc,we.t1878.a=0,we.t1879=function(t,a,e,n,r){var s="";return s+=he(r),s+=ce("dir",me("typeSrc",a,[]))?"Не удалось сохранить папку на Диск.":"Не удалось сохранить файл на Диск.",s+=" ",s+=ce("NO_SPACE",me("reason",a,[]))?"Недостаточно свободного места.":"Повторите попытку позже."},we.t1879.j=lc,we.t1879.a=0,we.t1880=function(t,a,e,n,r){var s="";return s+=he(r),s+="Ведутся технические работы. Файлы доступны только для просмотра и скачивания."},we.t1880.j=dc,we.t1880.a=0,we.t1881=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось создать альбом"},we.t1881.j=uc,we.t1881.a=0,we.t1882=function(t,a,e,n,r){var s="";return s+=he(r),s+="Альбом «"+yr.externals.entityify(pe("title",a))+"» был удален"},we.t1882.j=bc,we.t1882.a=0,we.t1883=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить альбом «"+yr.externals.entityify(pe("title",a))+"»"},we.t1883.j=vc,we.t1883.a=0,we.t1884=function(t,a,e,n,r){var s="";return s+=he(r),s+="Публичная ссылка на альбом «"+yr.externals.entityify(be(t.s(yc,a)))+"» удалена"},we.t1884.j=fc,we.t1884.a=0,we.t1885=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось опубликовать альбом «"+yr.externals.entityify(be(t.s(yc,a)))+"»"},we.t1885.j=pc,we.t1885.a=0,we.t1886=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить публичную ссылку на альбом «"+yr.externals.entityify(be(t.s(yc,a)))+"»"},we.t1886.j=_c,we.t1886.a=0,we.t1887=function(t,a,e,n,r){var s="",i="",o={a:{}};i+=he(o),i+="<a",o.a={"class":new yr.scalarAttr("_link ns-action")},o.s="a",o.a["data-click-action"]=new yr.scalarAttr("album.open"),o.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var e={};return e.url=yr.nodeset2data(t.s(hc,a)),e}()))),o.a["data-metrika-click"]=new yr.scalarAttr("count"),o.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,albums"),i+=he(o),i+=fe(yr.externals.entityify(be(t.s(wc,a)))),i+="</a>";var c=i;return s+=he(r),s+=ce("half",me("typeAddition",a,[]))?yr.externals.capitalize(ye(__i18n__.i18n.convert(["один новый файл",pe("count",a)+" новый файл",pe("count",a)+" новых файла",pe("count",a)+" новых файлов"],pe("count",a))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],pe("count",a))+" в альбом «"+ye(c)+"»")):yr.externals.capitalize(ye(__i18n__.i18n.convert(["один файл",pe("count",a)+" файл",pe("count",a)+" файла",pe("count",a)+" файлов"],pe("count",a))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],pe("count",a))+" в альбом «"+ye(c)+"»"))},we.t1887.j=mc,we.t1887.a=0,we.t1888=function(t,a,e,n,r){var s="";return s+=he(r),s+=ce("none",me("typeAddition",a,[]))?"Выбранные файлы уже находятся в альбоме":"Не удалось добавить "+__i18n__.i18n.convert(["один файл",yr.externals.entityify(pe("count",a))+" файл",yr.externals.entityify(pe("count",a))+" файла",yr.externals.entityify(pe("count",a))+" файлов"],yr.externals.entityify(pe("count",a)))+" в альбом «"+yr.externals.entityify(be(t.s(wc,a)))+"»"},we.t1888.j=gc,we.t1888.a=0,we.t1889=function(t,a,e,n,r){var s="",i="",o={a:{}};i+=he(o),i+='&lt;a class="_link" href="'+le(me("hrefSrc",a,[]))+'"&gt;',i+=ce("file",me("typeSrc",a,[]))?"папку «Загрузки»":fe(yr.externals.entityify(pe("nameSrc",a))),i+="&lt;/a&gt;";var c=i;return s+=he(r),s+=ce("file",me("typeSrc",a,[]))?"Файл сохранен на ваш Яндекс.Диск в "+ye(c)+".":"Альбом «"+ye(c)+"» сохранен на ваш Яндекс.Диск"},we.t1889.j=Ac,we.t1889.a=0,we.t1890=function(t,a,e,n,r){var s="",i="";i+='<a class="_link" target="_blank" href="'+be(me("hrefSrc",a,[]))+'">',i+=pe("nameSrc",a),i+="</a>";var o=i;return s+=he(r),s+="«"+o+"» сохраняется на ваш Яндекс.Диск. Это может занять некоторое время."},we.t1890.j=xc,we.t1890.a=0,we.t1891=function(t,a,e,n,r){var s="";return s+=he(r),s+=ce("file",me("typeSrc",a,[]))?"Не удалось сохранить файл на Диск.":"Альбом «"+yr.externals.entityify(pe("nameSrc",a))+"» не удалось сохранить на ваш Яндекс.Диск.",s+=" ",s+=ce("NO_SPACE",me("reason",a,[]))?"Недостаточно свободного места.":"Повторите попытку позже."},we.t1891.j=jc,we.t1891.a=0,we.t1892=function(t,a,e,n,r){var s="";return s+=he(r),s+="Файл удален из альбома"},we.t1892.j=kc,we.t1892.a=0,we.t1893=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось удалить файл из альбома"},we.t1893.j=zc,we.t1893.a=0,we.t1894=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось переименовать альбом"},we.t1894.j=Cc,we.t1894.a=0,we.t1895=function(t,a,e,n,r){var s="";return s+=he(r),s+="Название альбома не может содержать символ «/»"},we.t1895.j=Mc,we.t1895.a=0,we.t1896=function(t,a,e,n,r){var s="";return s+=he(r),s+="Обложка успешно изменена"},we.t1896.j=Pc,we.t1896.a=0,we.t1897=function(t,a,e,n,r){var s="";return s+=he(r),s+="Не удалось изменить обложку"},we.t1897.j=Sc,we.t1897.a=0,we.t1898=function(t,a,e,n,r){var s="",i=t.k("k24","environment",a.doc.root);t.n(Tc,i);var o="",c={a:{}};o+=he(c),o+='<span class="_link js-page-reload">',o+="обновить страницу",o+="</span>";var l=o;if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("page-error")},r.s="div",de(t.n(qc,i))){var d=r.a["class"];r.a["class"]=d?d.addscalar(" page-error_mobile"):new yr.scalarAttr(" page-error_mobile")}return s+=he(r),s+="Сервер временно недоступен, попробуйте "+ye(l),s+="</div>"},we.t1898.j=Dc,we.t1898.a=0,we.t1899=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-layer nb-layer_type_normal")},r.s="div",s+=t.a(t,0,t.s(Ec,a.doc.root),"ns-view",r),s+=he(r),s+="</div>",s+='<div class="nb-layer nb-layer_type_fixed">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_top")},r.s="div",s+=t.a(t,0,t.s(Fc,a.doc.root),"ns-view",r),s+=he(r),s+="</div>",s+="</div>"},we.t1899.j=Hc,we.t1899.a=0,we.t1900=function(t,a,e,n,r){var s="",i=t.n(Xs,t.k("k24","resource",a.doc.root));return s+=he(r),s+=" content-public",de(t.n(ei,t.k("k24","resource",a.doc.root)))&&(ce("book",i)||ce("image",i)||ce("document",i))&&(s+=" wrapper-preview-responsive"),s},we.t1900.j=Lc,we.t1900.a=0,we.t1901=function(t,a,e,n,r){var s="";t.k("k24","config",a.doc.root);var i=t.k("k24","userCurrent",a.doc.root);if(s+=he(r),s+='<div class="nb-layer nb-layer_type_public content-public__content">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_nav content-public__navigation")},r.s="div",!de(t.n(Vc,i))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" content-public__navigation_hidden"):new yr.scalarAttr(" content-public__navigation_hidden")}return s+=t.a(t,0,t.s(Rc,a.doc.root),"ns-view",r),s+=he(r),s+="</div>",s+=t.a(t,0,t.s(Bc,a.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Oc,a.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Yc,a.doc.root),"ns-view",r),s+="</div>",s+='<div class="nb-layer nb-layer_type_fixed">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_top")},r.s="div",s+=t.a(t,0,t.s(Fc,a.doc.root),"ns-view",r),s+=he(r),s+="</div>",s+='<div class="nb-panel nb-panel_aside content-public__aside">',s+="<div",r.a={"class":new yr.scalarAttr("content-public__aside-inner")},r.s="div",s+=t.a(t,0,t.s(Ic,a.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Nc,a.doc.root),"ns-view",r),s+=he(r),s+="</div>",s+="</div>",s+=t.a(t,0,t.s(Qc,a.doc.root),"ns-view",r),s+="</div>"},we.t1901.j=Lc,we.t1901.a=0,we.t1902=function(t,a,e,n,r){var s="";return s+=he(r),s+=" player-audio-public player-audio-public_inactive"},we.t1902.j=Gc,we.t1902.a=0,we.t1903=function(t,a,e,n,r){var s="";return s+=t.a(t,0,t.k("k24","resource",a.doc.root),"player-audio-public",r)},we.t1903.j=Gc,we.t1903.a=0,we.t1904=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f772",a,e,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(me("icon",a,[])),t["class"]="js-icon _hidden",t}())),s+='<div class="js-player">',s+='<div class="player-audio-public__title">',s+=le(me("name",a,[])),s+="</div>",s+='<div class="player-audio-public__slider player-audio-public__slider_inactive">',s+='<div class="player-audio-public__time player-audio-public__time_current js-time-current">',s+="00:00",s+="</div>",s+='<div class="player-audio-public__time player-audio-public__time_total js-time-total">',s+="--:--",s+="</div>",s+=t.f("f746",a,e,n,r,yr.object2nodeset(function(){var t={};t.size="s";var a="",e={a:{}};a+=he(e),a+='<div class="player-audio-public__handle-content"></div>',t.content=a,t["class"]="player-audio-public__slider-track js-slider";var a={},e={a:{}};return a["class"]="player-audio-public__handle",t.handle=a,t}())),s+="</div>",s+='<div class="player-audio-public__actions">',s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};t["static"]=!0,t.icon="play",t["class"]="player-audio-public__button player-audio-public__play js-play ns-action";var e={};return e["data-click-action"]="resource.play",e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t}())),t.attrs=e,t}())),s+=t.f("f724",a,e,n,r,yr.object2nodeset(function(){var t={};
t["static"]=!0,t.icon="pause",t["class"]="player-audio-public__button player-audio-public__pause ns-action";var e={};return e["data-click-action"]="resource.pause",e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("id",a,[])),t}())),t.attrs=e,t}())),s+="</div>",s+="</div>"},we.t1904.j=Xr,we.t1904.a=0,we.t1905=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-flash _init"),"data-nb":new yr.scalarAttr("player-video-flash")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<div class="player-video-flash__viewport" id="'+ve(yr.externals["nb-uniq"]())+'"></div>',s+="</div>"},we.t1905.j=Uc,we.t1905.a=0,we.t1906=function(t,a,e,n,r){var s="";return s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-yandex _init"),"data-nb":new yr.scalarAttr("player-video-yandex")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+='<div class="player-video-yandex__viewport" id="'+ve(yr.externals["nb-uniq"]())+'"></div>',s+="</div>"},we.t1906.j=Xc,we.t1906.a=0,we.t1907=function(t,a,e,n,r){var s="",i=be(t.s(Kc,a))/be(t.s(Zc,a)),o="";.75==i?o+="3:4":i==16/9&&(o+="16:9");var c=o;if(s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-html player-video-html_paused _init"),"data-nb":new yr.scalarAttr("player-video-html")},r.s="div",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),s+=he(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-html__viewport js-video-viewport"),style:new yr.scalarAttr("width:"+be(t.s(Kc,a))+"px;height:"+be(t.s(Zc,a))+"px;")},r.s="div",_e("preview",a)){var l=r.a.style;r.a.style=l?l.addscalar("background-image:url('"+be(me("preview",a,[]))+"')"):new yr.scalarAttr("background-image:url('"+be(me("preview",a,[]))+"')")}return s+=he(r),s+='<div class="player-video-html__cover js-toggle"></div>',s+='<div class="player-video-html__info">',s+='<div class="player-video-html__title">',s+=fe(yr.externals.stringCrop(pe("title",a),80)),s+="</div>",s+="</div>",s+=t.f("f771",a,e,n,r,yr.object2nodeset(function(){var t={};return t["class"]="player-video-html__start js-start",t.size="l",t}())),s+=t.f("f792",a,e,n,r,function(){var t={};return t.resolution=c,t.resolutions=yr.nodeset2data(me("resolutions",a,[])),t}()),s+='<video class="player-video-html__video js-video-el" preload="auto" id="video-'+ve(yr.externals["nb-uniq"]())+'" data-resolution="'+ve(c)+'"></video>',s+="</div>",s+="</div>"},we.t1907.j=Wc,we.t1907.a=0,we.t1908=function(t,a,e,n,r){var s="";return s+=he(r),s+=" player-video"},we.t1908.s=[Jc,$c,tl],we.t1908.a=[0,0,0],we.t1909=function(t,a,e,n,r){var s="";return s+=he(r),s+=t.f("f781",a,e,n,r,yr.object2nodeset(function(){var t={};return t.centered=!0,t}()))},we.t1909.s=[Jc,$c,tl],we.t1909.a=[0,0,0],we.t1910=function(t,a,e,n,r){var s="",i=t.k("k24","environment",a.doc.root),o=t.k("k24","videoInfo",a.doc.root),c=t.k("k24","resource",a.doc.root),l=t.k("k24","stateResource",a.doc.root),d=t.n(al,o);if(s+=he(r),ce("flv",d))s+=t.f("f789",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="js-player";var n={};return n["data-nb-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.urlFlash=yr.nodeset2data(t.n(ul,t.v("v2222",a.doc.root))),e.lang=yr.nodeset2data(t.n(Bs,i)),e.preview=yr.nodeset2data(t.n(ri,c)),e.host=yr.nodeset2data(t.n(ll,o)),e.stid=yr.nodeset2data(t.n(il,o)),e.dimension=yr.nodeset2data(t.n(sl,o)),e.autoplay=yr.nodeset2data(t.n(cl,l)),e}())),e.attrs=n,e}()));else if(ce("yavideo",d))s+=t.f("f790",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="js-player";var n={};return n["data-nb-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.hostVideo=yr.nodeset2data(t.n(el,t.v("v2222",a.doc.root))),e.authorVideo=yr.nodeset2data(t.n(nl,o)),e.storageVideo=yr.nodeset2data(t.n(rl,o)),e.dimension=yr.nodeset2data(t.n(sl,o)),e.lang=yr.nodeset2data(t.n(Bs,i)),e.stid=yr.nodeset2data(t.n(il,o)),e.token=yr.nodeset2data(t.n(ol,o)),e.autoplay=yr.nodeset2data(t.n(cl,l)),e.extended=yr.externals.isParent("/yavideo",be(t.n(wn,c))),e}())),e.attrs=n,e}()));else if(ce("html",d)){var u={};u.dimension=yr.nodeset2data(t.n(sl,o)),u.host=yr.nodeset2data(t.n(ll,o)),u.stid=yr.nodeset2data(t.n(il,o)),u.isIOS=ce("iOS",t.n(Kr,i)),u.isMobile=yr.nodeset2data(t.n(qc,i)),u.autoplay=yr.nodeset2data(t.n(cl,l)),u.duration=yr.nodeset2data(t.n(dl,o)),u.resolutions=yr.nodeset2data(t.n(yn,o)),u.preview=yr.nodeset2data(t.n(ri,c)),u.title=yr.nodeset2data(t.n(ke,c));var b=u;s+=t.f("f791",a,e,n,r,yr.externals["nb-extend"](yr.object2nodeset(function(){var t={};t["class"]="js-player";var a={};return a["data-nb-params"]=yr.externals.json(yr.object2nodeset(b)),t.attrs=a,t}()),yr.object2nodeset(b)))}return s},we.t1910.s=[Jc,$c,tl],we.t1910.a=[0,0,0],we.t1911=function(t,a,e,n,r){var s="";if(s+=he(r),s+="<a",r.a={"class":new yr.scalarAttr("item-nav")},r.s="a",s+=t.a(t,0,t.s(qe,a),"nb-main-attrs",r),_e("isCurrent",a)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" item-nav_current"):new yr.scalarAttr(" item-nav_current")}return s+=he(r),_e("content",a)&&(s+=pe("content",a)),_e("count",a)&&(s+='<span class="item-nav__count">',pe("count",a)>99?s+=" 99+":pe("count",a)>0&&(s+=" +"+le(me("count",a,[]))),s+="</span>"),s+="</a>"},we.t1911.j=bl,we.t1911.a=0,we.t1912=function(t,a,e,n,r){var s="";return s+=he(r),s+=" slices__item slices__item_mail"},we.t1912.j=vl,we.t1912.a=0,we.t1913=function(t,a,e,n,r){var s="",i=t.n(fl,t.k("k24","slices",a.doc.root));return s+=he(r),s+=t.f("f793",a,e,n,r,yr.object2nodeset(function(){var a={};a.content=yr.nodeset2data(t.n(ke,i));var e={};return e.href=yr.nodeset2data(t.n(qn,i)),a.attrs=e,a["class"]="js-link-mail",a}()))},we.t1913.j=vl,we.t1913.a=0,we.t1914=function(t,a,e,n,r){var s="",i=t.n(fl,t.k("k24","slices",a.doc.root));return s+=he(r),s+=t.f("f793",a,e,n,r,yr.object2nodeset(function(){var e={};e.content=yr.nodeset2data(t.n(ke,i)),e.count=yr.nodeset2data(t.n(Ui,t.k("k24","counterMail",a.doc.root)));var n={};return n.href=yr.nodeset2data(t.n(qn,i)),e.attrs=n,e["class"]="js-link-mail",e}()))},we.t1914.j=vl,we.t1914.a=0,we.t1915=function(t,a,e,n,r){var s="";return s+=he(r),s+=" slices__item"},we.t1915.j=yl,we.t1915.a=0,we.t1916=function(t,a,e,n,r){var s="",i=t.n(pl,t.k("k24","slices",a.doc.root));return s+=he(r),s+=t.f("f793",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="ns-action";var n={},r="",s={a:{}};return r+=t.a(t,0,i,"slices__item-href",s),n.href=r,n["data-click-action"]="listing.openFolder",n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.id=yr.nodeset2data(t.n(nc,i)),a}())),n["data-metrika-click"]="count",n["data-metrika-params"]="navigation,via tabs,shared",e.attrs=n,e.content=yr.nodeset2data(t.n(ke,i)),e.isCurrent=oe(t.n(nc,i),t.s(_l,a.doc.root)),e}()))},we.t1916.j=yl,we.t1916.a=0,we.t1917=function(t,a,e,n,r){var s="",i=t.n(pl,t.k("k24","slices",a.doc.root));return s+=he(r),s+=t.f("f793",a,e,n,r,yr.object2nodeset(function(){var e={};e["class"]="ns-action";var n={},r="",s={a:{}};return r+=t.a(t,0,i,"slices__item-href",s),n.href=r,n["data-click-action"]="listing.openFolder",n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.id=yr.nodeset2data(t.n(nc,i)),a}())),n["data-metrika-click"]="count",n["data-metrika-params"]="navigation,via tabs,shared",e.attrs=n,e.content=yr.nodeset2data(t.n(ke,i)),e.count=t.n(ml,t.k("k24","invitesFolder",a.doc.root)).length,e.isCurrent=oe(t.n(nc,i),t.s(_l,a.doc.root)),e}()))},we.t1917.j=yl,we.t1917.a=0,we.t1918=function(t,a,e,n,r){var s="";return s+=he(r),s+=" slices"},we.t1918.j=hl,we.t1918.a=0,we.t1919=function(t,a,e,n,r){var s="",i="slices__popup-"+yr.externals["nb-uniq"]();s+=he(r);for(var o=t.n(wl,t.k("k24","slices",a.doc.root)),c=0,l=o.length;l>c;c++){var d=o[c];s+="<div",r.a={"class":new yr.scalarAttr("slices__item-wrap js-item"),"data-id":new yr.scalarAttr(be(me("id",d,[])))},r.s="div",ce("shared",me("id",d,[]))?s+=t.a(t,0,t.s(jl,d.doc.root),"ns-view",r):ce("linkMail",me("id",d,[]))?s+=t.a(t,0,t.s(gl,d.doc.root),"ns-view",r):(s+=he(r),s+=t.f("f793",d,c,l,r,yr.object2nodeset(function(){var a={},e="",n={a:{}};e+="slices__item ns-action",ce("trash",me("id",d,[]))&&(e+=" js-trash"),(ce("/albums",me("idContext",d,[]))||ce("/photo",me("idContext",d,[])))&&(e+=" slices__item_nda"),a["class"]=e;var e={},n={a:{}},r="",s={a:{}};r+=t.a(t,0,t.s(qe,d),"slices__item-href",s),e.href=r,_e("idContext",d)&&(e["data-click-action"]="listing.openFolder",e["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("idContext",d,[])),t.from="tabs",t}()))),a.attrs=e,a.isCurrent=oe(me("id",d,[]),t.s(Al,d.doc.root))||ce("albums",me("id",d,[]))&&de(t.s(xl,d.doc.root));var e="",n={a:{}};return e+=t.a(t,0,t.s(qe,d),"slices__item-content",n),a.content=e,a}()))),s+=he(r),s+="<span",r.a={"class":new yr.scalarAttr("slices__item slices__item_more js-more")},r.s="span",r.a["data-nb"]=new yr.scalarAttr("popup-toggler"),r.a["data-nb-popup-toggler"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=i,t.how="fixed",t}()))),r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("actions,show more dialog,navigation tabs"),s+=he(r),s+="...",s+="</span>",s+="</div>"}return s+=t.f("f728",a,e,n,r,yr.object2nodeset(function(){var e={};e.id=i,e["class"]="slices__popup";var n={};n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.how="fixed",t}())),e.attrs=n;for(var n=[],r=t.n(kl,t.k("k24","slices",a.doc.root)),s=0,o=r.length;o>s;s++){var c=r[s],l={};l.id=yr.nodeset2data(me("id",c,[]));var d="",u={a:{}};d+=t.a(t,0,t.s(qe,c),"slices__item-href",u),l.href=d,l.content=yr.nodeset2data(me("name",c,[]));var d=[],u={a:{}};d.push("slices__item-popup js-item-popup"),oe(me("id",c,[]),t.s(Al,c.doc.root))&&d.push("slices__item-popup_current"),_e("hidden",c)&&d.push("slices__item-popup_hidden js-hidden"),_e("inMenu",c)||d.push("slices__item-popup_hidden"),d.push("ns-action"),l["class"]=d;var d={},u={a:{}};d["data-click-action"]="listing.openFolder",d["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(me("idContext",c,[])),t.from="tabs",t}())),d["data-id"]=yr.nodeset2data(me("id",c,[])),l.attrs=d,n.push(l)}return e.menu=n,e}()))},we.t1919.j=hl,we.t1919.a=0,we.t1920=function(t,a,e,n,r){var s="";return s+=he(r),s+=le(me("name",a,[]))},we.t1920.j=kl,we.t1920.a=0,we.t1921=function(t,a,e,n,r){var s="";return s+=he(r),s+='<span class="slices__name-visible">',s+=le(me("name",a,[])),s+="</span>",s+='<span class="slices__name-hidden">',s+="Удалить",s+="</span>"},we.t1921.j=zl,we.t1921.a=0,we.t1922=function(t,a,e,n,r){var s="";return s+=he(r),_e("href",a)?s+=le(me("href",a,[])):(ce("public",t.s(Cl,a.doc.root))&&(s+=le(t.n(ns,t.k("k24","config",a.doc.root)))),s+="/client"+fe(yr.externals.escapePath(pe("idContext",a)))),s},we.t1922.j=kl,we.t1922.a=0,we.matcher={"":{"":["t1687"],notification:["t1873","t1811","t1810","t1809"]},"ns-view":{"*":["t1688"]},"ns-build-view":{"*":["t1689"]},"ns-build-view-content":{"*":["t1690"]},"ns-view-add-class":{"*":["t1691"],asidePublic:["t1758","t1691"],directAsidePublic:["t1782","t1691"],directContentPublic:["t1784","t1691"],filePublic:["t1789","t1691"],notifications:["t1807","t1691"],contentPublic:["t1900","t1691"],playerAudioPublic:["t1902","t1691"],playerVideo:["t1908","t1691"],playerVideoMobile:["t1908","t1691"],playerVideoFilePublic:["t1908","t1691"],sliceLinkMail:["t1912","t1691"],sliceShared:["t1915","t1691"],slices:["t1918","t1691"]},"ns-view-add-attrs":{"*":["t1692"]},"ns-view-content":{"*":["t1693"],asidePublic:["t1759","t1693"],dialogAuthCopy:["t1779","t1693"],dialogAuth:["t1780","t1693"],directAsidePublic:["t1783","t1693"],directContentPublic:["t1785","t1693"],filePublic:["t1790","t1693"],footerPublic:["t1801","t1693"],formSearch:["t1804","t1693"],header:["t1806","t1693"],pageError:["t1898","t1693"],contentError:["t1899","t1693"],contentPublic:["t1901","t1693"],playerAudioPublic:["t1903","t1693"],playerVideo:["t1910","t1693"],playerVideoMobile:["t1910","t1693"],playerVideoFilePublic:["t1910","t1693"],sliceLinkMail:["t1914","t1693"],sliceShared:["t1917","t1693"],slices:["t1919","t1693"]},"ns-view-desc":{"*":["t1694"]},"ns-view-collection":{"*":["t1695"]},"ns-view-async-content":{"*":["t1696"],playerVideo:["t1909","t1696"],playerVideoMobile:["t1909","t1696"],playerVideoFilePublic:["t1909","t1696"],sliceLinkMail:["t1913","t1696"],sliceShared:["t1916","t1696"]},"ns-view-error-content":{"*":["t1697"]},"nb-main-attrs":{"*":["t1698"]},"nb-main-content":{"*":["t1699"]},nb:{ico:["t1700"],button:["t1701"],buttonLink:["t1702"],buttonSpan:["t1703"],buttonLabel:["t1704"],buttonAttach:["t1705"],popupMenu:["t1706"],popup:["t1709"],modalPopup:["t1710"],"radio-button":["t1711"],select:["t1712"],checkbox:["t1714"],input:["t1715"],textarea:["t1716"],inputSimple:["t1717"],textareaSimple:["t1718"],"input-group":["t1719"],progress:["t1720"],paranja:["t1721"],island:["t1722"],dropzone:["t1723"],loader:["t1724"],slider:["t1725"],tabs:["t1726"],arrow:["t1729","t1728","t1727"],header:["t1730"],user:["t1731"],suggest:["t1734"],toggler:["t1740"],"icon-social":["t1742","t1741"],qrcode:["t1745"],"button-copy":["t1747"],"popup-share":["t1748"],share:["t1752"],"item-details":["t1755"],"list-details":["t1756"],"checkbox-resource":["t1766"],"icon-start-play":["t1767"],"icon-resource":["t1768"],"logo-yandex":["t1771"],"form-auth":["t1774"],"popup-copy-auth":["t1778"],"yandex-direct":["t1781"],"loader-thin":["t1786"],"preview-resource":["t1788","t1787"],"switcher-locale":["t1798"],footer:["t1800"],"nb-arrow-service":["t1802"],"form-search":["t1803"],"popup-account":["t1805"],"player-video-flash":["t1905"],"player-video-yandex":["t1906"],"player-video-html":["t1907"],"item-nav":["t1911"]},"nb-popup-menu-content":{popupMenu:["t1707"]},"nb-popup-menu-content-item":{menu:["t1708"]},"nb-select-options":{"":["t1713"],select:["t1713"]},"nb-user-pic":{user:["t1732"]},"nb-user-name":{user:["t1733"],username:["t1738"],email:["t1739"]},"nb-suggest":{"":["t1735"],item:["t1737","t1736"]},"nb-icon-social-content":{"icon-social":["t1743"]},"nb-icon-social-attrs":{"icon-social":["t1744"]},"qrcode__content-popup":{qrcode:["t1746"]},"popup-share__content":{"popup-share":["t1749"]},"popup-share__item":{"*":["t1751","t1750"]},"nb-share-content":{services:["t1753"]},"nb-share-button":{visible:["t1754"]},"list-details-content":{"list-details":["t1757"]},"aside-public":{resource:["t1761","t1760"]},"aside-public__notification-save":{resource:["t1762"]},"aside-public__actions":{resource:["t1763"]},"aside-public__share":{resource:["t1764"]},"aside-public__details":{resource:["t1765"]},"nb-icon-resource-preview":{"icon-resource":["t1769"]},"nb-icon-resource-icon":{"icon-resource":["t1770"]},"logo-yandex__content":{"logo-yandex":["t1773","t1772"]},"nb-form-auth-content":{"form-auth":["t1775"]},"nb-form-auth-social-buttons":{"form-auth":["t1776"]},"nb-form-auth-popup-social":{"form-auth":["t1777"]},"file-public":{resource:["t1797","t1796","t1795","t1794","t1793","t1792","t1791"]},"nb-switcher-locale-content":{"*":["t1799"]},notification:{"":["t1808"]},"notification-inner":{notification:["t1812"]},message:{notification:["t1897","t1896","t1895","t1894","t1893","t1892","t1891","t1890","t1889","t1888","t1887","t1886","t1885","t1884","t1883","t1882","t1881","t1880","t1879","t1878","t1877","t1876","t1875","t1874","t1872","t1871","t1870","t1869","t1868","t1867","t1866","t1865","t1864","t1863","t1862","t1861","t1860","t1859","t1858","t1857","t1856","t1855","t1854","t1853","t1852","t1851","t1850","t1849","t1848","t1847","t1846","t1845","t1844","t1843","t1842","t1841","t1840","t1839","t1838","t1837","t1836","t1835","t1834","t1833","t1832","t1831","t1830","t1829","t1828","t1827","t1826","t1825","t1824","t1823","t1822","t1821","t1820","t1819","t1818","t1817","t1816","t1815","t1814","t1813"]},"player-audio-public":{resource:["t1904"]},"slices__item-content":{slice:["t1921","t1920"]},"slices__item-href":{slice:["t1922"]}},we.imports=[],yr.register("main",we)}(),__i18n__={},__i18n__.i18n=__i18n__.i18n||{},__i18n__.i18n.convert=function(t,a){var e=t.length;if(4==e&&1==a)return t[0];var n=a%100,r=a%10,s=2;return n>10&&20>=n?s=2:1==r?s=0:r>1&&5>r&&(s=1),4==e&&s++,t[s]},__i18n__.i18n["if"]=function(t,a,e){return t?a:e},__i18n__.i18n.index=function(t,a){return t[+a]},__i18n__.i18n.plural=function(t,a,e){return t>1?a:e};